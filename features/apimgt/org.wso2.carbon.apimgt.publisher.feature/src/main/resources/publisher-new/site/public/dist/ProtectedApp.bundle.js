(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1442:function(e,t,a){var n=a(1443);"string"==typeof n&&(n=[[e.i,n,""]]);var i={transform:void 0};a(467)(n,i);n.locals&&(e.exports=n.locals)},1443:function(e,t,a){(e.exports=a(466)(!1)).push([e.i,"body,html{height:100%}.redirect-flex-container{display:flex;flex-direction:column;height:100%;background:#efefef;margin:auto}.redirect-flex-container .redirect-grid-container{height:100vh}.redirect-flex-container .redirect-main-content{flex:1;align-items:flex-start;justify-content:center}.redirect-loadingbar{float:right}.redirect-paper{border-left:2px solid #f17a20;fontSize:medium;padding:15px}#react-root{height:100%}@media (max-width:601px){.redirect-paper{align-items:flex-start;display:flex;width:100%;height:100%}}",""])},1452:function(e,t,a){var n={"./af":976,"./af.js":976,"./ar":977,"./ar-dz":978,"./ar-dz.js":978,"./ar-kw":979,"./ar-kw.js":979,"./ar-ly":980,"./ar-ly.js":980,"./ar-ma":981,"./ar-ma.js":981,"./ar-sa":982,"./ar-sa.js":982,"./ar-tn":983,"./ar-tn.js":983,"./ar.js":977,"./az":984,"./az.js":984,"./be":985,"./be.js":985,"./bg":986,"./bg.js":986,"./bm":987,"./bm.js":987,"./bn":988,"./bn.js":988,"./bo":989,"./bo.js":989,"./br":990,"./br.js":990,"./bs":991,"./bs.js":991,"./ca":992,"./ca.js":992,"./cs":993,"./cs.js":993,"./cv":994,"./cv.js":994,"./cy":995,"./cy.js":995,"./da":996,"./da.js":996,"./de":997,"./de-at":998,"./de-at.js":998,"./de-ch":999,"./de-ch.js":999,"./de.js":997,"./dv":1e3,"./dv.js":1e3,"./el":1001,"./el.js":1001,"./en-SG":1002,"./en-SG.js":1002,"./en-au":1003,"./en-au.js":1003,"./en-ca":1004,"./en-ca.js":1004,"./en-gb":1005,"./en-gb.js":1005,"./en-ie":1006,"./en-ie.js":1006,"./en-il":1007,"./en-il.js":1007,"./en-nz":1008,"./en-nz.js":1008,"./eo":1009,"./eo.js":1009,"./es":1010,"./es-do":1011,"./es-do.js":1011,"./es-us":1012,"./es-us.js":1012,"./es.js":1010,"./et":1013,"./et.js":1013,"./eu":1014,"./eu.js":1014,"./fa":1015,"./fa.js":1015,"./fi":1016,"./fi.js":1016,"./fo":1017,"./fo.js":1017,"./fr":1018,"./fr-ca":1019,"./fr-ca.js":1019,"./fr-ch":1020,"./fr-ch.js":1020,"./fr.js":1018,"./fy":1021,"./fy.js":1021,"./ga":1022,"./ga.js":1022,"./gd":1023,"./gd.js":1023,"./gl":1024,"./gl.js":1024,"./gom-latn":1025,"./gom-latn.js":1025,"./gu":1026,"./gu.js":1026,"./he":1027,"./he.js":1027,"./hi":1028,"./hi.js":1028,"./hr":1029,"./hr.js":1029,"./hu":1030,"./hu.js":1030,"./hy-am":1031,"./hy-am.js":1031,"./id":1032,"./id.js":1032,"./is":1033,"./is.js":1033,"./it":1034,"./it-ch":1035,"./it-ch.js":1035,"./it.js":1034,"./ja":1036,"./ja.js":1036,"./jv":1037,"./jv.js":1037,"./ka":1038,"./ka.js":1038,"./kk":1039,"./kk.js":1039,"./km":1040,"./km.js":1040,"./kn":1041,"./kn.js":1041,"./ko":1042,"./ko.js":1042,"./ku":1043,"./ku.js":1043,"./ky":1044,"./ky.js":1044,"./lb":1045,"./lb.js":1045,"./lo":1046,"./lo.js":1046,"./lt":1047,"./lt.js":1047,"./lv":1048,"./lv.js":1048,"./me":1049,"./me.js":1049,"./mi":1050,"./mi.js":1050,"./mk":1051,"./mk.js":1051,"./ml":1052,"./ml.js":1052,"./mn":1053,"./mn.js":1053,"./mr":1054,"./mr.js":1054,"./ms":1055,"./ms-my":1056,"./ms-my.js":1056,"./ms.js":1055,"./mt":1057,"./mt.js":1057,"./my":1058,"./my.js":1058,"./nb":1059,"./nb.js":1059,"./ne":1060,"./ne.js":1060,"./nl":1061,"./nl-be":1062,"./nl-be.js":1062,"./nl.js":1061,"./nn":1063,"./nn.js":1063,"./pa-in":1064,"./pa-in.js":1064,"./pl":1065,"./pl.js":1065,"./pt":1066,"./pt-br":1067,"./pt-br.js":1067,"./pt.js":1066,"./ro":1068,"./ro.js":1068,"./ru":1069,"./ru.js":1069,"./sd":1070,"./sd.js":1070,"./se":1071,"./se.js":1071,"./si":1072,"./si.js":1072,"./sk":1073,"./sk.js":1073,"./sl":1074,"./sl.js":1074,"./sq":1075,"./sq.js":1075,"./sr":1076,"./sr-cyrl":1077,"./sr-cyrl.js":1077,"./sr.js":1076,"./ss":1078,"./ss.js":1078,"./sv":1079,"./sv.js":1079,"./sw":1080,"./sw.js":1080,"./ta":1081,"./ta.js":1081,"./te":1082,"./te.js":1082,"./tet":1083,"./tet.js":1083,"./tg":1084,"./tg.js":1084,"./th":1085,"./th.js":1085,"./tl-ph":1086,"./tl-ph.js":1086,"./tlh":1087,"./tlh.js":1087,"./tr":1088,"./tr.js":1088,"./tzl":1089,"./tzl.js":1089,"./tzm":1090,"./tzm-latn":1091,"./tzm-latn.js":1091,"./tzm.js":1090,"./ug-cn":1092,"./ug-cn.js":1092,"./uk":1093,"./uk.js":1093,"./ur":1094,"./ur.js":1094,"./uz":1095,"./uz-latn":1096,"./uz-latn.js":1096,"./uz.js":1095,"./vi":1097,"./vi.js":1097,"./x-pseudo":1098,"./x-pseudo.js":1098,"./yo":1099,"./yo.js":1099,"./zh-cn":1100,"./zh-cn.js":1100,"./zh-hk":1101,"./zh-hk.js":1101,"./zh-tw":1102,"./zh-tw.js":1102};function i(e){var t=r(e);return a(t)}function r(e){var t=n[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}i.keys=function(){return Object.keys(n)},i.resolve=r,e.exports=i,i.id=1452},1705:function(e,t){},1871:function(e,t){},1875:function(e,t){},1877:function(e,t){},2265:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(23),o=a.n(r),l=a(25),s=a(872),c=a.n(s),u=a(729),p=a.n(u),d=a(13),m=function(e){return i.a.createElement("div",null,i.a.createElement("div",{className:"message message-danger"},i.a.createElement("h4",null,i.a.createElement("i",{className:"icon fw fw-error"}),i.a.createElement(d.a,{id:"Base.Errors.PageNotfound.header",defaultMessage:"404 Page Not Found!"})),i.a.createElement("p",null,i.a.createElement(d.a,{id:"Base.Errors.PageNotfound.message.prefix",defaultMessage:"Sorry the page you are looking for"}),i.a.createElement("span",{style:{color:"green"}}," ",e.location.pathname," "),i.a.createElement(d.a,{id:"Base.Errors.PageNotfound.message.suffix",defaultMessage:"is not available."}))))};m.propTypes={location:o.a.shape({pathname:o.a.string}).isRequired};var f=m,h=a(842),g=function(e){var t=e.response,a=e.message||{};return i.a.createElement("div",null,i.a.createElement("div",{className:"message message-danger"},i.a.createElement(h.a,{variant:"h6",gutterBottom:!0},a.title),i.a.createElement(h.a,{variant:"subtitle1",gutterBottom:!0},a.body,i.a.createElement("span",{style:{color:"green"}}," ",t?t.statusText:""," ")),a.more))};g.defaultProps={message:{title:i.a.createElement(d.a,{id:"Base.Errors.ResourceNotfound.default_tittle",defaultMessage:"ResourceNotFound"}),body:i.a.createElement(d.a,{id:"Base.Errors.ResourceNotfound.default_body",defaultMessage:"No Error message give, Please give a proper error message when using `ResourceNotFound` Component"})}},g.propTypes={response:o.a.shape({statusText:o.a.string}).isRequired,message:o.a.shape({title:o.a.oneOfType([o.a.string,o.a.instanceOf(d.a)]),body:o.a.oneOfType([o.a.string,o.a.instanceOf(d.a)])})};var y=g,b=a(451),v=a(83),E=a(1);function w(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var C=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.client=(new v.a).getAPIClient(E.a.getCurrentEnvironment()).client}var t,a,n;return t=e,n=[{key:"_requestMetaData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{requestContentType:e["Content-Type"]||"application/json"}}}],(a=null)&&w(t.prototype,a),n&&w(t,n),e}();function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,i=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){i=!0,r=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw r}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function A(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function O(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function x(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function I(e,t){return!t||"object"!==P(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var D=function(e){function t(e,a,n,i){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=I(this,T(t).call(this));var o=i;for(var l in e instanceof Object?(o=e,E.a.deepFreeze(o)):(r.name=e,r.version=a,r.context=n,r.isDefaultVersion=!1,r.gatewayEnvironments=["Production and Sandbox"],r.transport=["http","https"],r.visibility="PUBLIC",r.endpointConfig={endpoint_type:"http",sandbox_endpoints:{url:""},production_endpoints:{url:""}}),r.apiType=t.CONSTS.API,r._data=o,o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l]);return r}var a,n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,C),a=t,i=[{key:"validateOpenAPIByFile",value:function(e){var t,a=this,n=(new v.a).getAPIClient(E.a.getCurrentEnvironment()).client;return t={file:e,"Content-Type":"multipart/form-data"},n.then(function(e){return e.apis.Validation.validateOpenAPIDefinition(t,a._requestMetaData({"Content-Type":"multipart/form-data"}))})}},{key:"validateOpenAPIByUrl",value:function(e){var t,a,n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=(new v.a).getAPIClient(E.a.getCurrentEnvironment()).client;return t={url:e,"Content-Type":"multipart/form-data"},a=r.then(function(e){return e.apis.Validation.validateOpenAPIDefinition(t,n._requestMetaData({"Content-Type":"multipart/form-data"}))}),i?a.then(i):a}},{key:"validateGraphQLFile",value:function(e){var t=this;return(new v.a).getAPIClient(E.a.getCurrentEnvironment()).client.then(function(a){return a.apis.Validation.post_apis_validate_graphql_schema({type:"GraphQL",file:e,"Content-Type":"multipart/form-data"},t._requestMetaData({"Content-Type":"multipart/form-data"}))})}},{key:"all",value:function(e){var a="";if(e&&"query"in e){for(var n=0,i=Object.entries(e.query);n<i.length;n++){var r=S(i[n],2),o=r[0],l=r[1];a+="".concat(o,":").concat(l,",")}e.query=a}return(new v.a).getAPIClient(E.a.getCurrentEnvironment()).client.then(function(t){return t.apis.APIs.get_apis(e,C._requestMetaData())}).then(function(e){return e.obj.apiType=t.CONSTS.API,e})}},{key:"allProducts",value:function(e){var t="";if(e&&"query"in e){for(var a=0,n=Object.entries(e.query);a<n.length;a++){var i=S(n[a],2),r=i[0],o=i[1];t+="".concat(r,":").concat(o,",")}e.query=t}return(new v.a).getAPIClient(E.a.getCurrentEnvironment()).client.then(function(t){return t.apis["API Products"].get_api_products(e,C._requestMetaData())})}},{key:"search",value:function(e){return(new v.a).getAPIClient(E.a.getCurrentEnvironment()).client.then(function(t){return t.apis["Unified Search"].get_search(e,C._requestMetaData())})}},{key:"get",value:function(e){var a=this;return(new v.a).getAPIClient(E.a.getCurrentEnvironment()).client.then(function(t){return t.apis.APIs.get_apis__apiId_({apiId:e},a._requestMetaData())}).then(function(e){return new t(e.body)})}},{key:"getProduct",value:function(e){var a=this;return(new v.a).getAPIClient(E.a.getCurrentEnvironment()).client.then(function(t){return t.apis["API Products"].get_api_products__apiProductId_({apiProductId:e},a._requestMetaData())}).then(function(e){return new t(e.body)})}},{key:"delete",value:function(e){var t=this;return(new v.a).getAPIClient(E.a.getCurrentEnvironment()).client.then(function(a){return a.apis.APIs.delete_apis__apiId_({apiId:e},t._requestMetaData())})}},{key:"deleteProduct",value:function(e){var t=this;return(new v.a).getAPIClient(E.a.getCurrentEnvironment()).client.then(function(a){return a.apis["API Products"].delete_api_products__apiProductId_({apiProductId:e},t._requestMetaData())})}},{key:"policies",value:function(e){var t=this;return(new v.a).getAPIClient(E.a.getCurrentEnvironment()).client.then(function(a){return a.apis["Throttling Policies"].getAllThrottlingPolicies({policyLevel:e},t._requestMetaData())})}},{key:"getEndpointCertificates",value:function(){return(new v.a).getAPIClient(E.a.getCurrentEnvironment()).client.then(function(e){return e.apis["Endpoint Certificates"].get_endpoint_certificates()})}},{key:"addCertificate",value:function(e,t,a){return(new v.a).getAPIClient(E.a.getCurrentEnvironment()).client.then(function(n){return n.apis["Endpoint Certificates"].post_endpoint_certificates({certificate:e,endpoint:t,alias:a})},this._requestMetaData({"Content-Type":"multipart/form-data"}))}},{key:"addClientCertificate",value:function(e,t,a,n){return(new v.a).getAPIClient(E.a.getCurrentEnvironment()).client.then(function(i){return i.apis["Client Certificates"].post_apis__apiId__client_certificates({certificate:t,alias:n,apiId:e,tier:a})},this._requestMetaData({"Content-Type":"multipart/form-data"}))}},{key:"getAllClientCertificates",value:function(e){var t=this;return(new v.a).getAPIClient(E.a.getCurrentEnvironment()).client.then(function(a){return a.apis["Client Certificates"].get_apis__apiId__client_certificates({apiId:e},t._requestMetaData())},this._requestMetaData({"Content-Type":"multipart/form-data"}))}},{key:"getClientCertificateStatus",value:function(e,t){return(new v.a).getAPIClient(E.a.getCurrentEnvironment()).client.then(function(a){return a.apis["Client Certificates"].get_apis__apiId__client_certificates__alias_({alias:e,apiId:t})},this._requestMetaData())}},{key:"deleteClientCertificate",value:function(e,t){return(new v.a).getAPIClient(E.a.getCurrentEnvironment()).client.then(function(a){return a.apis["Client Certificates"].delete_apis__apiId__client_certificates__alias_({alias:e,apiId:t})},this._requestMetaData())}},{key:"getCertificateStatus",value:function(e){return(new v.a).getAPIClient(E.a.getCurrentEnvironment()).client.then(function(t){return t.apis["Endpoint Certificates"].get_endpoint_certificates__alias_({alias:e})},this._requestMetaData())}},{key:"deleteEndpointCertificate",value:function(e){return(new v.a).getAPIClient(E.a.getCurrentEnvironment()).client.then(function(t){return t.apis["Endpoint Certificates"].delete_endpoint_certificates__alias_({alias:e})},this._requestMetaData())}},{key:"getMediationPolicies",value:function(e){var t=this;return(new v.a).getAPIClient(E.a.getCurrentEnvironment()).client.then(function(a){return a.apis["API Mediation Policies"].apisApiIdMediationPoliciesGet({apiId:e},t._requestMetaData())})}},{key:"addMediationPolicy",value:function(e,t,a){var n=this;return(new v.a).getAPIClient(E.a.getCurrentEnvironment()).client.then(function(i){return i.apis["API Mediation Policies"].apisApiIdMediationPoliciesPost({apiId:t,type:a.toLowerCase(),mediationPolicyFile:e},n._requestMetaData({"Content-Type":"multipart/form-data"}))})}},{key:"getMediationPolicy",value:function(e,t){var a=this;return(new v.a).getAPIClient(E.a.getCurrentEnvironment()).client.then(function(n){return n.apis["API Mediation Policy"].apisApiIdMediationPoliciesMediationPolicyIdGet({mediationPolicyId:e,apiId:t},a._requestMetaData())})}},{key:"deleteMediationPolicy",value:function(e,t){var a=this;return(new v.a).getAPIClient(E.a.getCurrentEnvironment()).client.then(function(n){return n.apis["API Mediation Policy"].apisApiIdMediationPoliciesMediationPolicyIdDelete({mediationPolicyId:e,apiId:t},a._requestMetaData())})}},{key:"updateMediationPolicyContent",value:function(e,t){var a=this;return(new v.a).getAPIClient(E.a.getCurrentEnvironment()).client.then(function(n){return n.apis["API Mediation Policy"].apisApiIdMediationPoliciesMediationPolicyIdContentPut({mediationPolicyId:e,apiId:t,type:"in"},a._requestMetaData({"Content-Type":"multipart/form-data"}))})}},{key:"getMediationPolicyContent",value:function(e,t){var a=this;return(new v.a).getAPIClient(E.a.getCurrentEnvironment()).client.then(function(n){return n.apis["API Mediation Policy"].apisApiIdMediationPoliciesMediationPolicyIdContentGet({mediationPolicyId:e,apiId:t},a._requestMetaData({"Content-Type":"multipart/form-data"}))})}},{key:"getGlobalMediationPolicies",value:function(){var e=this;return(new v.a).getAPIClient(E.a.getCurrentEnvironment()).client.then(function(t){return t.apis["Global Mediation Policies"].getAllGlobalMediationPolicies({},e._requestMetaData())})}},{key:"getGlobalMediationPolicyContent",value:function(e){var t=this;return(new v.a).getAPIClient(E.a.getCurrentEnvironment()).client.then(function(a){return a.apis["Global Mediation Policy"].getGlobalMediationPolicyContent({mediationPolicyId:e},t._requestMetaData())})}},{key:"getAllExternalStores",value:function(){var e=this;return(new v.a).getAPIClient(E.a.getCurrentEnvironment()).client.then(function(t){return t.apis["External Stores"].getAllExternalStores(e._requestMetaData())})}},{key:"getPublishedExternalStores",value:function(e){var t=this;return(new v.a).getAPIClient(E.a.getCurrentEnvironment()).client.then(function(a){return a.apis["External Stores"].getAllPublishedExternalStoresByAPI({apiId:e},t._requestMetaData)})}},{key:"publishAPIToExternalStores",value:function(e,t){var a=this;return(new v.a).getAPIClient(E.a.getCurrentEnvironment()).client.then(function(n){return n.apis["External Stores"].publishAPIToExternalStores({apiId:e,externalStoreIds:t},a._requestMetaData)})}}],(n=[{key:"_requestMetaData",value:function(){C._requestMetaData()}},{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a={},n=["_data","client","apiType"].concat(O(t));for(var i in e)n.includes(i)||(a[i]=e[i]);return a}},{key:"create",value:function(e){var t,a,n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"Blob"===e.constructor.name||"File"===e.constructor.name?(t={file:e,"Content-Type":"multipart/form-data"},a=this.client.then(function(e){return e.apis.APIs.post_apis_import_definition(t,n._requestMetaData({"Content-Type":"multipart/form-data"}))})):"swagger-url"===e.type?(t={url:e.url,"Content-Type":"multipart/form-data"},a=this.client.then(function(e){return e.apis.APIs.post_apis_import_definition(t,n._requestMetaData({"Content-Type":"multipart/form-data"}))})):(t={body:e,"Content-Type":"application/json"},a=this.client.then(function(e){return e.apis.APIs.post_apis(t,n._requestMetaData())})),i?a.then(i):a}},{key:"importOpenAPIByFile",value:function(e){var a,n=this;arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.client.then(function(i){var r=n.getDataFromSpecFields(i);return a={file:e,additionalProperties:JSON.stringify(r)},i.apis.APIs.importOpenAPIDefinition(a,n._requestMetaData({"Content-Type":"multipart/form-data"})).then(function(e){return new t(e.body)})})}},{key:"importOpenAPIByUrl",value:function(e){var a,n=this;arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.client.then(function(i){var r=n.getDataFromSpecFields(i);return a={url:e,additionalProperties:JSON.stringify(r)},i.apis.APIs.importOpenAPIDefinition(a,n._requestMetaData({"Content-Type":"multipart/form-data"})).then(function(e){return new t(e.body)})})}},{key:"getPolicies",value:function(){var e=this,t=this.policies.map(function(t){return e.client.then(function(a){return a.apis["Throttling Policies"].getThrottlingPolicyByName({policyLevel:"subscription",policyName:t},e._requestMetaData())})});return Promise.all(t).then(function(e){return e.map(function(e){return e.body})})}},{key:"setInlineProductionEndpoint",value:function(e){return this.endpointConfig.production_endpoints.url=e,this.endpointConfig}},{key:"getProductionEndpoint",value:function(){return this.endpointConfig?this.endpointConfig.production_endpoints?Array.isArray(this.endpointConfig.production_endpoints)?this.endpointConfig.production_endpoints[0].url:this.endpointConfig.production_endpoints.url:"":null}},{key:"getSandboxEndpoint",value:function(){return this.endpointConfig.sandbox_endpoints?Array.isArray(this.endpointConfig.sandbox_endpoints)?this.endpointConfig.sandbox_endpoints[0].url:this.endpointConfig.sandbox_endpoints.url:""}},{key:"save",value:function(e){var a=this;return e=e||"v2",this.client.then(function(t){var n=t.spec.definitions.API.properties,i={};Object.keys(a).forEach(function(e){e in n&&(i[e]=a[e])});var r={body:i,"Content-Type":"application/json",openAPIVersion:e};return t.apis.APIs.post_apis(r,a._requestMetaData())}).then(function(e){return new t(e.body)})}},{key:"saveProduct",value:function(){var e=this;return this.client.then(function(t){var a=t.spec.definitions.APIProduct.properties,n={};Object.keys(e).forEach(function(t){t in a&&(n[t]=e[t])});var i={body:n,"Content-Type":"application/json"};return t.apis["API Products"].post_api_products(i,e._requestMetaData())}).then(function(e){return new t(e.body)})}},{key:"importWSDL",value:function(e){var t,a,n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t={type:"WSDL",additionalProperties:e.additionalProperties,implementationType:e.implementationType,"Content-Type":"multipart/form-data"},e.url?t.url=e.url:t.file=e.file,a=this.client.then(function(e){return e.apis.APIs.post_apis_import_definition(t,n._requestMetaData({"Content-Type":"multipart/form-data"}))}),i?a.then(i):a}},{key:"get",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.client.then(function(a){return a.apis.APIs.get_apis__apiId_({apiId:e},t._requestMetaData())});return a?n.then(a):n}},{key:"getProduct",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.client.then(function(a){return a.apis["API Products"].get_api_products__apiProductId_({apiProductId:e},t._requestMetaData())});return a?n.then(a):n}},{key:"validateAPI",value:function(e){return this.client.then(function(t){return t.apis.Validation.validateAPI({query:e}).then(function(e){return console.log(e),e.ok}).catch(function(e){return console.log(e),!1})})}},{key:"validateDocument",value:function(e,t){return this.client.then(function(a){return a.apis["API Documents"].validateDocument({apiId:e,name:t})})}},{key:"createNewAPIVersion",value:function(e,t){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=this.client.then(function(n){return n.apis.APIs.post_apis_copy_api({apiId:a.id,newVersion:e,defaultVersion:t},a._requestMetaData())});return n?i.then(n):i}},{key:"getSwagger",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.client.then(function(a){return a.apis.APIs.get_apis__apiId__swagger({apiId:e},t._requestMetaData())});return a?n.then(a):n}},{key:"getSchema",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.client.then(function(a){return a.apis["GraphQL Schema (Individual)"].get_apis__apiId__graphql_schema({apiId:e},t._requestMetaData())});return a?n.then(a):n}},{key:"getScopes",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.client.then(function(a){return a.apis["API Scopes"].get_apis__apiId__scopes({apiId:e},t._requestMetaData())});return a?n.then(a):n}},{key:"getSettings",value:function(){return this.client.then(function(e){return e.apis.Settings.get_settings()}).then(function(e){return e.body})}},{key:"getSubscriptionPolicies",value:function(e){var t=this,a=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],this.client.then(function(a){return a.apis.APIs.get_apis__apiId__subscription_policies({apiId:e},t._requestMetaData())}));return a.then(function(e){return e.body})}},{key:"getMonetization",value:function(e){var t=this,a=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],this.client.then(function(a){return a.apis["API Monetization"].get_apis__apiId__monetization({apiId:e},t._requestMetaData())}));return a.then(function(e){return e.body})}},{key:"configureMonetizationToApi",value:function(e,t){return this.client.then(function(a){return a.apis["API Monetization"].post_apis__apiId__monetize({apiId:e,body:t})})}},{key:"getScopeDetail",value:function(e,t){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=this.client.then(function(n){return n.apis["API Scopes"].get_apis__apiId__scopes__name_({apiId:e,name:t},a._requestMetaData())});return n?i.then(n):i}},{key:"updateScope",value:function(e,t,a){var n=this;return this.client.then(function(i){var r={apiId:e,body:a,name:t,"Content-Type":"application/json"};return i.apis["API Scopes"].put_apis__apiId__scopes__name_(r,n._requestMetaData())})}},{key:"addScope",value:function(e,t){var a=this;return this.client.then(function(n){var i={apiId:e,body:t,"Content-Type":"application/json"};return n.apis["API Scopes"].post_apis__apiId__scopes(i,a._requestMetaData())})}},{key:"deleteScope",value:function(e,t){var a=this;return this.client.then(function(n){return n.apis["API Scopes"].delete_apis__apiId__scopes__name_({apiId:e,name:t},a._requestMetaData())})}},{key:"updateSwagger",value:function(e,t){var a=this;return this.client.then(function(n){var i={apiId:e,endpointId:JSON.stringify(t),"Content-Type":"multipart/form-data"};return n.apis.APIs.put_apis__apiId__swagger(i,a._requestMetaData({"Content-Type":"multipart/form-data"}))})}},{key:"updateGraphQLAPIDefinition",value:function(e,t){var a=this;return this.client.then(function(n){var i={apiId:e,schemaDefinition:t,"Content-Type":"multipart/form-data"};return n.apis["GraphQL Schema"].put_apis__apiId__graphql_schema(i,a._requestMetaData({"Content-Type":"multipart/form-data"}))})}},{key:"updateSwagger",value:function(e){var t=this;return this.client.then(function(a){var n={apiId:t.id,apiDefinition:JSON.stringify(e),"Content-Type":"multipart/form-data"};return a.apis.APIs.put_apis__apiId__swagger(n,t._requestMetaData({"Content-Type":"multipart/form-data"}))}).then(function(e){return t})}},{key:"delete",value:function(){var e=this;return this.client.then(function(t){return t.apis.APIs.delete_apis__apiId_({apiId:e.id},e._requestMetaData())})}},{key:"deleteProduct",value:function(){var e=this;return this.client.then(function(t){return t.apis["API Products"].delete_api_products__apiProductId_({apiProductId:e.id},e._requestMetaData())})}},{key:"getLcState",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.client.then(function(a){return a.apis["API Lifecycle"].get_apis__apiId__lifecycle_state({apiId:e},t._requestMetaData())});return a?n.then(a):n}},{key:"getLcHistory",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.client.then(function(a){return a.apis["API Lifecycle"].get_apis__apiId__lifecycle_history({apiId:e},t._requestMetaData())});return a?n.then(a):n}},{key:"publish",value:function(e){var t=this,a={action:"Publish",apiId:this.id,lifecycleChecklist:e,"Content-Type":"application/json"};return this.client.then(function(e){return e.apis["API Lifecycle"].post_apis_change_lifecycle(a,t._requestMetaData())})}},{key:"updateLcState",value:function(e,t,a){var n=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r={action:t,apiId:e,lifecycleChecklist:a,"Content-Type":"application/json"},o=this.client.then(function(e){return e.apis["API Lifecycle"].post_apis_change_lifecycle(r,n._requestMetaData())});return i?o.then(i):o}},{key:"cleanupPendingTask",value:function(e){var t=this,a=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],this.client.then(function(a){return a.apis["API Lifecycle"].delete_apis_apiId_lifecycle_lifecycle_pending_task({apiId:e},t._requestMetaData())}));return a}},{key:"update",value:function(e){var a=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){A(e,t,a[t])})}return e}({},this.toJSON(),this.toJSON(e));return this.client.then(function(e){var t={apiId:a.id,body:a};return e.apis.APIs.put_apis__apiId_(t)}).then(function(e){return new t(e.body)})}},{key:"updateProduct",value:function(e){return this.client.then(function(t){var a={apiProductId:e.id,body:e};return t.apis["API Products"].put_api_products__apiProductId_(a)})}},{key:"subscriptions",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=this.client.then(function(r){return r.apis.Subscriptions.get_subscriptions({apiId:e,limit:n,offset:a,query:i},t._requestMetaData())});return r?o.then(r):o}},{key:"blockSubscriptions",value:function(e,t){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=this.client.then(function(n){return n.apis.Subscriptions.post_subscriptions_block_subscription({subscriptionId:e,blockState:t},a._requestMetaData())});return n?i.then(n):i}},{key:"unblockSubscriptions",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.client.then(function(a){return a.apis.Subscriptions.post_subscriptions_unblock_subscription({subscriptionId:e},t._requestMetaData())});return a?n.then(a):n}},{key:"discoverServices",value:function(){var e=this;return this.client.then(function(t){return t.apis["External Resources (Collection)"].get_external_resources_services({},e._requestMetaData())})}},{key:"addDocument",value:function(e,t){var a=this;return this.client.then(function(n){var i={apiId:e,body:t,"Content-Type":"application/json"};return n.apis["API Documents"].post_apis__apiId__documents(i,a._requestMetaData())})}},{key:"addFileToDocument",value:function(e,t,a){var n=this;return this.client.then(function(i){var r={apiId:e,documentId:t,file:a,"Content-Type":"application/json"};return i.apis["API Documents"].post_apis__apiId__documents__documentId__content(r,n._requestMetaData({"Content-Type":"multipart/form-data"}))})}},{key:"addInlineContentToDocument",value:function(e,t,a,n){var i=this;return this.client.then(function(r){var o={apiId:e,documentId:t,sourceType:a,inlineContent:n,"Content-Type":"application/json"};return r.apis["API Documents"].post_apis__apiId__documents__documentId__content(o,i._requestMetaData({"Content-Type":"multipart/form-data"}))})}},{key:"getFileForDocument",value:function(e,t){var a=this;return this.client.then(function(n){var i={apiId:e,documentId:t,Accept:"application/octet-stream"};return n.apis["API Documents"].get_apis__apiId__documents__documentId__content(i,a._requestMetaData({"Content-Type":"multipart/form-data"}))})}},{key:"getInlineContentOfDocument",value:function(e,t){return this.client.then(function(a){var n={apiId:e,documentId:t};return a.apis["API Documents"].get_apis__apiId__documents__documentId__content(n)})}},{key:"getDocuments",value:function(e,t){var a=this,n=this.client.then(function(t){return t.apis["API Documents"].get_apis__apiId__documents({apiId:e},a._requestMetaData())});return t?n.then(t):n}},{key:"updateDocument",value:function(e,t,a){var n=this;return this.client.then(function(i){var r={apiId:e,body:a,documentId:t,"Content-Type":"application/json"};return i.apis["API Documents"].put_apis__apiId__documents__documentId_(r,n._requestMetaData())})}},{key:"getDocument",value:function(e,t,a){var n=this;return this.client.then(function(a){return a.apis["API Documents"].get_apis__apiId__documents__documentId_({apiId:e,documentId:t},n._requestMetaData())})}},{key:"deleteDocument",value:function(e,t){var a=this;return this.client.then(function(n){return n.apis["API Documents"].delete_apis__apiId__documents__documentId_({apiId:e,documentId:t},a._requestMetaData())})}},{key:"labels",value:function(){var e=this;return this.client.then(function(t){return t.apis["Label (Collection)"].get_labels({},e._requestMetaData())})}},{key:"validateWSDLUrl",value:function(e){var t=this;return this.client.then(function(a){return a.apis.Validation.post_apis_validate_definition({type:"WSDL",url:e,"Content-Type":"multipart/form-data"},t._requestMetaData({"Content-Type":"multipart/form-data"}))})}},{key:"validateWSDLFile",value:function(e){var t=this;return this.client.then(function(a){return a.apis.Validation.post_apis_validate_definition({type:"WSDL",file:e,"Content-Type":"multipart/form-data"},t._requestMetaData({"Content-Type":"multipart/form-data"}))})}},{key:"importGraphQL",value:function(e){var t,a,n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t={type:"GraphQL",additionalProperties:e.additionalProperties,file:e.file,"Content-Type":"multipart/form-data"},a=this.client.then(function(e){return e.apis.APIs.post_apis_import_graphql_schema(t,n._requestMetaData({"Content-Type":"multipart/form-data"}))}),i?a.then(i):a}},{key:"getWSDL",value:function(e){var t=this;return this.client.then(function(a){return a.apis.Validation.get_apis__apiId__wsdl({apiId:e},t._requestMetaData({Accept:"application/octet-stream"}))})}},{key:"getThreatProtectionPolicies",value:function(){return this.client.then(function(e){return e.apis["Threat Protection Policies"].get_threat_protection_policies()})}},{key:"getThreatProtectionPolicy",value:function(e){return this.client.then(function(t){return t.apis["Threat Protection Policy"].get_threat_protection_policies__policyId_({policyId:e})})}},{key:"addThreatProtectionPolicyToApi",value:function(e,t){return this.client.then(function(a){return a.apis["API (Individual)"].post_apis__apiId__threat_protection_policies({apiId:e,policyId:t})})}},{key:"deleteThreatProtectionPolicyFromApi",value:function(e,t){return console.log(e),this.client.then(function(a){return console.log(a.apis),a.apis["API (Individual)"].delete_apis__apiId__threat_protection_policies({apiId:e,policyId:t})})}},{key:"updateHasOwnGateway",value:function(e,t){var a=this;return this.client.then(function(n){var i={apiId:e,body:t,"Content-Type":"application/json"};return n.apis["DedicatedGateway (Individual)"].put_apis__apiId__dedicated_gateway(i,a._requestMetaData())})}},{key:"getHasOwnGateway",value:function(e){var t=this;return this.client.then(function(a){return a.apis["DedicatedGateway (Individual)"].get_apis__apiId__dedicated_gateway({apiId:e},t._requestMetaData())})}},{key:"getAPIThumbnail",value:function(e){var t=this;return this.client.then(function(a){return a.apis.APIs.get_apis__apiId__thumbnail({apiId:e},t._requestMetaData())})}},{key:"validateSystemRole",value:function(e){return this.client.then(function(t){return t.apis.Roles.validateSystemRole({roleId:e})})}},{key:"validateUSerRole",value:function(e){return this.client.then(function(t){return t.apis.Roles.validateUserRole({roleId:e})})}},{key:"addAPIThumbnail",value:function(e,t){var a=this;return this.client.then(function(n){var i={apiId:e,file:t,"Content-Type":t.type};return n.apis.APIs.updateAPIThumbnail(i,a._requestMetaData({"Content-Type":"multipart/form-data"}))})}},{key:"addComment",value:function(e,t){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=this.client.then(function(n){return n.apis["Comment (Individual)"].post_apis__apiId__comments({apiId:e,body:t},a._requestMetaData())}).catch(function(e){console.error(e)});return n?i.then(n):i}},{key:"getAllComments",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.client.then(function(a){return a.apis["Comment (Collection)"].get_apis__apiId__comments({apiId:e},t._requestMetaData())}).catch(function(e){console.error(e)});return a?n.then(a):n}},{key:"deleteComment",value:function(e,t){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=this.client.then(function(n){return n.apis["Comment (Individual)"].delete_apis__apiId__comments__commentId_({apiId:e,commentId:t},a._requestMetaData())}).catch(function(e){console.error(e)});return n?i.then(n):i}},{key:"updateComment",value:function(e,t,a){var n=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=this.client.then(function(i){return i.apis["Comment (Individual)"].put_apis__apiId__comments__commentId_({apiId:e,commentId:t,body:a},n._requestMetaData())}).catch(function(e){console.error(e)});return i?r.then(i):r}},{key:"getDataFromSpecFields",value:function(e){var t=this,a=e.spec.definitions.API.properties,n={};return Object.keys(this).forEach(function(e){e in a&&(n[e]=t[e])}),n}},{key:"getTenantsByState",value:function(e){return this.client.then(function(t){return t.apis.Tenants.getTenantsByState({state:e})})}}])&&x(a.prototype,n),i&&x(a,i),t}();D.CONSTS={API:"API",APIProduct:"APIProduct"},Object.freeze(D.CONSTS);var _=D,M=a(2257),R=a(6),j=a.n(R),N=a(450),L=a(854),q=a.n(L),W=a(656),F=a.n(W),B=a(1317),z=a.n(B),U=a(1318),V=a.n(U),G=a(857),H=a(858),K=a(861),J=a(866),Q=a(859),Y=a(1316),$=a.n(Y),Z=a(856);function X(){return(X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ee(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var te={success:q.a,warning:$.a,error:F.a,info:z.a},ae=Object(Z.a)(function(e){return{success:{backgroundColor:G.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:H.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}});function ne(e){var t=ae(),a=e.className,n=e.message,r=e.onClose,o=e.variant,l=ee(e,["className","message","onClose","variant"]),s=te[o];return i.a.createElement(Q.a,X({className:Object(N.default)(t[o],a),"aria-describedby":"client-snackbar",message:i.a.createElement("span",{id:"client-snackbar",className:t.message},i.a.createElement(s,{className:Object(N.default)(t.icon,t.iconVariant)}),n),action:[i.a.createElement(K.a,{key:"close","aria-label":"close",color:"inherit",onClick:r},i.a.createElement(V.a,{className:t.icon}))]},l))}function ie(e){var t=e.message,a=e.handleClose,n=e.type;return i.a.createElement(J.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:!0,onClose:a},i.a.createElement(ne,{onClose:a,variant:n,message:t}))}function re(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}ne.propTypes={className:o.a.string.isRequired,message:o.a.string.isRequired,onClose:o.a.func.isRequired,variant:o.a.oneOf(["error","info","success","warning"]).isRequired},ie.propTypes={message:o.a.oneOfType([o.a.string,o.a.node]).isRequired,handleClose:o.a.func.isRequired,type:o.a.string.isRequired};var oe=p()(j.a.themes.light),le=function(){function e(t,a,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.defaultTop=e.defaultTop,this.key=e.count++,this.type=a,this.message=t,this.onClose=i,this.duration=n||e.defaultDuration,"function"==typeof n&&(this.onClose=n,this.duration=e.defaultDuration),this.remove=this.remove.bind(this)}var t,a,n;return t=e,n=[{key:"config",value:function(t){var a=t.top,n=t.duration;void 0!==a&&(e.defaultTop=a,e.messageInstance=null),void 0!==n&&(e.defaultDuration=n)}}],(a=[{key:"show",value:function(){var e=this,t=this._getMessageInstance(),a=this.onClose;t.then(function(t){t.notice({closable:!0,onClose:a,key:e.key,duration:e.duration,content:i.a.createElement(c.a,{theme:oe},i.a.createElement(ie,{handleClose:e.remove,message:e.message,type:e.type}))})}).catch(function(e){return console.error("Error while showing alert"+e)})}},{key:"remove",value:function(){var e=this;this._getMessageInstance().then(function(t){t.removeNotice(e.key)})}},{key:"_getMessageInstance",value:function(){return new Promise(function(t){e.messageInstance?t(e.messageInstance):M.a.newInstance({transitionName:"move-down",style:{zIndex:"2000",top:0,right:0,marginLeft:"2%",position:"fixed"}},function(a){e.messageInstance=a,t(e.messageInstance)})})}}])&&re(t.prototype,a),n&&re(t,n),e}();le.messageInstance=null,le.count=1,le.defaultDuration=5,le.defaultTop=0,le.CONSTS={INFO:"info",SUCCESS:"success",ERROR:"error",WARN:"warning",LOADING:"loading"},Object.freeze(le.CONSTS);var se={info:function(e,t,a){var n=new le(e,le.CONSTS.INFO,t,a);return n.show(),n},success:function(e,t,a){var n=new le(e,le.CONSTS.SUCCESS,t,a);return n.show(),n},error:function(e,t,a){var n=new le(e,le.CONSTS.ERROR,t,a);return n.show(),n},warning:function(e,t,a){var n=new le(e,le.CONSTS.WARN,t,a);return n.show(),n},loading:function(e,t,a){var n=new le(e,le.CONSTS.LOADING,t,a);return n.show(),n},configs:le.config,CONSTS:le.CONSTS},ce=a(876),ue=a(912),pe=a(78),de=a(894),me=a(860);function fe(e){var t=e.title,a=e.children;return i.a.createElement(ce.a,{container:!0,spacing:3},i.a.createElement(ce.a,{item:!0,sm:12,md:12}),i.a.createElement(ce.a,{item:!0,sm:0,md:3}),i.a.createElement(ce.a,{item:!0,sm:12,md:6},i.a.createElement(ce.a,{container:!0,spacing:5},i.a.createElement(ce.a,{item:!0,md:12},t),i.a.createElement(ce.a,{item:!0,md:12},i.a.createElement(me.a,{elevation:0},a)))))}fe.propTypes={title:o.a.element.isRequired,children:o.a.element.isRequired};var he=a(895),ge=a(877),ye=a.n(ge),be=ye.a.extend(function(e){return{base:e.string(),name:"systemRole",rules:[{name:"role",validate:function(e,t,a,n){return(new _).validateSystemRole(t)}}]}}),ve=ye.a.extend(function(e){return{base:e.string(),name:"userRole",rules:[{name:"role",validate:function(e,t,a,n){return(new _).validateUSerRole(t)}}]}}),Ee=ye.a.extend(function(e){return{base:e.string(),name:"api",rules:[{name:"isAPIParameterExist",validate:function(e,t,a,n){return(new _).validateAPI(t)}}]}}),we=ye.a.extend(function(e){return{base:e.object(),name:"document",rules:[{name:"isDocumentPresent",validate:function(e,t,a,n){return(new _).validateDocument(t.id,t.name)}}]}}),Ce={apiName:ye.a.string().regex(/^[a-zA-Z0-9]{1,30}$/),apiVersion:ye.a.string().regex(/^[a-zA-Z0-9.]{1,30}$/),apiContext:ye.a.string().regex(/^[a-zA-Z0-9{}\/]{1,30}$/),url:ye.a.string().uri(),role:be.systemRole().role(),userRole:ve.userRole().role(),apiParameter:Ee.api().isAPIParameterExist(),apiDocument:we.document().isDocumentPresent()},Pe=a(909),Se=a(911),Ae=a(1296);function Oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,i=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){i=!0,r=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw r}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function xe(e){var t=e.onChange,a=e.policies,r=e.multiple,o=e.required,l=e.helperText,s=Oe(Object(n.useState)({}),2),c=s[0],u=s[1];return Object(n.useEffect)(function(){_.policies("subscription").then(function(e){return u(e.body)})},[]),c.list?i.a.createElement(he.a,{required:o,fullWidth:!0,id:"outlined-select-currency",select:!0,label:"Business plan(s)",value:a,name:"policies",onChange:t,SelectProps:{multiple:r,renderValue:function(e){return Array.isArray(e)?e.join(", "):e}},helperText:l,margin:"normal",variant:"outlined"},c.list.map(function(e){return i.a.createElement(Pe.a,{dense:!0,disableGutters:r,key:e.name,value:e.displayName},r&&i.a.createElement(Ae.a,{checked:a.includes(e.name)}),i.a.createElement(Se.a,{primary:e.displayName,secondary:e.description}))})):i.a.createElement(de.a,null)}function Ie(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){Te(e,t,a[t])})}return e}function Te(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ke(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,i=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){i=!0,r=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw r}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}xe.defaultProps={policies:[],multiSelect:!0,required:!1,helperText:"Select one or multiple throttling policy for the API"};var De=Object(Z.a)(function(e){return{mandatoryStar:{color:e.palette.error.main}}});function _e(e){var t=e.context,a=e.version,n="{context}/{version}";return t&&(n=t,t.indexOf("{version}")<0&&(n=t+"/{version}")),a&&(n=n.replace("{version}",a)),n}function Me(e){var t=e.onChange,a=e.onValidate,r=e.api,o=e.isAPIProduct,l=De(),s=ke(Object(n.useState)({}),2),c=s[0],u=s[1];function p(e,t){switch(e){case"name":var a=Ce.apiName.required().validate(t).error;null===a?Ce.apiParameter.validate(e+":"+t).then(function(e){u(function(){return Ie({},c,e?{name:{message:"API with name "+t+" exists"}}:{name:a})})}):u(Ie({},c,{name:a}));break;case"context":var n=Ce.apiContext.required().validate(t).error;if(null===n){var i=t.includes("/")?t+"/"+r.version:"/"+t+"/"+r.version;Ce.apiParameter.validate(e+":"+i).then(function(e){u(function(){return Ie({},c,e?{context:{message:"API context with version exists"}}:{context:n,version:null})})})}else u(Ie({},c,{context:n}));break;case"version":var o=Ce.apiVersion.required().validate(t).error;if(null===o){var l=r.context.includes("/")?r.context+"/"+t:"/"+r.context+"/"+t;Ce.apiParameter.validate(e+":"+l).then(function(e){u(function(){return Ie({},c,e?{version:{message:"API context with version exists"}}:{version:o,context:null})})})}else u(Ie({},c,{version:o}));break;default:var s=t?Ce.url.validate(t).error:null;u(Ie({},c,{endpointURL:s}))}}return Object(n.useEffect)(function(){a(Boolean(r.name)&&Boolean(r.version)&&Boolean(r.context))},[]),Object(n.useEffect)(function(){var e=Object.entries(c).length>0&&Object.entries(c).map(function(e){var t=ke(e,2),a=t[0],n=t[1];return null==n||o&&["version","endpoints"].includes(a)}).reduce(function(e,t){return e&&t});e=e&&Boolean(r.name)&&(o||Boolean(r.version))&&Boolean(r.context),a(e,c)},[c]),i.a.createElement(ce.a,{item:!0,md:9},i.a.createElement("form",{noValidate:!0,autoComplete:"off"},i.a.createElement(he.a,{autoFocus:!0,fullWidth:!0,id:"outlined-name",error:c.name,label:i.a.createElement(i.a.Fragment,null,i.a.createElement("sup",{className:l.mandatoryStar},"*")," ",i.a.createElement(d.a,{id:"Apis.Create.WSDL.Steps.DefaultAPIForm.name",defaultMessage:"Name"})),helperText:c.name&&c.name.message||"API name can not contain spaces or any special characters",value:r.name,name:"name",onChange:t,InputProps:{onBlur:function(e){p("name",e.target.value)}},margin:"normal",variant:"outlined"}),i.a.createElement(ce.a,{container:!0,spacing:2},o?i.a.createElement(i.a.Fragment,null,i.a.createElement(ce.a,{item:!0,md:12},i.a.createElement(he.a,{fullWidth:!0,id:"outlined-name",error:c.context,label:i.a.createElement(i.a.Fragment,null,i.a.createElement("sup",{className:l.mandatoryStar},"*")," ",i.a.createElement(d.a,{id:"Apis.Create.WSDL.Steps.DefaultAPIForm.context",defaultMessage:"Context"})),name:"context",value:r.context,onChange:t,InputProps:{onBlur:function(e){p("url",e.target.value)}},helperText:c.context&&c.context.message||"API will be exposed in ".concat(_e(r)," context at the gateway"),margin:"normal",variant:"outlined"}))):i.a.createElement(i.a.Fragment,null,i.a.createElement(ce.a,{item:!0,md:8},i.a.createElement(he.a,{fullWidth:!0,id:"outlined-name",error:c.context,label:i.a.createElement(i.a.Fragment,null,i.a.createElement("sup",{className:l.mandatoryStar},"*")," ",i.a.createElement(d.a,{id:"Apis.Create.WSDL.Steps.DefaultAPIForm.context",defaultMessage:"Context"})),name:"context",value:r.context,onChange:t,InputProps:{onBlur:function(e){p("context",e.target.value)}},helperText:c.context&&c.context.message||"API will be exposed in ".concat(_e(r)," context at the gateway"),margin:"normal",variant:"outlined"})),i.a.createElement(ce.a,{item:!0,md:4},i.a.createElement(he.a,{fullWidth:!0,error:c.version,id:"outlined-name",label:i.a.createElement(i.a.Fragment,null,i.a.createElement("sup",{className:l.mandatoryStar},"*")," ",i.a.createElement(d.a,{id:"Apis.Create.WSDL.Steps.DefaultAPIForm.version",defaultMessage:"Version"})),name:"version",value:r.version,onChange:t,InputProps:{onBlur:function(e){p("version",e.target.value)}},helperText:c.version&&c.version.message,margin:"normal",variant:"outlined"})))),!o&&i.a.createElement(he.a,{fullWidth:!0,id:"outlined-name",label:"Endpoint",name:"endpoint",value:r.endpoint,onChange:t,InputProps:{onBlur:function(e){var t=e.target.value;p(Ie({},c,{endpointURL:t?Ce.url.validate(t).error:null}))}},helperText:c.endpointURL&&i.a.createElement("span",null,"Enter a valid ","",i.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"http://tools.ietf.org/html/rfc3986"},"RFC 3986")," ","URI"),error:c.endpointURL,margin:"normal",variant:"outlined"}),i.a.createElement(xe,{policies:r.policies,onChange:t})),i.a.createElement(ce.a,{container:!0,direction:"row",justify:"flex-end",alignItems:"center"},i.a.createElement(ce.a,{item:!0},i.a.createElement(h.a,{variant:"caption",display:"block",gutterBottom:!0},i.a.createElement("sup",{style:{color:"red"}},"*")," Mandatory fields"))))}function Re(e){return(Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function je(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,i=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){i=!0,r=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw r}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Ne(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Le(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function qe(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function We(e){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Be(e,t){return(Be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Me.defaultProps={onValidate:function(){},api:{}},Me.propTypes={api:o.a.shape({}),isAPIProduct:o.a.shape({}).isRequired,onChange:o.a.func.isRequired,onValidate:o.a.func};var ze=function(e){function t(e,a,n,i){var r,o,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,r=!(l=We(t).call(this))||"object"!==Re(l)&&"function"!=typeof l?Fe(o):l;var s=i;for(var c in e instanceof Object?s=e:(r.name=e,r.version=a,r.context=n,r.isDefaultVersion=!1,r.gatewayEnvironments=["Production and Sandbox"],r.transport=["http","https"],r.visibility="PUBLIC",r.endpointConfig={endpoint_type:"http",sandbox_endpoints:{url:""},production_endpoints:{url:""}}),r._data=s,s)Object.prototype.hasOwnProperty.call(s,c)&&(r[c]=s[c]);return r.apiType=_.CONSTS.APIProduct,r.getType=r.getType.bind(Fe(r)),r}var a,n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Be(e,t)}(t,C),a=t,i=[{key:"get",value:function(e){var a=this;return(new v.a).getAPIClient(E.a.getCurrentEnvironment()).client.then(function(t){return t.apis["API Products"].get_api_products__apiProductId_({apiProductId:e},a._requestMetaData())}).catch(function(e){console.error(e)}).then(function(e){return new t(e.body)})}},{key:"all",value:function(e){var t="";if(e&&"query"in e){for(var a=0,n=Object.entries(e.query);a<n.length;a++){var i=je(n[a],2),r=i[0],o=i[1];t+="".concat(r,":").concat(o,",")}e.query=t}return(new v.a).getAPIClient(E.a.getCurrentEnvironment()).client.then(function(t){return t.apis["API Products"].get_api_products(e,C._requestMetaData())}).catch(function(e){console.error(e)}).then(function(e){return e.obj.apiType=_.CONSTS.APIProduct,e})}},{key:"delete",value:function(e){var t=this;return(new v.a).getAPIClient(E.a.getCurrentEnvironment()).client.then(function(a){return a.apis["API Products"].delete_api_products__apiProductId_({apiProductId:e},t._requestMetaData())}).catch(function(e){console.error(e)})}}],(n=[{key:"_requestMetaData",value:function(){C._requestMetaData()}},{key:"getType",value:function(){return this.type}},{key:"saveProduct",value:function(){var e=this;return this.client.then(function(t){var a=t.spec.definitions.APIProduct.properties,n={};Object.keys(e).forEach(function(t){t in a&&"apiType"!=t&&(n[t]=e[t])});var i={body:n,"Content-Type":"application/json"};return t.apis["API Products"].post_api_products(i,e._requestMetaData())}).then(function(e){return new _(e.body)})}},{key:"create",value:function(e){var t,a=this;return t={body:e,"Content-Type":"application/json"},this.client.then(function(e){return e.apis["API Products"].post_api_products(t,a._requestMetaData())})}},{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a={},n=["_data","client","type"].concat(Le(t));for(var i in e)n.includes(i)||(a[i]=e[i]);return a}},{key:"update",value:function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){Ne(e,t,a[t])})}return e}({},this.toJSON(),this.toJSON(e));return this.client.then(function(e){var a={apiProductId:t.id,body:t};return e.apis["API Products"].put_api_products__apiProductId_(a)})}},{key:"getAPIProductThumbnail",value:function(e){var t=this;return this.client.then(function(a){return a.apis["API Products"].get_api_products__apiProductId__thumbnail({apiProductId:e},t._requestMetaData())}).catch(function(e){console.error(e)})}},{key:"addAPIProductThumbnail",value:function(e,t){var a=this;return this.client.then(function(n){var i={apiProductId:e,file:t,"Content-Type":t.type};return n.apis["API Products"].put_api_products__apiProductId__thumbnail(i,a._requestMetaData({"Content-Type":"multipart/form-data"}))}).catch(function(e){console.error(e)})}},{key:"addDocument",value:function(e,t){var a=this;return this.client.then(function(n){var i={apiProductId:e,body:t,"Content-Type":"application/json"};return n.apis["API Product Documents"].post_api_products__apiProductId__documents(i,a._requestMetaData())}).catch(function(e){console.error(e)})}},{key:"getDocuments",value:function(e){var t=this;return this.client.then(function(a){return a.apis["API Product Documents"].get_api_products__apiProductId__documents({apiProductId:e},t._requestMetaData())}).catch(function(e){console.error(e)})}},{key:"updateDocument",value:function(e,t,a){var n=this;return this.client.then(function(i){var r={apiProductId:e,body:a,documentId:t,"Content-Type":"application/json"};return i.apis["API Product Documents"].put_api_products__apiProductId__documents__documentId_(r,n._requestMetaData()).catch(function(e){console.error(e)})})}},{key:"getDocument",value:function(e,t){var a=this;return this.client.then(function(n){return n.apis["API Product Documents"].get_api_products__apiProductId__documents__documentId_({apiProductId:e,documentId:t},a._requestMetaData())}).catch(function(e){console.error(e)})}},{key:"addInlineContentToDocument",value:function(e,t,a,n){var i=this;return this.client.then(function(r){var o={apiProductId:e,documentId:t,sourceType:a,inlineContent:n,"Content-Type":"application/json"};return r.apis["API Product Documents"].post_api_products__apiProductId__documents__documentId__content(o,i._requestMetaData({"Content-Type":"multipart/form-data"}))}).catch(function(e){console.error(e)})}},{key:"getInlineContentOfDocument",value:function(e,t){return this.client.then(function(a){var n={apiProductId:e,documentId:t};return a.apis["API Product Documents"].get_api_products__apiProductId__documents__documentId__content(n)}).catch(function(e){console.error(e)})}},{key:"deleteDocument",value:function(e,t){var a=this;return this.client.then(function(n){return n.apis["API Product Documents"].delete_api_products__apiProductId__documents__documentId_({apiProductId:e,documentId:t},a._requestMetaData())}).catch(function(e){console.error(e)})}},{key:"addFileToDocument",value:function(e,t,a){var n=this;return this.client.then(function(i){var r={apiProductId:e,documentId:t,file:a,"Content-Type":"application/json"};return i.apis["API Product Documents"].post_api_products__apiProductId__documents__documentId__content(r,n._requestMetaData({"Content-Type":"multipart/form-data"}))})}},{key:"updateSwagger",value:function(e){var t=this;return this.client.then(function(a){var n={apiProductId:t.id,apiDefinition:JSON.stringify(e),"Content-Type":"multipart/form-data"};return a.apis["API Products"].put_api_products__apiProductId__swagger(n,t._requestMetaData({"Content-Type":"multipart/form-data"})).catch(function(e){console.error(e)})}).then(function(e){return t})}},{key:"getSwagger",value:function(e){var t=this;return this.client.then(function(a){return a.apis["API Products"].get_api_products__apiProductId__swagger({apiProductId:e},t._requestMetaData())}).catch(function(e){console.error(e)})}}])&&qe(a.prototype,n),i&&qe(a,i),t}();function Ue(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,i=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){i=!0,r=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw r}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Ve(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Ge(e){var t=Ue(Object(n.useReducer)(function(e,t){var a=t.action,n=t.value;switch(a){case"name":case"version":case"endpoint":case"context":case"policies":case"isFormValid":return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){Ve(e,t,a[t])})}return e}({},e,Ve({},a,n));default:return e}},{formValidity:!1}),2),a=t[0],r=t[1];var o=Ue(Object(n.useState)(),2),l=o[0],s=o[1];return i.a.createElement(fe,{title:e.isAPIProduct?i.a.createElement(i.a.Fragment,null,i.a.createElement(h.a,{variant:"h5"},i.a.createElement(d.a,{id:"Apis.Create.Default.APICreateDefault.apiProduct.heading",defaultMessage:"Create an API Product"})),i.a.createElement(h.a,{variant:"caption"},i.a.createElement(d.a,{id:"Apis.Create.Default.APICreateDefault.apiProduct.sub.heading",defaultMessage:"Create an API Product providing Name, Context parameters and optionally bushiness plans"}))):i.a.createElement(i.a.Fragment,null,i.a.createElement(h.a,{variant:"h5"},i.a.createElement(d.a,{id:"Apis.Create.Default.APICreateDefault.api.heading",defaultMessage:"Create an API"})),i.a.createElement(h.a,{variant:"caption"},i.a.createElement(d.a,{id:"Apis.Create.Default.APICreateDefault.api.sub.heading",defaultMessage:"Create an API providing Name, Version and Context parameters and optionally backend endpoint and bushiness plans"})))},i.a.createElement(ce.a,{container:!0,spacing:3},i.a.createElement(ce.a,{item:!0,md:12}),i.a.createElement(ce.a,{item:!0,md:1}),i.a.createElement(ce.a,{item:!0,md:11},i.a.createElement(Me,{onValidate:function(e){r({action:"isFormValid",value:e})},onChange:function(e){var t=e.target,a=t.name,n=t.value;r({action:a,value:n})},api:a,isAPIProduct:e.isAPIProduct})),i.a.createElement(ce.a,{item:!0,md:1}),i.a.createElement(ce.a,{item:!0,md:9},i.a.createElement(ce.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",spacing:2},i.a.createElement(ce.a,{item:!0},i.a.createElement(ue.a,{variant:"contained",color:"primary",disabled:!a.isFormValid||l,onClick:function(){s(!0);var t=a.name,n=a.version,i=a.context,r=a.endpoint,o={name:t,version:n,context:i,policies:a.policies};r&&(o.endpointConfig={endpoint_type:"http",sandbox_endpoints:{url:r},production_endpoints:{url:r}}),o.gatewayEnvironments=["Production and Sandbox"],e.isAPIProduct?new ze(o).saveProduct(o).then(function(t){se.info("API Product created successfully"),e.history.push("/api-products/".concat(t.id,"/overview"))}).catch(function(e){e.response?se.error(e.response.body.description):se.error("Something went wrong while adding the API Product")}).finally(function(){return s(!1)}):new _(o).save().then(function(t){se.info("API created successfully"),e.history.push("/apis/".concat(t.id,"/overview"))}).catch(function(e){e.response?se.error(e.response.body.description):se.error("Something went wrong while adding the API"),console.error(e)}).finally(function(){return s(!1)})}},"Create ",l&&i.a.createElement(de.a,{size:24}))),i.a.createElement(ce.a,{item:!0},i.a.createElement(pe.b,{to:"/apis/"},i.a.createElement(ue.a,{variant:"outlined"},i.a.createElement(d.a,{id:"Apis.Create.Default.APICreateDefault.cancel",defaultMessage:"Cancel"}))))))))}Ge.propTypes={history:o.a.shape({push:o.a.func}).isRequired,isAPIProduct:o.a.shape({}).isRequired};var He=Object(l.withRouter)(Ge);function Ke(e){return(Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Je(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Qe(e){return(Qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ye(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $e(e,t){return($e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ze=function(e){function t(e){var a,n,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(a=!(i=Qe(t).call(this,e))||"object"!==Ke(i)&&"function"!=typeof i?Ye(n):i).state={api:new _,oasVersion:"v3",valid:{name:{empty:!1,alreadyExists:!1},context:{empty:!1,alreadyExists:!1},version:{empty:!1}}},a.handleSubmit=a.handleSubmit.bind(Ye(a)),a.inputChange=a.inputChange.bind(Ye(a)),a.handleOASVersionChange=a.handleOASVersionChange.bind(Ye(a)),a}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$e(e,t)}(t,n["Component"]),a=t,(r=[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=this.state.api,n=this.props.type;a.name&&a.context&&a.version?("ws"===n&&(a.type="WS"),a.save(this.state.oasVersion).then(function(e){var a="/apis/"+e.id+"/overview";se.info("".concat(e.name," created.")),t.props.history.push(a)}).catch(function(e){console.error(e),e.response?se.error(e.response.body.message):se.error("Something went wrong while creating ".concat(a.name))})):this.setState(function(e){var t=e.valid,a=e.api,n=t;return n.name.empty=!a.name,n.context.empty=!a.context,n.version.empty=!a.version,{valid:n}})}},{key:"inputChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(function(e){var t=e.api,i=e.valid,r=t;"endpoint"===a?r.endpointConfig={endpoint_type:"http",sandbox_endpoints:{url:n},production_endpoints:{url:n}}:r[a]=n;var o=i;return o.name.empty=!t.name,o.context.empty=!t.context,o.version.empty=!t.version,{api:r,valid:o}})}},{key:"handleOASVersionChange",value:function(e){this.setState({oasVersion:e.target.value})}},{key:"render",value:function(){var e=this.props.type;return i.a.createElement(i.a.Fragment,null,i.a.createElement(He,{api:this.state.api,oasVersion:this.state.oasVersion,handleOASVersionChange:this.handleOASVersionChange,handleSubmit:this.handleSubmit,inputChange:this.inputChange,isAPIProduct:!1,valid:this.state.valid,type:e}))}}])&&Je(a.prototype,r),o&&Je(a,o),t}();Ze.propTypes={classes:o.a.shape({}).isRequired,history:o.a.shape({push:o.a.func.isRequired}).isRequired,type:o.a.shape({}).isRequired,valid:o.a.shape({}).isRequired,location:o.a.shape({pathname:o.a.string}).isRequired};var Xe=Ze,et=a(743),tt=a.n(et);function at(e){var t=e.classes,a=e.height?e.height:30,n=e.marginLeft?e.marginLeft:10,r=e.marginRight?e.marginRight:10;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:t.divider,style:{height:a,marginLeft:n,marginRight:r}}))}at.propTypes={classes:o.a.shape({divider:o.a.string}).isRequired,height:o.a.shape({}).isRequired,marginLeft:o.a.shape({}).isRequired,marginRight:o.a.shape({}).isRequired};var nt=Object(b.a)({divider:{borderRight:"solid 1px #ccc"}})(at);function it(){return(it=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function rt(e){var t=e.className,a=e.icon,n=e.height,r=e.width,o=e.strokeColor;return"overview"===a?i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:n,viewBox:"0 0 8.5272856 8.5114363",id:"svg8",className:t},i.a.createElement("g",{id:"layer2",transform:"translate(79.857 -62.367)"},i.a.createElement("g",{id:"g5726",transform:"matrix(.9999 0 0 1.00321 -86.091 38.578)",fill:"none",stroke:o,strokeLinejoin:"round"},i.a.createElement("path",{id:"path5717",transform:"scale(.26458)",d:"m 29.705078,90.623047 c -2.846282,0 -5.138672,2.290437 -5.138672,5.136719 V 111.5293 c 0,2.84628 2.29239,5.13867 5.138672,5.13867 h 17.177734 l -4.591796,-4.74219 a 8.7230968,9.0089885 0 0 1 -10.539063,-1.41406 8.7230968,9.0089885 0 0 1 0,-12.740236 8.7230968,9.0089885 0 0 1 6.296875,-2.638672 8.7230968,9.0089885 0 0 1 6.041016,2.638672 8.7230968,9.0089885 0 0 1 0,12.740236 8.7230968,9.0089885 0 0 1 -0.609375,0.5664 6.2078361,6.4112926 0 0 0 1.089843,-0.88671 6.2078361,6.4112926 0 0 0 1.50586,-2.53125 l 7.242187,7.47851 c 0.914205,-0.92665 1.480469,-2.19879 1.480469,-3.60937 V 95.759766 c 0,-2.846282 -2.29239,-5.136719 -5.138672,-5.136719 z",strokeWidth:"2"}),i.a.createElement("g",{transform:"scale(.88683 .9159) rotate(-45 -45.67 5.272)",id:"g5724",strokeWidth:"0.539"},i.a.createElement("circle",{id:"circle5720",cx:"-22.921",cy:"63.11",r:"2.603"}),i.a.createElement("path",{d:"m -89.15625,247.73828 v 13.91602 h 6.3125 V 247.74609 A 7,7 0 0 1 -86,248.5 a 7,7 0 0 1 -3.15625,-0.76172 z",transform:"scale(.26458)",id:"path5722",strokeWidth:"2.039"}))))):"api"===a?i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:n,viewBox:"0 0 8.4666662 8.466666",id:"svg8",className:t},i.a.createElement("g",{id:"layer2",transform:"translate(82.262 -41.963)"},i.a.createElement("g",{id:"g5764",transform:"matrix(.83117 0 0 .83117 193.242 4.456)",fill:o,fillOpacity:"0.933"},i.a.createElement("path",{id:"path5728",d:"m -326.92369,45.126027 c -0.0789,0 -0.14264,0.06373 -0.14264,0.142626 v 1.111562 a 3.9026041,3.9026041 0 0 0 -1.52651,0.635619 l -0.78859,-0.788582 c -0.0558,-0.05579 -0.14576,-0.05579 -0.20154,0 l -0.78084,0.78083 c -0.0558,0.05579 -0.0558,0.145751 0,0.201538 l 0.786,0.785998 a 3.9026041,3.9026041 0 0 0 -0.63098,1.529107 h -1.1136 c -0.0789,0 -0.14264,0.06373 -0.14264,0.142626 v 1.10381 c 0,0.07889 0.0637,0.142626 0.14264,0.142626 h 1.11154 a 3.9026041,3.9026041 0 0 0 0.63564,1.526522 l -0.7886,0.788582 c -0.0558,0.05579 -0.0558,0.145751 0,0.201539 l 0.78084,0.78083 c 0.0558,0.05579 0.14576,0.05579 0.20154,0 l 0.78599,-0.785998 a 3.9026041,3.9026041 0 0 0 1.52911,0.630968 v 1.113629 c 0,0.07889 0.0637,0.142626 0.14264,0.142626 h 1.10379 c 0.0789,0 0.14263,-0.06373 0.14263,-0.142626 v -1.11156 a 3.9026041,3.9026041 0 0 0 1.52652,-0.635622 l 0.78859,0.788583 c 0.0558,0.05579 0.14576,0.05579 0.20153,0 l 0.78084,-0.78083 c 0.0558,-0.05579 0.0558,-0.145751 0,-0.201539 l -0.786,-0.785997 a 3.9026041,3.9026041 0 0 0 0.63098,-1.529107 h 1.1136 c 0.0789,0 0.14264,-0.06373 0.14264,-0.142626 v -1.10381 c 0,-0.07889 -0.0637,-0.142626 -0.14264,-0.142626 h -1.11154 a 3.9026041,3.9026041 0 0 0 -0.63563,-1.526522 l 0.78859,-0.788583 c 0.0558,-0.05579 0.0558,-0.145751 0,-0.201538 l -0.78084,-0.78083 c -0.0558,-0.05579 -0.14576,-0.05579 -0.20153,0 l -0.786,0.785997 a 3.9026041,3.9026041 0 0 0 -1.52911,-0.630967 v -1.113629 c 0,-0.07889 -0.0637,-0.142626 -0.14263,-0.142626 z m 0.55189,2.081527 a 3.0119976,3.0119976 0 0 1 3.01223,3.011702 3.0119976,3.0119976 0 0 1 -3.01223,3.01222 3.0119976,3.0119976 0 0 1 -3.01223,-3.01222 3.0119976,3.0119976 0 0 1 3.01223,-3.011702 z",strokeWidth:"0.937",strokeLinejoin:"round"}),i.a.createElement("g",{transform:"matrix(.01024 0 0 .01024 -328.341 48.178)",id:"g5762"},i.a.createElement("path",{d:"m 364.427,259.214 c -14.051,-14.052 -32.733,-21.79 -52.605,-21.79 -10.619,0 -20.888,2.23 -30.302,6.431 -1.076,-1.701 -2.341,-3.298 -3.799,-4.756 l -54.188,-54.188 95.825,-95.825 c 2.645,2.529 5.363,3.085 7.197,3.085 4.06,0 6.8,-2.535 7.308,-3.042 L 356.06,66.932 c 3.771,-3.771 5.563,-7.434 5.477,-11.197 -0.135,-5.897 -4.599,-9.968 -9.767,-14.683 -1.53,-1.395 -3.111,-2.838 -4.7,-4.426 -1.588,-1.588 -3.03,-3.169 -4.426,-4.699 -4.782,-5.243 -8.912,-9.771 -14.939,-9.771 -3.676,0 -7.255,1.793 -10.941,5.48 l -22.281,22.281 c -2.746,2.746 -5.103,9.066 0.122,14.426 l -95.821,95.821 -56.131,-56.131 c 4.012,-9.232 6.137,-19.269 6.137,-29.638 0,-19.872 -7.739,-38.555 -21.791,-52.607 C 112.95,7.737 94.27,0 74.4,0 67.768,0 61.168,0.881 54.785,2.62 c -2.513,0.684 -4.569,2.752 -5.238,5.268 -0.683,2.565 0.096,5.206 2.121,7.232 0.266,0.267 26.668,26.873 35.46,35.665 1.31,1.31 1.193,4.015 1.058,4.81 l -0.069,0.489 c -1.005,10.964 -3.034,24.215 -4.565,27.493 -3.303,1.581 -16.767,3.637 -27.911,4.633 l -0.149,-0.013 -0.302,0.072 c -0.082,0.009 -0.26,0.024 -0.508,0.024 -1.253,0 -3.096,-0.349 -4.758,-2.011 C 40.773,77.13 15.387,51.932 15.145,51.692 13.085,49.632 10.998,49.2 9.609,49.2 6.384,49.2 3.497,51.549 2.587,54.913 -4.357,80.592 3,108.214 21.786,127 c 14.051,14.051 32.733,21.79 52.606,21.79 10.369,0 20.407,-2.126 29.639,-6.137 l 56.131,56.131 -22.013,22.013 c -3.536,-1.853 -7.497,-2.839 -11.618,-2.839 -6.693,0 -12.972,2.592 -17.678,7.298 l -12.282,12.283 c -1.175,-0.166 -2.369,-0.254 -3.578,-0.254 -6.692,0 -12.971,2.592 -17.677,7.298 l -64.351,64.35 c -4.707,4.706 -7.299,10.984 -7.299,17.678 0,6.693 2.592,12.971 7.299,17.678 l 28.44,28.44 c 4.706,4.706 10.984,7.298 17.678,7.298 6.692,0 12.971,-2.592 17.677,-7.298 l 64.35,-64.35 c 4.707,-4.706 7.299,-10.984 7.299,-17.678 0,-1.209 -0.087,-2.404 -0.254,-3.579 l 12.282,-12.282 c 4.707,-4.707 7.299,-10.984 7.299,-17.678 0,-4.121 -0.986,-8.082 -2.839,-11.618 l 22.013,-22.013 54.188,54.188 c 1.458,1.457 3.055,2.723 4.755,3.798 -4.201,9.414 -6.431,19.684 -6.431,30.302 0,19.873 7.739,38.555 21.791,52.607 14.048,14.048 32.729,21.785 52.6,21.786 0.001,0 0.001,0 0.003,0 6.63,0 13.23,-0.882 19.614,-2.62 2.513,-0.684 4.568,-2.752 5.236,-5.268 0.682,-2.565 -0.097,-5.206 -2.122,-7.23 -0.266,-0.267 -26.667,-26.874 -35.459,-35.666 -1.31,-1.31 -1.193,-4.015 -1.058,-4.811 l 0.069,-0.489 c 1.005,-10.964 3.034,-24.214 4.565,-27.493 3.303,-1.581 16.767,-3.637 27.911,-4.633 l 0.149,0.013 0.301,-0.072 c 0.083,-0.009 0.261,-0.024 0.508,-0.024 1.253,0 3.097,0.349 4.76,2.012 9.15,9.151 34.536,34.349 34.778,34.589 2.06,2.06 4.147,2.493 5.536,2.493 3.225,0 6.112,-2.349 7.023,-5.713 6.945,-25.677 -0.413,-53.299 -19.2,-72.086 z m -278.221,70.499 -7.226,7.226 c -7.778,7.778 -20.506,7.778 -28.284,0 l -3.94,-3.941 c -7.778,-7.778 -7.778,-20.506 0,-28.284 l 7.226,-7.226 c 7.778,-7.778 20.506,-7.778 28.284,0 l 3.941,3.941 c 7.777,7.778 7.777,20.506 -10e-4,28.284 z m 159.465,-84.042 c -1.465,1.464 -3.385,2.197 -5.304,2.197 -1.92,0 -3.839,-0.732 -5.304,-2.197 l -88.414,-88.414 c -2.929,-2.929 -2.929,-7.678 0,-10.607 2.931,-2.93 7.679,-2.929 10.607,0 l 27.519,27.519 v 0 l 24.749,24.749 v 0 l 36.146,36.147 c 2.93,2.929 2.93,7.678 0.001,10.606 z",id:"path5730"}))))):"api-product"===a?i.a.createElement("svg",it({width:r,height:n,className:t,stroke:o,viewBox:"0 0 8.467 8.467",id:"prefix__svg8"},e),i.a.createElement("g",{id:"prefix__layer2",transform:"translate(82.262 -41.963)",stroke:o},i.a.createElement("g",{id:"prefix__g994",stroke:o},i.a.createElement("g",{transform:"matrix(.76623 0 0 .76623 171.718 7.386)",id:"prefix__g5764",display:"inline",fill:"#8b8e95",fillOpacity:.933},i.a.createElement("path",{d:"M-326.924 45.126a.142.142 0 00-.142.143v1.111a3.903 3.903 0 00-1.527.636l-.788-.789a.142.142 0 00-.202 0l-.78.781a.142.142 0 000 .202l.785.786a3.903 3.903 0 00-.63 1.529h-1.114a.142.142 0 00-.143.142v1.104c0 .08.064.143.143.143h1.111a3.903 3.903 0 00.636 1.526l-.789.789a.142.142 0 000 .201l.781.781a.142.142 0 00.202 0l.786-.786a3.903 3.903 0 001.529.631v1.114c0 .079.063.142.142.142h1.104a.142.142 0 00.143-.142v-1.112a3.903 3.903 0 001.526-.635l.789.788a.142.142 0 00.201 0l.781-.78a.142.142 0 000-.202l-.786-.786a3.903 3.903 0 00.631-1.53h1.114a.142.142 0 00.142-.142v-1.104a.142.142 0 00-.142-.142h-1.112a3.903 3.903 0 00-.635-1.527l.788-.788a.142.142 0 000-.202l-.78-.78a.142.142 0 00-.202 0l-.786.785a3.903 3.903 0 00-1.53-.63v-1.114a.142.142 0 00-.142-.143zm.552 2.082a3.012 3.012 0 013.012 3.011 3.012 3.012 0 01-3.012 3.012 3.012 3.012 0 01-3.012-3.012 3.012 3.012 0 013.012-3.011z",id:"prefix__path5728",stroke:"none",strokeWidth:.937,strokeLinejoin:"round",strokeMiterlimit:4,strokeDasharray:"none",strokeOpacity:1}),i.a.createElement("g",{id:"prefix__g5762",transform:"matrix(.01024 0 0 .01024 -328.341 48.178)"},i.a.createElement("path",{id:"prefix__path5730",d:"M364.427 259.214c-14.051-14.052-32.733-21.79-52.605-21.79-10.619 0-20.888 2.23-30.302 6.431a27.521 27.521 0 00-3.799-4.756l-54.188-54.188 95.825-95.825c2.645 2.529 5.363 3.085 7.197 3.085 4.06 0 6.8-2.535 7.308-3.042l22.197-22.197c3.771-3.771 5.563-7.434 5.477-11.197-.135-5.897-4.599-9.968-9.767-14.683-1.53-1.395-3.111-2.838-4.7-4.426-1.588-1.588-3.03-3.169-4.426-4.699-4.782-5.243-8.912-9.771-14.939-9.771-3.676 0-7.255 1.793-10.941 5.48l-22.281 22.281c-2.746 2.746-5.103 9.066.122 14.426l-95.821 95.821-56.131-56.131c4.012-9.232 6.137-19.269 6.137-29.638 0-19.872-7.739-38.555-21.791-52.607C112.95 7.737 94.27 0 74.4 0a74.64 74.64 0 00-19.615 2.62c-2.513.684-4.569 2.752-5.238 5.268-.683 2.565.096 5.206 2.121 7.232.266.267 26.668 26.873 35.46 35.665 1.31 1.31 1.193 4.015 1.058 4.81l-.069.489c-1.005 10.964-3.034 24.215-4.565 27.493-3.303 1.581-16.767 3.637-27.911 4.633l-.149-.013-.302.072c-.082.009-.26.024-.508.024-1.253 0-3.096-.349-4.758-2.011-9.151-9.152-34.537-34.35-34.779-34.59-2.06-2.06-4.147-2.492-5.536-2.492-3.225 0-6.112 2.349-7.022 5.713C-4.357 80.592 3 108.214 21.786 127c14.051 14.051 32.733 21.79 52.606 21.79 10.369 0 20.407-2.126 29.639-6.137l56.131 56.131-22.013 22.013a24.953 24.953 0 00-11.618-2.839c-6.693 0-12.972 2.592-17.678 7.298l-12.282 12.283a25.561 25.561 0 00-3.578-.254c-6.692 0-12.971 2.592-17.677 7.298l-64.351 64.35c-4.707 4.706-7.299 10.984-7.299 17.678 0 6.693 2.592 12.971 7.299 17.678l28.44 28.44c4.706 4.706 10.984 7.298 17.678 7.298 6.692 0 12.971-2.592 17.677-7.298l64.35-64.35c4.707-4.706 7.299-10.984 7.299-17.678 0-1.209-.087-2.404-.254-3.579l12.282-12.282c4.707-4.707 7.299-10.984 7.299-17.678 0-4.121-.986-8.082-2.839-11.618l22.013-22.013 54.188 54.188a27.547 27.547 0 004.755 3.798c-4.201 9.414-6.431 19.684-6.431 30.302 0 19.873 7.739 38.555 21.791 52.607 14.048 14.048 32.729 21.785 52.6 21.786h.003c6.63 0 13.23-.882 19.614-2.62 2.513-.684 4.568-2.752 5.236-5.268.682-2.565-.097-5.206-2.122-7.23-.266-.267-26.667-26.874-35.459-35.666-1.31-1.31-1.193-4.015-1.058-4.811l.069-.489c1.005-10.964 3.034-24.214 4.565-27.493 3.303-1.581 16.767-3.637 27.911-4.633l.149.013.301-.072c.083-.009.261-.024.508-.024 1.253 0 3.097.349 4.76 2.012 9.15 9.151 34.536 34.349 34.778 34.589 2.06 2.06 4.147 2.493 5.536 2.493 3.225 0 6.112-2.349 7.023-5.713  6.945-25.677-.413-53.299-19.2-72.086zM86.206 329.713l-7.226 7.226c-7.778 7.778-20.506 7.778-28.284 0l-3.94-3.941c-7.778-7.778-7.778-20.506 0-28.284l7.226-7.226c7.778-7.778 20.506-7.778 28.284 0l3.941 3.941c7.777 7.778 7.777 20.506-.001 28.284zm159.465-84.042a7.482 7.482 0 01-5.304 2.197 7.476 7.476 0 01-5.304-2.197l-88.414-88.414a7.5 7.5 0 0110.607-10.607l27.519 27.519 24.749 24.749 36.146 36.147a7.498 7.498 0 01.001 10.606z"}))),i.a.createElement("path",{id:"prefix__rect893",d:"M-77.015 45.818a.343.343 0 00-.341.345v1.255h-4.282a.343.343 0 00-.34.345v2.072c0 .191.151.345.34.345h7.26c.189 0 .341-.154.341-.345v-3.672a.343.343 0 00-.341-.345z",opacity:1,fill:"#fff",fillOpacity:.535,fillRule:"nonzero",strokeWidth:.499,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:4,strokeDasharray:"none",strokeDashoffset:0,strokeOpacity:.933,paintOrder:"stroke markers fill"})))):null}rt.defaultProps={strokeColor:"#8b8e95",width:32,height:32,icon:"api",className:""},rt.propTypes={strokeColor:o.a.string,width:o.a.number,height:o.a.number,icon:o.a.oneOf(["overview","api"]),className:""};var ot=function(e){var t=e.classes,a=e.theme,n=a.palette.getContrastText(a.palette.background.paper);return i.a.createElement("main",{className:t.content},i.a.createElement("div",{className:t.root},i.a.createElement(pe.b,{to:"/api-products",className:t.backLink},i.a.createElement(tt.a,{className:t.backIcon}),i.a.createElement("div",{className:t.backText},"BACK TO ",i.a.createElement("br",null),"LISTING")),i.a.createElement(nt,{height:70}),i.a.createElement("div",{className:t.mainIconWrapper},i.a.createElement(rt,{strokeColor:n,width:42,height:42,icon:"api"})),i.a.createElement("div",{className:t.mainTitleWrapper},i.a.createElement(h.a,{variant:"h4"},i.a.createElement(d.a,{id:"apis.create.new.api.product",defaultMessage:"API Products - Create New API Product"})),i.a.createElement(h.a,{variant:"caption",gutterBottom:!0,align:"left"},i.a.createElement(d.a,{id:"fill.the.mandatory.fields.product",defaultMessage:"Fill the mandatory fields (Name, Context) and create the API Product. Configure advanced configurations later."})))))};ot.propTypes={classes:o.a.shape({}).isRequired,theme:o.a.shape({}).isRequired};var lt=Object(b.a)(function(e){return{rightIcon:{marginLeft:e.spacing.unit},button:{margin:e.spacing.unit,marginBottom:0},buttonRight:{alignSelf:"flex-end",display:"flex"},ListingWrapper:{paddingTop:10,paddingLeft:35},root:{height:70,background:e.palette.background.paper,borderBottom:"solid 1px "+e.palette.grey.A200,display:"flex",alignItems:"center"},mainTitle:{paddingTop:10},mainTitleWrapper:{},APICreateMenu:{flexGrow:1,display:"flex",alignItems:"center"},content:{flexGrow:1},backText:{color:e.palette.primary.main,cursor:"pointer",fontFamily:e.typography.fontFamily},backLink:{alignItems:"center",textDecoration:"none",display:"flex",paddingLeft:3*e.spacing.unit},backIcon:{color:e.palette.primary.main,fontSize:56,cursor:"pointer"},mainIconWrapper:{paddingTop:13,paddingLeft:0,paddingRight:20}}},{withTheme:!0})(ot);function st(e){return(st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ct(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ut(e){return(ut=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dt(e,t){return(dt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var mt=function(e){function t(e){var a,n,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(a=!(i=ut(t).call(this,e))||"object"!==st(i)&&"function"!=typeof i?pt(n):i).state={api:new _,valid:{name:{empty:!1,alreadyExists:!1},context:{empty:!1,alreadyExists:!1},version:{empty:!1},endpoint:{empty:!1}}},a.handleSubmit=a.handleSubmit.bind(pt(a)),a.inputChange=a.inputChange.bind(pt(a)),a}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dt(e,t)}(t,n["Component"]),a=t,(r=[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=this.state.api;a.name&&a.context?a.saveProduct().then(function(e){var a="/api-products/"+e.id+"/overview";se.info("".concat(e.name," created.")),t.props.history.push(a)}).catch(function(e){console.error(e),e.response?se.error(e.response.body.message):se.error("Something went wrong while creating ".concat(a.name))}):this.setState(function(e){var t=e.valid,a=e.api,n=t;return n.name.empty=!a.name,n.context.empty=!a.context,{valid:n}})}},{key:"inputChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(function(e){var t=e.api,i=e.valid,r=t;r[a]="endpoint"===a?[{inline:{name:"".concat(t.name,"_inline_production"),endpointConfig:{list:[{url:n,timeout:"1000"}],endpointType:"SINGLE"},endpointSecurity:{enabled:!1,type:"basic",username:"basic",password:"basic"},type:"http"},type:"production_endpoints"},{inline:{name:"".concat(t.name,"_inline_sandbox"),endpointConfig:{list:[{url:n,timeout:"1000"}],endpointType:"SINGLE"},endpointSecurity:{enabled:!1,type:"basic",username:"basic",password:"basic"},type:"http"},type:"sandbox_endpoints"}]:n;var o=i;return o.name.empty=!t.name,o.context.empty=!t.context,o.version.empty=!t.version,o.endpoint.empty=!t.endpoint,{api:r,valid:o}})}},{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(lt,null),i.a.createElement(He,{api:this.state.api,handleSubmit:this.handleSubmit,inputChange:this.inputChange,isAPIProduct:!0,valid:this.state.valid}))}}])&&ct(a.prototype,r),o&&ct(a,o),t}();mt.propTypes={classes:o.a.shape({}).isRequired,history:o.a.shape({push:o.a.func.isRequired}).isRequired,type:o.a.shape({}).isRequired,valid:o.a.shape({}).isRequired,location:o.a.shape({pathname:o.a.string}).isRequired};var ft=mt,ht=a(919),gt=a(921),yt=a(922),bt=a(1295),vt=a(914),Et=a(917),wt=a(898),Ct=a(900),Pt=a(918),St=a(559);function At(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Ot={flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",borderWidth:2,borderRadius:2,borderColor:"#eeeeee",borderStyle:"dashed",backgroundColor:"#fafafa",color:"#bdbdbd",outline:"none",transition:"border .24s ease-in-out"},xt={borderColor:"#2196f3"},It={borderColor:"#00e676"},Tt={borderColor:"#ff1744"};function kt(e){var t=e.files,a=e.message,r=e.onDrop,o=e.error,l=e.showFilesList,s=e.children;t=t instanceof File?[t]:t;var c=Object(St.b)({onDrop:r}),u=c.getRootProps,p=c.getInputProps,d=c.isDragActive,m=c.isDragAccept,f=c.isDragReject,h=c.acceptedFiles,g=(h=t||h).map(function(e){return i.a.createElement("li",{key:e.path},e.path," - ",function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e,n=t?1e3:1024;if(Math.abs(a)<n)return a+" B";var i=t?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],r=-1;do{a/=n,++r}while(Math.abs(a)>=n&&r<i.length-1);return a.toFixed(1)+" "+i[r]}(e.size))});Ot.borderColor=o?Tt.borderColor:"#eeeeee";var y=Object(n.useMemo)(function(){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){At(e,t,a[t])})}return e}({},Ot,d?xt:{},m?It:{},f?Tt:{})},[d,f,o]);return i.a.createElement("section",{className:"container"},i.a.createElement("div",u({style:y}),i.a.createElement("input",p()),s||i.a.createElement("p",null,a)),l&&i.a.createElement("aside",null,i.a.createElement("h4",null,"Files"),i.a.createElement("ul",null,g)))}function Dt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){_t(e,t,a[t])})}return e}function _t(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Mt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,i=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){i=!0,r=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw r}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}kt.defaultProps={message:"Drag 'n' drop some files here, or click to select files",onDrop:function(){},showFilesList:!0,files:null,children:null,error:!1},kt.propTypes={message:o.a.string,onDrop:o.a.func,showFilesList:o.a.bool,files:o.a.oneOfType([o.a.arrayOf(o.a.object),o.a.instanceOf(File)]),children:o.a.oneOfType([o.a.element,o.a.array]),error:o.a.oneOfType([o.a.bool,o.a.shape({})])};var Rt=Object(Z.a)(function(e){return{mandatoryStar:{color:e.palette.error.main}}});function jt(e){var t=e.apiInputs,a=e.inputsDispatcher,r=e.onValidate,o="file"===t.inputType,l=Rt(),s=Mt(Object(n.useState)({url:null,file:null}),2),c=s[0],u=s[1],p=Mt(Object(n.useState)(!1),2),m=p[0],f=p[1];return i.a.createElement(i.a.Fragment,null,i.a.createElement(ce.a,{container:!0,spacing:5},i.a.createElement(ce.a,{item:!0,md:12},i.a.createElement(wt.a,{component:"fieldset"},i.a.createElement(Ct.a,{component:"legend"},i.a.createElement(i.a.Fragment,null,i.a.createElement("sup",{className:l.mandatoryStar},"*")," ",i.a.createElement(d.a,{id:"Apis.Create.OpenAPI.Steps.ProvideOpenAPI.Input.type",defaultMessage:"Input type"}))),i.a.createElement(vt.a,{"aria-label":"Input type",value:t.inputType,onChange:function(e){return a({action:"inputType",value:e.target.value})}},i.a.createElement(Et.a,{value:"url",control:i.a.createElement(bt.a,null),label:"OpenAPI URL"}),i.a.createElement(Et.a,{value:"file",control:i.a.createElement(bt.a,null),label:"OpenAPI File"})))),i.a.createElement(ce.a,{item:!0,md:7},o?i.a.createElement(i.a.Fragment,null,i.a.createElement(kt,{error:c.file,onDrop:function(e){f(!0);var t=e.pop(),n=null;_.validateOpenAPIByFile(t).then(function(e){var i=e.body,r=i.isValid,o=i.info;r?(n=t,a({action:"preSetAPI",value:o}),u(Dt({},c,{file:null}))):u(Dt({},c,{file:{message:"OpenAPI content validation failed!"}}))}).catch(function(e){u(Dt({},c,{file:{message:"OpenAPI content validation failed!"}})),console.error(e)}).finally(function(){f(!1),r(null!==n),a({action:"inputValue",value:n})})},files:t.inputValue},m&&i.a.createElement(de.a,null),c.file?c.file.message:i.a.createElement(d.a,{id:"Apis.Create.OpenAPI.Steps.ProvideOpenAPI.Input.file.dropzone",defaultMessage:"Select an OpenAPI definition file"}))):i.a.createElement(he.a,{autoFocus:!0,id:"outlined-full-width",label:"OpenAPI URL",placeholder:"Enter OpenAPI URL",fullWidth:!0,margin:"normal",variant:"outlined",onChange:function(e){var t=e.target.value;return a({action:"inputValue",value:t})},value:t.inputValue,InputLabelProps:{shrink:!0},InputProps:{onBlur:function(e){var n,i=e.target.value;null===(n=Ce.url.required().validate(i).error)?(f(!0),_.validateOpenAPIByUrl(t.inputValue).then(function(e){var t=e.body,n=t.isValid,i=t.info;n?(a({action:"preSetAPI",value:i}),u(Dt({},c,{url:null}))):u(Dt({},c,{url:{message:"OpenAPI content validation failed!"}})),r(n),f(!1)})):(u(Dt({},c,{url:n})),r(!1))},endAdornment:m&&i.a.createElement(Pt.a,{position:"end"},i.a.createElement(de.a,null))},helperText:c.url&&c.url.message,error:Boolean(c.url),disabled:m}))))}function Nt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){Lt(e,t,a[t])})}return e}function Lt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function qt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,i=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){i=!0,r=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw r}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Wt(e){var t=qt(Object(n.useState)(0),2),a=t[0],r=t[1],o=e.history;var l=qt(Object(n.useReducer)(function(e,t){var a,n=t.action,i=t.value;switch(n){case"type":case"inputValue":case"name":case"version":case"endpoint":case"context":case"policies":case"isFormValid":return Nt({},e,Lt({},n,i));case"inputType":return Nt({},e,(Lt(a={},n,i),Lt(a,"inputValue","url"===i?"":null),a));case"preSetAPI":return Nt({},e,{name:i.name.replace(/[&\/\\#,+()$~%.'":*?<>{}\s]/g,""),version:i.version,context:i.context});default:return e}},{type:"ApiCreateOpenAPI",inputType:"url",inputValue:"",formValidity:!1}),2),s=l[0],c=l[1];function u(e){c({action:"isFormValid",value:e})}var p=qt(Object(n.useState)(),2),m=p[0],f=p[1];return i.a.createElement(fe,{title:i.a.createElement(i.a.Fragment,null,i.a.createElement(h.a,{variant:"h5"},i.a.createElement(d.a,{id:"Apis.Create.OpenAPI.ApiCreateOpenAPI.heading",defaultMessage:"Create an API using OpenAPI definition"})),i.a.createElement(h.a,{variant:"caption"},i.a.createElement(d.a,{id:"Apis.Create.OpenAPI.ApiCreateOpenAPI.sub.heading",defaultMessage:"Use an existing OpenAPI definition file or URL to create an API in WSO2 API Manager."})))},i.a.createElement(me.a,{elevation:1},i.a.createElement(ht.a,{activeStep:0},i.a.createElement(gt.a,null,i.a.createElement(yt.a,null,i.a.createElement(d.a,{id:"Apis.Create.OpenAPI.ApiCreateOpenAPI.wizard.one",defaultMessage:"Provide OpenAPI"}))),i.a.createElement(gt.a,null,i.a.createElement(yt.a,null,i.a.createElement(d.a,{id:"Apis.Create.OpenAPI.ApiCreateOpenAPI.wizard.two",defaultMessage:"Create API"}))))),i.a.createElement(ce.a,{container:!0,spacing:3},i.a.createElement(ce.a,{item:!0,md:12}),i.a.createElement(ce.a,{item:!0,md:1}),i.a.createElement(ce.a,{item:!0,md:11},0===a&&i.a.createElement(jt,{onValidate:u,apiInputs:s,inputsDispatcher:c}),1===a&&i.a.createElement(Me,{onValidate:u,onChange:function(e){var t=e.target,a=t.name,n=t.value;c({action:a,value:n})},api:s})),i.a.createElement(ce.a,{item:!0,md:1}),i.a.createElement(ce.a,{item:!0,md:9},i.a.createElement(ce.a,{container:!0,direction:"row",justify:"space-between"},i.a.createElement(ce.a,{item:!0},0===a&&i.a.createElement(pe.b,{to:"/apis/"},i.a.createElement(ue.a,{variant:"outlined"},i.a.createElement(d.a,{id:"Apis.Create.OpenAPI.ApiCreateOpenAPI.cancel",defaultMessage:"Cancel"}))),1===a&&i.a.createElement(ue.a,{onClick:function(){return r(function(e){return e-1})}},"Back")),i.a.createElement(ce.a,{item:!0},0===a&&i.a.createElement(ue.a,{onClick:function(){return r(function(e){return e+1})},variant:"contained",color:"primary",disabled:!s.isFormValid},"Next"),1===a&&i.a.createElement(ue.a,{variant:"contained",color:"primary",disabled:!s.isFormValid||m,onClick:function(){f(!0);var e=s.name,t=s.version,a=s.context,n=s.endpoint,i=s.policies,r=s.inputValue,l=s.inputType,c={name:e,version:t,context:a,policies:i};n&&(c.endpointConfig={endpoint_type:"http",sandbox_endpoints:{url:n},production_endpoints:{url:n}}),c.gatewayEnvironments=["Production and Sandbox"];var u=new _(c);("file"===l?u.importOpenAPIByFile(r):u.importOpenAPIByUrl(r)).then(function(e){se.info("API created successfully"),o.push("/apis/".concat(e.id,"/overview"))}).catch(function(e){e.response?se.error(e.response.body.description):se.error("Something went wrong while adding the API"),console.error(e)}).finally(function(){return f(!1)})}},"Create ",m&&i.a.createElement(de.a,{size:24})))))))}function Ft(e){return(Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bt(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function zt(e,t){return!t||"object"!==Ft(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ut(e){return(Ut=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vt(e,t){return(Vt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}jt.defaultProps={onValidate:function(){}},jt.propTypes={apiInputs:o.a.shape({type:o.a.string,inputType:o.a.string}).isRequired,inputsDispatcher:o.a.func.isRequired,onValidate:o.a.func},Wt.propTypes={history:o.a.shape({push:o.a.func}).isRequired};var Gt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),zt(this,Ut(t).apply(this,arguments))}var a,n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vt(e,t)}(t,C),a=t,i=[{key:"validate",value:function(e){return(new v.a).getAPIClient(E.a.getCurrentEnvironment()).client.then(function(t){return t.apis.Validation.validateWSDLDefinition({url:e,returnContent:!0})})}},{key:"import",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"SOAP",n=(new v.a).getAPIClient(E.a.getCurrentEnvironment()).client;return n.then(function(n){return n.apis.APIs.importWSDLDefinition({url:e,additionalProperties:JSON.stringify(t),implementationType:a})})}}],(n=null)&&Bt(a.prototype,n),i&&Bt(a,i),t}(),Ht=a(908);function Kt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,i=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){i=!0,r=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw r}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Jt=Object(Z.a)(function(e){return{mandatoryStar:{color:e.palette.error.main}}});function Qt(e){var t=e.apiInputs,a=e.inputsDispatcher,r=e.onValidate,o="file"===t.inputType,l="archive"===t.inputType,s="SOAPtoREST"===t.type,c=Jt(),u=Kt(Object(n.useState)(),2),p=u[0],m=u[1],f=Kt(Object(n.useState)(!1),2),h=f[0],g=f[1];return i.a.createElement(i.a.Fragment,null,i.a.createElement(ce.a,{container:!0,spacing:5},i.a.createElement(ce.a,{item:!0,md:12},i.a.createElement(wt.a,{component:"fieldset"},i.a.createElement(Ct.a,{component:"legend"},i.a.createElement(i.a.Fragment,null,i.a.createElement("sup",{className:c.mandatoryStar},"*")," ",i.a.createElement(d.a,{id:"Apis.Create.WSDL.Steps.ProvideWSDL.implementation.type",defaultMessage:"Implementation type"}))),i.a.createElement(vt.a,{"aria-label":"Implementation type",value:t.type,onChange:function(e){return a({action:"type",value:e.target.value})}},i.a.createElement(Et.a,{value:"PASS",control:i.a.createElement(bt.a,null),label:i.a.createElement(d.a,{id:"Apis.Create.WSDL.Steps.ProvideWSDL.passthrough.label",defaultMessage:"Pass Through"})}),i.a.createElement(Et.a,{value:"SOAPtoREST",control:i.a.createElement(bt.a,null),label:i.a.createElement(d.a,{id:"Apis.Create.WSDL.Steps.ProvideWSDL.SOAPtoREST.label",defaultMessage:"Generate REST APIs"})})),i.a.createElement(Ht.a,null,i.a.createElement("sup",null,"*"),i.a.createElement("b",null,"Generate REST APIs")," option is only available for WSDL URL input type"))),i.a.createElement(ce.a,{item:!0,md:12},i.a.createElement(wt.a,{component:"fieldset"},i.a.createElement(Ct.a,{component:"legend"},i.a.createElement(i.a.Fragment,null,i.a.createElement("sup",{className:c.mandatoryStar},"*")," ",i.a.createElement(d.a,{id:"Apis.Create.WSDL.Steps.ProvideWSDL.Input.type",defaultMessage:"Input type"}))),i.a.createElement(vt.a,{"aria-label":"Input type",value:t.inputType,onChange:function(e){return a({action:"inputType",value:e.target.value})}},i.a.createElement(Et.a,{value:"url",control:i.a.createElement(bt.a,null),label:i.a.createElement(d.a,{id:"Apis.Create.WSDL.Steps.ProvideWSDL.url.label",defaultMessage:"WSDL URL"})}),i.a.createElement(Et.a,{value:"file",control:i.a.createElement(bt.a,null),label:i.a.createElement(d.a,{id:"Apis.Create.WSDL.Steps.ProvideWSDL.file.label",defaultMessage:"WSDL File"})}),i.a.createElement(Et.a,{disabled:s,value:"archive",control:i.a.createElement(bt.a,null),label:i.a.createElement(d.a,{id:"Apis.Create.WSDL.Steps.ProvideWSDL.archive.label",defaultMessage:"WSDL Archive"})})))),i.a.createElement(ce.a,{item:!0,md:7},o||l?i.a.createElement(kt,{onDrop:function(e){a({action:"inputValue",value:[e[0]]})},files:t.inputValue}):i.a.createElement(he.a,{autoFocus:!0,id:"outlined-full-width",label:"WSDL URL",placeholder:"Enter WSDL URL",fullWidth:!0,margin:"normal",variant:"outlined",onChange:function(e){var t=e.target.value;return a({action:"inputValue",value:t})},value:t.inputValue,InputLabelProps:{shrink:!0},InputProps:{onBlur:function(e){var a,n=e.target.value;null===(a=Ce.url.required().validate(n).error)?(g(!0),Gt.validate(t.inputValue).then(function(e){var t=e.body.isValid;m(t?null:{message:"WSDL content validation failed!"}),r(t),g(!1)})):(m(a),r(!1))},endAdornment:h&&i.a.createElement(Pt.a,{position:"end"},i.a.createElement(de.a,null))},helperText:p&&p.message,error:Boolean(p),disabled:h}))))}function Yt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){$t(e,t,a[t])})}return e}function $t(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Zt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,i=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){i=!0,r=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw r}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Xt(){var e=Zt(Object(n.useState)(0),2),t=e[0],a=e[1];var r=Zt(Object(n.useReducer)(function(e,t){var a,n=t.action,i=t.value;switch(n){case"type":case"inputValue":case"name":case"version":case"endpoint":case"context":case"policies":case"isFormValid":return Yt({},e,$t({},n,i));case"inputType":return Yt({},e,($t(a={},n,i),$t(a,"inputValue","url"===i?"":[]),a));default:return e}},{type:"SOAPtoREST",inputType:"url",inputValue:"",formValidity:!1}),2),o=r[0],l=r[1];function s(e){l({action:"isFormValid",value:e})}var c=Zt(Object(n.useState)(),2),u=c[0],p=c[1];return i.a.createElement(fe,{title:i.a.createElement(i.a.Fragment,null,i.a.createElement(h.a,{variant:"h5"},i.a.createElement(d.a,{id:"Apis.Create.WSDL.ApiCreateWSDL.heading",defaultMessage:"Create an API using WSDL"})),i.a.createElement(h.a,{variant:"caption"},i.a.createElement(d.a,{id:"Apis.Create.WSDL.ApiCreateWSDL.sub.heading",defaultMessage:"Use an existing SOAP endpoint to create a managed API. Import the WSDL of the SOAP service."})))},i.a.createElement(me.a,{elevation:1},i.a.createElement(ht.a,{activeStep:0},i.a.createElement(gt.a,null,i.a.createElement(yt.a,null,"Provide WSDL")),i.a.createElement(gt.a,null,i.a.createElement(yt.a,null,"Create API")))),i.a.createElement(ce.a,{container:!0,spacing:3},i.a.createElement(ce.a,{item:!0,md:12}),i.a.createElement(ce.a,{item:!0,md:1}),i.a.createElement(ce.a,{item:!0,md:11},0===t&&i.a.createElement(Qt,{onValidate:s,apiInputs:o,inputsDispatcher:l}),1===t&&i.a.createElement(Me,{onValidate:s,onChange:function(e){var t=e.target,a=t.name,n=t.value;l({action:a,value:n})},api:o})),i.a.createElement(ce.a,{item:!0,md:1}),i.a.createElement(ce.a,{item:!0,md:9},i.a.createElement(ce.a,{container:!0,direction:"row",justify:"space-between"},i.a.createElement(ce.a,{item:!0},0===t&&i.a.createElement(pe.b,{to:"/apis/"},i.a.createElement(ue.a,{variant:"outlined"},i.a.createElement(d.a,{id:"Apis.Create.WSDL.ApiCreateWSDL.cancel",defaultMessage:"Cancel"}))),1===t&&i.a.createElement(ue.a,{onClick:function(){return a(function(e){return e-1})}},"Back")),i.a.createElement(ce.a,{item:!0},0===t&&i.a.createElement(ue.a,{onClick:function(){return a(function(e){return e+1})},variant:"contained",color:"primary",disabled:!o.isFormValid},"Next"),1===t&&i.a.createElement(ue.a,{variant:"contained",color:"primary",disabled:!o.isFormValid||u,onClick:function(){p(!0);var e=o.name,t=o.version,a=o.context,n=o.endpoint,i={name:e,version:t,context:a,policies:o.policies};n&&(i.endpointConfig={endpoint_type:"http",sandbox_endpoints:{url:n},production_endpoints:{url:n}}),Gt.import(o.inputValue,i,"SOAPTOREST").then(function(){se.info("API created successfully")}).catch(function(e){e.response?se.error(e.response.body.description):se.error("Something went wrong while adding the API"),console.error(e)}).finally(function(){return p(!1)})}},"Create ",u&&i.a.createElement(de.a,{size:24})))))))}function ea(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){ta(e,t,a[t])})}return e}function ta(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function aa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,i=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){i=!0,r=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw r}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Qt.defaultProps={onValidate:function(){}},Qt.propTypes={apiInputs:o.a.shape({type:o.a.string,inputType:o.a.string}).isRequired,inputsDispatcher:o.a.func.isRequired,onValidate:o.a.func};var na=Object(Z.a)(function(e){return{mandatoryStar:{color:e.palette.error.main}}});function ia(e){var t=e.apiInputs,a=e.inputsDispatcher,r=e.onValidate,o=na(),l=aa(Object(n.useState)({file:null}),2),s=l[0],c=l[1],u=aa(Object(n.useState)(!1),2),p=u[0],m=u[1];return i.a.createElement(i.a.Fragment,null,i.a.createElement(ce.a,{container:!0,spacing:5},i.a.createElement(ce.a,{item:!0,md:12},i.a.createElement(wt.a,{component:"fieldset"},i.a.createElement(Ct.a,{component:"legend"},i.a.createElement(i.a.Fragment,null,i.a.createElement("sup",{className:o.mandatoryStar},"*")," ",i.a.createElement(d.a,{id:"Apis.Create.GraphQL.Steps.ProvideGraphQL.Input.type",defaultMessage:"Provide GraphQL File"}))))),i.a.createElement(ce.a,{item:!0,md:7},i.a.createElement(kt,{error:s.file,onDrop:function(e){m(!0);var t=e.pop(),n=null;_.validateGraphQLFile(t).then(function(e){var i=e.body,r=i.isValid,o=i.info;r?(n=t,a({action:"graphQLBean",value:o}),c(ea({},s,{file:null}))):c(ea({},s,{file:{message:"GraphQL content validation failed!"}}))}).catch(function(e){c(ea({},s,{file:{message:"GraphQL content validation failed!"}})),console.error(e)}).finally(function(){m(!1),r(null!==n),a({action:"inputValue",value:n})})},files:t.inputValue},p&&i.a.createElement(de.a,null),s.file?s.file.message:i.a.createElement(d.a,{id:"Apis.Create.GraphQL.Steps.ProvideGraphQL.Input.file.dropzone",defaultMessage:"Select an GraphQL definition file"})))))}function ra(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){oa(e,t,a[t])})}return e}function oa(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function la(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,i=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){i=!0,r=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw r}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function sa(e){var t=la(Object(n.useState)(0),2),a=t[0],r=t[1],o=e.history;var l=la(Object(n.useReducer)(function(e,t){var a,n=t.action,i=t.value;switch(n){case"type":case"inputValue":case"name":case"version":case"endpoint":case"context":case"policies":case"isFormValid":return ra({},e,oa({},n,i));case"inputType":return ra({},e,(oa(a={},n,i),oa(a,"inputValue","url"===i?"":null),a));case"graphQLBean":return ra({},e,oa({},n,i));case"preSetAPI":return ra({},e,{name:i.name.replace(/[&\/\\#,+()$~%.'":*?<>{}\s]/g,""),version:i.version,context:i.context});default:return e}},{type:"ApiCreateGraphQL",inputType:"file",inputValue:"",formValidity:!1}),2),s=l[0],c=l[1];function u(e){c({action:"isFormValid",value:e})}var p=la(Object(n.useState)(),2),m=p[0],f=p[1];return i.a.createElement(fe,{title:i.a.createElement(i.a.Fragment,null,i.a.createElement(h.a,{variant:"h5"},i.a.createElement(d.a,{id:"Apis.Create.GraphQL.ApiCreateGraphQL.heading",defaultMessage:"Create an API using GraphQL SDL definition"})),i.a.createElement(h.a,{variant:"caption"},i.a.createElement(d.a,{id:"Apis.Create.GraphQL.ApiCreateGraphQL.sub.heading",defaultMessage:"Use an existing GraphQL SDL definition file to create an API in WSO2 API Manager."})))},i.a.createElement(me.a,{elevation:1},0===a&&i.a.createElement(ht.a,{activeStep:0},i.a.createElement(gt.a,null,i.a.createElement(yt.a,null,i.a.createElement(d.a,{id:"Apis.Create.GraphQL.ApiCreateGraphQL.wizard.one",defaultMessage:"Provide GraphQL"}))),i.a.createElement(gt.a,null,i.a.createElement(yt.a,null,i.a.createElement(d.a,{id:"Apis.Create.GraphQL.ApiCreateGraphQL.wizard.two",defaultMessage:"Create API"})))),1===a&&i.a.createElement(ht.a,{activeStep:1},i.a.createElement(gt.a,null,i.a.createElement(yt.a,null,i.a.createElement(d.a,{id:"Apis.Create.GraphQL.ApiCreateGraphQL.wizard.one",defaultMessage:"Provide GraphQL"}))),i.a.createElement(gt.a,null,i.a.createElement(yt.a,null,i.a.createElement(d.a,{id:"Apis.Create.GraphQL.ApiCreateGraphQL.wizard.two",defaultMessage:"Create API"}))))),i.a.createElement(ce.a,{container:!0,spacing:3},i.a.createElement(ce.a,{item:!0,md:12}),i.a.createElement(ce.a,{item:!0,md:1}),i.a.createElement(ce.a,{item:!0,md:11},0===a&&i.a.createElement(ia,{onValidate:u,apiInputs:s,inputsDispatcher:c}),1===a&&i.a.createElement(Me,{onValidate:u,onChange:function(e){var t=e.target,a=t.name,n=t.value;c({action:a,value:n})},api:s})),i.a.createElement(ce.a,{item:!0,md:1}),i.a.createElement(ce.a,{item:!0,md:9},i.a.createElement(ce.a,{container:!0,direction:"row",justify:"space-between"},i.a.createElement(ce.a,{item:!0},0===a&&i.a.createElement(pe.b,{to:"/apis/"},i.a.createElement(ue.a,{variant:"outlined"},i.a.createElement(d.a,{id:"Apis.Create.GraphQL.ApiCreateGraphQL.cancel",defaultMessage:"Cancel"}))),1===a&&i.a.createElement(ue.a,{onClick:function(){return r(function(e){return e-1})}},"Back")),i.a.createElement(ce.a,{item:!0},0===a&&i.a.createElement(ue.a,{onClick:function(){return r(function(e){return e+1})},variant:"contained",color:"primary",disabled:!s.isFormValid},"Next"),1===a&&i.a.createElement(ue.a,{variant:"contained",color:"primary",disabled:!s.isFormValid||m,onClick:function(){var e;f(!0);var t=s.name,a=s.version,n=s.context,i=s.endpoint,r=s.policies,l=s.implementationType,c=s.inputValue,u={name:t,version:a,context:n,policies:r};i&&(u.endpointConfig={endpoint_type:"http",sandbox_endpoints:{url:i},production_endpoints:{url:i}}),u.gatewayEnvironments=["Production and Sandbox"];var p=new _(u),d=(oa(e={additionalProperties:JSON.stringify(u),implementationType:l},"file","file"),oa(e,"file",c),e);p.importGraphQL(d).then(function(e){var a=e.obj.id;se.info("".concat(t," API created successfully")),o.push("/apis/".concat(a,"/overview"))}).catch(function(e){e.response?se.error(e.response.body.description):se.error("Something went wrong while adding the API"),console.error(e)}).finally(function(){return f(!1)})}},"Create ",m&&i.a.createElement(de.a,{size:24})))))))}function ca(){return(ca=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}ia.defaultProps={onValidate:function(){}},ia.propTypes={apiInputs:o.a.shape({type:o.a.string,inputType:o.a.string}).isRequired,inputsDispatcher:o.a.func.isRequired,onValidate:o.a.func},sa.propTypes={history:o.a.shape({push:o.a.func}).isRequired};var ua=function(e){return i.a.createElement(Xe,ca({},e,{type:"ws"}))};function pa(e){var t=e.classes;return i.a.createElement("main",{className:t.content},i.a.createElement(l.Switch,null,i.a.createElement(l.Route,{path:"/apis/create/rest",component:Xe}),i.a.createElement(l.Route,{path:"/api-products/create",component:ft}),i.a.createElement(l.Route,{path:"/apis/create/graphQL",component:sa}),i.a.createElement(l.Route,{path:"/apis/create/openapi",component:Wt}),i.a.createElement(l.Route,{path:"/apis/create/wsdl",component:Xt}),i.a.createElement(l.Route,{path:"/apis/create/ws",component:ua}),i.a.createElement(l.Route,{component:f})))}pa.propTypes={classes:o.a.shape({content:o.a.string}).isRequired};var da=Object(b.a)({content:{flexGrow:1}})(pa),ma=a(838),fa=a(923),ha=a(744),ga=a.n(ha),ya=a(964),ba=a.n(ya),va=a(957),Ea=a(447),wa=a.n(Ea);function Ca(){return(Ca=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Pa(e){for(var t=e.classes,a=e.colorPair,n=e.width,r=e.height,o={width:50,height:50},l=[],s=0;s<=4;s++)for(var c=0;c<=4;c++)l.push(i.a.createElement("rect",Ca({key:s+"_"+c},o,{fill:"#"+(a.sub-(37*s-21*c)).toString(16),x:200-54*s,y:54*c})));return i.a.createElement("svg",{width:n,height:r,className:t.svgImage},i.a.createElement("rect",Ca({},{width:250,height:200},{fill:"#"+a.prime.toString(16)})),l)}Pa.propTypes={classes:o.a.shape({}).isRequired,width:o.a.shape({}).isRequired,height:o.a.shape({}).isRequired,colorPair:o.a.shape({}).isRequired};var Sa=Object(b.a)({svgImage:{cursor:"pointer",objectFit:"cover"}})(Pa);function Aa(e){return(Aa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oa(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function xa(e,t){return!t||"object"!==Aa(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ia(e){return(Ia=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ta(e,t){return(Ta=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ka=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),xa(this,Ia(t).apply(this,arguments))}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ta(e,t)}(t,n["PureComponent"]),a=t,(r=[{key:"render",value:function(){var e,t,a,n=this.props,r=n.classes,o=n.api,l=n.width,s=n.height,c=n.theme,u=n.fixedIcon,p=u.category,d=u.key,m=u.color,f=u.backgroundIndex,h=o;"object"===Aa(o)&&(h=o.name),h||(h="default");var g=c.custom.thumbnail.backgrounds;if(d&&p)a=d;else if("DOC"===o.type)a=c.custom.thumbnail.document.icon;else{e=wa.a.categories[0].icons.length;var y=(h.charCodeAt(0)+h.charCodeAt(h.length-1))%e;a=wa.a.categories[0].icons[y].id}return t="DOC"===o.type?c.custom.thumbnail.document.backgrounds:f&&g.length>f?g[f]:g[(h.charCodeAt(0)+h.charCodeAt(h.length-1))%g.length],i.a.createElement("div",{className:r.iconWrapper,style:{width:l}},i.a.createElement(va.a,{className:r.icon,style:{fontSize:s,marginLeft:-s/2,color:m}},a),i.a.createElement(Sa,{width:l,height:s,colorPair:t}))}}])&&Oa(a.prototype,r),o&&Oa(a,o),t}();ka.defaultProps={height:190,width:250,fixedIcon:{category:null,key:null,color:"",backgroundIndex:null}},ka.propTypes={classes:o.a.shape({}).isRequired,height:o.a.number,width:o.a.number,fixedIcon:o.a.shape({}),api:o.a.shape({}).isRequired,iconSettings:o.a.shape({}).isRequired,theme:o.a.shape({}).isRequired};var Da=Object(b.a)({icon:{},iconWrapper:{position:"relative","& span":{position:"absolute",left:"50%"}}},{withTheme:!0})(ka),_a=a(942),Ma=a(943),Ra=a(944),ja=a(945),Na=a(1301),La=a(553),qa=a.n(La),Wa=a(947),Fa=a(951),Ba=a(949),za=a(950),Ua=a(948),Va=a(690),Ga=a.n(Va),Ha=a(953),Ka=a(9);function Ja(e){return(Ja="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qa(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ya(e,t){return!t||"object"!==Ja(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $a(e){return($a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Za(e,t){return(Za=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Xa={APIS:"/apis",API_PRODUCTS:"/api-products",SINGLE_API:"/apis/{apiId}",SINGLE_API_PRODUCT:"/api-products/{apiId}",API_SWAGGER:"/apis/{apiId}/swagger",API_WSDL:"/apis/{apiId}/wsdl",API_GW_CONFIG:"/apis/{apiId}/gateway-config",API_THUMBNAIL:"/apis/{apiId}/thumbnail",API_COPY:"/apis/copy-api",API_LC_HISTORY:"/apis/{apiId}/lifecycle-history",API_CHANGE_LC:"/apis/change-lifecycle",API_LC:"/apis/{apiId}/lifecycle",API_LC_PENDING_TASK:"/apis/{apiId}/lifecycle/lifecycle-pending-task",API_DEF:"/apis/import-definition",API_VALIDATE_DEF:"/apis/validate-definition",API_DOCS:"/apis/{apiId}/documents",API_DOC:"'/apis/{apiId}/documents/{documentId}'",API_DOC_CONTENT:"'/apis/{apiId}/documents/{documentId}/content'",EXPORT_APIS:"/export/apis",IMPORT_APIS:"/import/apis",SUBSCRIPTION:"/subscriptions",SUBSCRIPTIONS:"/subscriptions",BLOCK_SUBSCRIPTION:"/subscriptions/block-subscription",UNBLOCK_SUBSCRIPTION:"/subscriptions/unblock-subscription",POLICIES:"'/policies/{tierLevel}'",POLICY:"'/policies/{tierLevel}/{tierName}'",ENDPOINTS:"/endpoints",ENDPOINT:"/endpoints/{endpointId}",LABLES:"/labels",WORKFLOW:"/workflows/{workflowReferenceId}",SERVICE_DISCOVERY:"/external-resources/services"},en={POST:"post",PUT:"put",GET:"get",DELETE:"delete"},tn=function(e){function t(e){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(a=Ya(this,$a(t).call(this,e))).state={},a}var a,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Za(e,t)}(t,i.a.Component),a=t,(n=[{key:"componentDidMount",value:function(){var e=this;Ka.a.hasScopes(this.props.resourcePath,this.props.resourceMethod).then(function(t){e.setState({haveScope:t})})}},{key:"render",value:function(){var e=this.props.children;return this.state.haveScope&&e||null}}])&&Qa(a.prototype,n),r&&Qa(a,r),t}();function an(e){return(an="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nn(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function rn(e){return(rn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function on(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ln(e,t){return(ln=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}tn.propTypes={children:o.a.node.isRequired,resourcePath:o.a.string.isRequired,resourceMethod:o.a.string.isRequired};var sn=function(e){function t(e){var a,n,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(a=!(i=rn(t).call(this,e))||"object"!==an(i)&&"function"!=typeof i?on(n):i).handleApiDelete=a.handleApiDelete.bind(on(a)),a.handleRequestClose=a.handleRequestClose.bind(on(a)),a.handleRequestOpen=a.handleRequestOpen.bind(on(a)),a.state={openMenu:!1},a}var a,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ln(e,t)}(t,i.a.Component),a=t,(n=[{key:"handleRequestClose",value:function(){this.setState({openMenu:!1})}},{key:"handleRequestOpen",value:function(){this.setState({openMenu:!0})}},{key:"handleApiDelete",value:function(){var e=this.props,t=e.api,a=e.history;t.apiType===_.CONSTS.APIProduct?t.deleteProduct().then(function(e){if(200!==e.status)return console.log(e),void se.error("Something went wrong while deleting the API Product!");se.success("API Product "+t.name+" was deleted successfully!"),a.push("/api-products")}):t.delete().then(function(e){if(200!==e.status)return console.log(e),void se.error("Something went wrong while deleting the API!");se.success("API "+t.name+" was deleted successfully!"),a.push("/apis")})}},{key:"render",value:function(){var e=this,t=this.props,a=t.api,n=t.onClick,r=t.classes,o=a.apiType===_.CONSTS.APIProduct?"API Product ":"API ",l=a.apiType===_.CONSTS.APIProduct?null:"-"+a.version,s=n||this.handleApiDelete;return i.a.createElement(i.a.Fragment,null,i.a.createElement(tn,{resourceMethod:en.DELETE,resourcePath:Xa.SINGLE_API},i.a.createElement("div",{className:r.deleteWrapper},i.a.createElement(nt,{height:70}),i.a.createElement("a",{onClick:this.handleRequestOpen,onKeyDown:this.handleRequestOpen,className:r.delete},i.a.createElement("div",null,i.a.createElement(Ga.a,null)),i.a.createElement("div",{className:r.linkText},"Delete")))),i.a.createElement(Wa.a,{open:this.state.openMenu,transition:Ha.a},i.a.createElement(Fa.a,null,i.a.createElement(d.a,{id:"Apis.Details.components.DeleteApiButton.title.confirm",defaultMessage:"Confirm"})),i.a.createElement(Ba.a,null,i.a.createElement(za.a,null,i.a.createElement(d.a,{id:"Apis.Details.components.DeleteApiButton.text.content",defaultMessage:"Are you sure you want to delete the {type} {name} {version} ?",values:{type:o,name:a.name,version:l}}))),i.a.createElement(Ua.a,null,i.a.createElement(ue.a,{dense:!0,variant:"outlined",color:"secondary",onClick:function(){s(),e.handleRequestClose()}},i.a.createElement(d.a,{id:"Apis.Details.components.DeleteApiButton.button.delete",defaultMessage:"Delete"})),i.a.createElement(ue.a,{dense:!0,onClick:this.handleRequestClose},i.a.createElement(d.a,{id:"Apis.Details.components.DeleteApiButton.button.cancel",defaultMessage:"Cancel"})))))}}])&&nn(a.prototype,n),r&&nn(a,r),t}();sn.defaultProps={onClick:!1},sn.propTypes={api:o.a.shape({delete:o.a.func}).isRequired,history:o.a.shape({push:o.a.func}).isRequired,onClick:o.a.func,classes:o.a.shape({}).isRequired};var cn=Object(l.withRouter)(Object(b.a)(function(e){return{root:{height:70,background:e.palette.background.paper,borderBottom:"solid 1px "+e.palette.grey.A200,display:"flex",alignItems:"center"},backLink:{alignItems:"center",textDecoration:"none",display:"flex"},backIcon:{color:e.palette.primary.main,fontSize:56,cursor:"pointer"},backText:{color:e.palette.primary.main,cursor:"pointer",fontFamily:e.typography.fontFamily},deleteWrapper:{flex:0,display:"flex",justifyContent:"flex-end",paddingRight:2*e.spacing.unit},delete:{display:"flex",flexDirection:"column",textAlign:"center",color:e.custom.deleteButtonColor,justifyContent:"center",cursor:"pointer"},linkText:{fontSize:e.typography.fontSize}}},{withTheme:!0})(sn)),un=a(871),pn=a.n(un),dn=a(1293),mn=a(1304),fn=a(974),hn=a.n(fn),gn=a(1377);function yn(e){return(yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bn(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function vn(e){return(vn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function En(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wn(e,t){return(wn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Cn(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Pn(){return(Pn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var Sn=window.URL||window.webkitURL;function An(e){return i.a.createElement(Ha.a,Pn({direction:"up"},e))}var On=function(e){function t(e){var a,n,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,i=vn(t).call(this,e),a=!i||"object"!==yn(i)&&"function"!=typeof i?En(n):i,Cn(En(a),"handleClick",function(e,t){return function(){if("btnEditAPIThumb"===e)a.setState({open:!0});else if("btnUploadAPIThumb"===e){var n,i=a.props.api,r=a.state,o=r.selectedTab,l=r.selectedIcon,s=r.category,c=r.color,u=r.backgroundIndex,p=r.file;if("upload"===o){if(!i.id&&!p)return void se.error(t.formatMessage({id:"Apis.Listing.components.ImageGenerator.ThumbnailView.thumbnail.validation.error",defaultMessage:"Invalid file or API information is not set correctly."}));n=p[0]}else{if(!l&&!c&&!u)return void se.error(t.formatMessage({id:"the.icon.is.not.modified",defaultMessage:"The icon is not modified"}));var d={key:l,category:s,color:c,backgroundIndex:u},m=new Blob([JSON.stringify(d)],{type:"application/json"});n=new File([m],"FileName.json",{type:"application/json"})}a.uploadThumbnail(i.id,n,t)}}}),Cn(En(a),"handleChange",function(e,t){a.setState({selectedTab:t})}),Cn(En(a),"handleSelectionChange",function(e){return function(t){a.setState(Cn({},e,t.target.value))}}),Cn(En(a),"selectIcon",function(e){a.setState({selectedIcon:e})}),Cn(En(a),"handleChangeComplete",function(e){a.setState({color:e.hex})}),Cn(En(a),"selectBackground",function(e){a.setState({backgroundIndex:e})}),a.state={open:!1,file:null,thumbnail:null,selectedTab:"design",category:wa.a.categories[0].name,selectedIcon:null,color:null,backgroundIndex:null},a.handleClick=a.handleClick.bind(En(a)),a.handleClose=a.handleClose.bind(En(a)),a}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wn(e,t)}(t,n["Component"]),a=t,(r=[{key:"componentDidMount",value:function(){var e=this,t=this.props.api,a=t.apiType,n=t.id;"DOC"!==t.type&&(a===_.CONSTS.APIProduct?(new ze).getAPIProductThumbnail(n):(new _).getAPIThumbnail(n)).then(function(t){if(t&&t.data)if("application/json"===t.headers["content-type"]){var a=JSON.parse(t.data);e.setState({selectedIcon:a.key,category:a.category,color:a.color,backgroundIndex:a.backgroundIndex})}else if(t&&t.data.size>0){var n=Sn.createObjectURL(t.data);e.setState({thumbnail:n})}})}},{key:"componentWillUnmount",value:function(){this.state.thumbnail&&Sn.revokeObjectURL(this.state.thumbnail)}},{key:"onDrop",value:function(e){this.setState({file:e})}},{key:"uploadThumbnail",value:function(e,t,a){var n=this,i=this.props.api,r=i.apiType,o=i.id;(r===_.CONSTS.APIProduct?(new ze).addAPIProductThumbnail(o,t):(new _).addAPIThumbnail(o,t)).then(function(){se.info(a.formatMessage({id:"Apis.Listing.components.ImageGenerator.ThumbnailView.thumbnail.upload.success",defaultMessage:"Thumbnail uploaded successfully"})),n.setState({open:!1,thumbnail:t.preview})}).catch(function(e){se.error(a.formatMessage({id:"Apis.Listing.components.ImageGenerator.ThumbnailView.thumbnail.upload.error",defaultMessage:"Error occurred while uploading new thumbnail. Please try again."}))})}},{key:"handleClose",value:function(){this.state.file&&Sn.revokeObjectURL(this.state.file.preview),this.setState({open:!1,file:null})}},{key:"saveDisableEnable",value:function(){var e=this.state,t=e.file,a=e.selectedTab,n=e.selectedIcon,i=e.color,r=e.backgroundIndex;return"upload"===a?!(t&&t[0]):!(n||r||i)}},{key:"render",value:function(){var e=this,t=this.props,a=t.api,n=t.classes,r=t.width,o=t.height,l=t.isEditable,s=t.theme,c=t.intl,u=s.custom.thumbnail.backgrounds,p=this.state,m=p.file,f=p.thumbnail,g=p.selectedTab,y=p.selectedIcon,b=p.color,v=p.backgroundIndex,E=this.state.category;E||(E=wa.a.categories[0].name);var w,C="";return C=a.apiType?a.apiType===_.CONSTS.APIProduct?"/api-products/".concat(a.id,"/overview"):"/apis/".concat(a.id,"/overview"):"/apis/".concat(a.apiUUID,"/documents/").concat(a.id,"/details"),w=f?i.a.createElement("img",{height:o,width:r,src:f,alt:"API Thumbnail",className:n.media}):i.a.createElement(Da,{width:r,height:o,api:a,fixedIcon:{key:y,color:b,backgroundIndex:v,category:E,api:a}}),i.a.createElement(i.a.Fragment,null,l?i.a.createElement(dn.a,{style:{marginBottom:s.spacing(3)},focusRipple:!0,className:n.thumb,onClick:this.handleClick("btnEditAPIThumb",c)},w,i.a.createElement("span",{className:n.thumbBackdrop}),i.a.createElement("span",{className:n.thumbButton},i.a.createElement(h.a,{component:"span",variant:"subtitle1",color:"inherit"},i.a.createElement(hn.a,null)))):i.a.createElement(pe.b,{className:n.suppressLinkStyles,to:C},w),i.a.createElement(Wa.a,{TransitionComponent:An,"aria-labelledby":"thumb-dialog-title",disableBackdropClick:!0,open:this.state.open,onClose:this.handleClose,fullWidth:"true",maxWidth:"lg",fullScreen:!0},i.a.createElement(me.a,{square:!0,className:n.popupHeader},i.a.createElement(K.a,{color:"inherit",onClick:this.handleClose,"aria-label":"Close"},i.a.createElement(va.a,null,"close")),i.a.createElement(vt.a,{"aria-label":"APIThumbnail",name:"apiThumbnail",className:n.group,value:this.state.selectedTab,onChange:this.handleChange},i.a.createElement(Et.a,{value:"design",control:i.a.createElement(bt.a,null),label:i.a.createElement(d.a,{id:"Apis.Listing.components.ImageGenerator.ThumbnailView.design",defaultMessage:"Design"})}),i.a.createElement(Et.a,{value:"upload",control:i.a.createElement(bt.a,null),label:i.a.createElement(d.a,{id:"Apis.Listing.components.ImageGenerator.ThumbnailView.upload",defaultMessage:"Upload"})}))),i.a.createElement(Ba.a,null,"upload"===g&&i.a.createElement(ce.a,{container:!0,spacing:4},i.a.createElement(ce.a,{item:!0,xs:3},i.a.createElement("div",{className:n.imageContainer},i.a.createElement("img",{className:n.preview,src:m&&m.length>0?m[0].preview:"/publisher-new/site/public/images/api/api-default.png",alt:"Thumbnail Preview"}))),i.a.createElement(ce.a,{item:!0,xs:9},i.a.createElement(St.a,{multiple:!1,accept:"image/*",className:n.dropzone,activeClassName:n.acceptDrop,rejectClassName:n.rejectDrop,onDrop:function(t){e.onDrop(t)}},i.a.createElement("div",{className:n.dropZoneWrapper},i.a.createElement(va.a,{className:n.dropIcon},"cloud_upload"))))),"design"===g&&i.a.createElement(ce.a,{container:!0,spacing:4},i.a.createElement(ce.a,{item:!0,xs:3,className:n.imageGenWrapper},i.a.createElement(Da,{width:r,height:o,api:a,fixedIcon:{key:y,color:b,backgroundIndex:v,category:E,api:a}})),i.a.createElement(ce.a,{item:!0,xs:9},i.a.createElement("div",{className:n.subtitleWrapper},i.a.createElement(h.a,{component:"p",variant:"subtitle2",className:n.subtitle},i.a.createElement(d.a,{id:"Apis.Listing.components.ImageGenerator.ThumbnailView.select.category",defaultMessage:"Select Category"})),i.a.createElement(mn.a,{native:!0,value:this.state.category,onChange:this.handleSelectionChange("category")},wa.a.categories.map(function(e){return i.a.createElement("option",{value:e.name},e.name)}))),i.a.createElement(h.a,{component:"p",variant:"body1",className:n.body},i.a.createElement(d.a,{id:"Apis.Listing.components.ImageGenerator.ThumbnailView.select.an.icon",defaultMessage:"Select an icon from the Material Icons for you api."})),i.a.createElement("div",{style:{background:"#efefef",maxHeight:180,overflow:"scroll"}},function(e){for(var t=0;t<wa.a.categories.length;t++)if(wa.a.categories[t].name===e)return wa.a.categories[t].icons}(E).map(function(t){return i.a.createElement(va.a,{className:n.iconView,onClick:function(){return e.selectIcon(t.id)}},t.id)})),i.a.createElement("div",{className:n.subtitleWrapper},i.a.createElement(h.a,{component:"p",variant:"subtitle2",className:n.subtitle},i.a.createElement(d.a,{id:"Apis.Listing.components.ImageGenerator.ThumbnailView.select.color.for.the.icon",defaultMessage:"Select a color for the icon"}))),i.a.createElement(gn.SketchPicker,{color:this.state.color||"#ffffff",onChangeComplete:this.handleChangeComplete}),i.a.createElement("div",{className:n.subtitleWrapper},i.a.createElement(h.a,{component:"p",variant:"subtitle2",className:n.subtitle},i.a.createElement(d.a,{id:"Apis.Listing.components.ImageGenerator.ThumbnailView.select.background",defaultMessage:"Select a Background"}))),u.map(function(t,a){return i.a.createElement("div",{className:n.backgroundSelection,onClick:function(){return e.selectBackground(a)},onKeyDown:function(){}},i.a.createElement(Sa,{width:100,height:100,colorPair:t}))})))),i.a.createElement(Ua.a,{className:n.actionBox},i.a.createElement(ue.a,{disabled:this.saveDisableEnable(),variant:"contained",color:"primary",size:"small",onClick:this.handleClick("btnUploadAPIThumb")},i.a.createElement(d.a,{id:"Apis.Listing.components.ImageGenerator.ThumbnailView.upload.btn",defaultMessage:"Upload"})),i.a.createElement(ue.a,{variant:"contained",size:"small",onClick:this.handleClose},i.a.createElement(d.a,{id:"Apis.Listing.components.ImageGenerator.ThumbnailView.cancel.btn",defaultMessage:"CANCEL"})))))}}])&&bn(a.prototype,r),o&&bn(a,o),t}();On.defaultProps={height:190,width:250,isEditable:!1},On.propTypes={api:o.a.shape({}).isRequired,classes:o.a.shape({}).isRequired,height:o.a.number,width:o.a.number,isEditable:o.a.bool,intl:o.a.shape({}).isRequired,theme:o.a.shape({}).isRequired};var xn=Object(d.d)(Object(b.a)(function(e){return{acceptDrop:{backgroundColor:qa.a[50]},dropzone:{border:"1px dashed "+e.palette.primary.main,borderRadius:"5px",cursor:"pointer",height:"calc(100vh - 10em)",padding:"".concat(2*e.spacing.unit,"px 0px"),position:"relative",textAlign:"center",width:"100%",margin:"10px 0"},dropZoneWrapper:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center","& span":{fontSize:100,color:e.palette.primary.main}},media:{objectFit:"cover"},preview:{height:25*e.spacing.unit},rejectDrop:{backgroundColor:pn.a[50]},suppressLinkStyles:{textDecoration:"none",color:e.palette.text.disabled},thumb:{"&:hover":{zIndex:1,"& $thumbBackdrop":{opacity:.2}}},thumbBackdrop:{position:"absolute",left:0,right:0,top:0,bottom:0,backgroundColor:e.palette.common.black,opacity:.4},thumbButton:{position:"absolute",left:0,right:0,top:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",color:e.palette.common.white},group:{display:"flex",flexDirection:"row",padding:"0 0 0 20px"},popupHeader:{display:"flex",flexDirection:"row"},iconView:{width:30,margin:10,cursor:"pointer"},subtitle:{marginRight:20},subtitleWrapper:{display:"flex",flexDirection:"row",alignItems:"center",marginTop:20,marginBottom:10},body:{marginBottom:10},imageGenWrapper:{"& > div":{position:"fixed",marginTop:20}},backgroundSelection:{cursor:"pointer",marginRight:10,display:"inline-block"},actionBox:{boxShadow:"0px 1px 5px 0px rgba(0,0,0,0.2), 0px 2px 2px 0px rgba(0,0,0,0.14), 0px 3px 1px -2px rgba(0,0,0,0.12)",justifyContent:"flex-start",padding:"10px 0 10px 10px"},imageContainer:{paddingTop:10}}},{withTheme:!0})(On));function In(e){return(In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tn(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function kn(e){return(kn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Dn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _n(e,t){return(_n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Mn=function(e){function t(e){var a,n,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(a=!(i=kn(t).call(this,e))||"object"!==In(i)&&"function"!=typeof i?Dn(n):i).state={isHover:!1,loading:!1},a.toggleMouseOver=a.toggleMouseOver.bind(Dn(a)),a.handleApiDelete=a.handleApiDelete.bind(Dn(a)),a}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_n(e,t)}(t,n["Component"]),a=t,(r=[{key:"handleApiDelete",value:function(){var e=this,t=this.props.api,a=t.id,n=t.name;this.setState({loading:!0});var i=this.props,r=i.updateData;i.isAPIProduct?_.deleteProduct(a).then(function(t){200===t.status?(r(a),se.info("API Product ".concat(n," deleted Successfully")),e.setState({loading:!1})):se.info("Something went wrong while deleting the API Product!")}):_.delete(a).then(function(t){200===t.status?(r(a),se.info("API ".concat(n," deleted Successfully")),e.setState({loading:!1})):se.info("Something went wrong while deleting the API!")})}},{key:"toggleMouseOver",value:function(e){this.setState({isHover:"mouseover"===e.type})}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.api,n=e.isAPIProduct,r=this.state,o=r.isHover,l=r.loading;return a.apiType=n?_.CONSTS.APIProduct:_.CONSTS.API,a.lifeCycleStatus||(a.lifeCycleStatus=a.status),i.a.createElement(_a.a,{onMouseOver:this.toggleMouseOver,onFocus:this.toggleMouseOver,onMouseOut:this.toggleMouseOver,onBlur:this.toggleMouseOver,raised:o,className:t.card},i.a.createElement(ja.a,{src:"None",component:xn,height:140,title:"Thumbnail",api:a}),i.a.createElement(Ra.a,{className:t.apiDetails},i.a.createElement(h.a,{gutterBottom:!0,variant:"h5",component:"h2"},a.name),i.a.createElement(ce.a,{container:!0},i.a.createElement(ce.a,{item:!0,md:6},i.a.createElement(d.a,{id:"by",defaultMessage:"By"}),":",i.a.createElement(h.a,{className:t.providerText,variant:"body1",gutterBottom:!0},a.provider)),i.a.createElement(ce.a,{item:!0,md:6},i.a.createElement(d.a,{id:"context",defaultMessage:"Context"}),":",i.a.createElement(h.a,{variant:"body1",gutterBottom:!0},a.context)),n?null:i.a.createElement(ce.a,{item:!0,md:6},i.a.createElement(d.a,{id:"version",defaultMessage:"Version"}),":",i.a.createElement(h.a,{variant:"body1"},a.version)))),i.a.createElement(Ma.a,{className:t.apiActions},i.a.createElement(Na.a,{label:a.apiType===_.CONSTS.APIProduct?a.state:a.lifeCycleStatus,color:"default"}),"GRAPHQL"===a.type&&i.a.createElement(Na.a,{label:a.type,color:"primary"}),i.a.createElement(cn,{onClick:this.handleApiDelete,api:a}),l&&i.a.createElement(de.a,{className:t.deleteProgress})))}}])&&Tn(a.prototype,r),o&&Tn(a,o),t}();Mn.propTypes={classes:o.a.shape({}).isRequired,api:o.a.shape({id:o.a.string,name:o.a.string,apiType:o.a.string.isRequired}).isRequired,updateData:o.a.func.isRequired,isAPIProduct:o.a.bool.isRequired};var Rn=Object(d.d)(Object(b.a)(function(e){return{card:{margin:1.5*e.spacing.unit,maxWidth:32*e.spacing.unit,transition:"box-shadow 0.3s ease-in-out"},providerText:{textTransform:"capitalize"},apiDetails:{padding:e.spacing.unit},apiActions:{justifyContent:"space-between",padding:"0px 0px ".concat(e.spacing.unit,"px 8px")},deleteProgress:{color:qa.a[200],position:"absolute",marginLeft:"200px"}}})(Mn));function jn(e){return(jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nn(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ln(e){return(Ln=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wn(e,t){return(Wn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Fn=function(e){function t(e){var a,n,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(a=!(i=Ln(t).call(this,e))||"object"!==jn(i)&&"function"!=typeof i?qn(n):i).state={isHover:!1},a.toggleMouseOver=a.toggleMouseOver.bind(qn(a)),a}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wn(e,t)}(t,n["Component"]),a=t,(r=[{key:"toggleMouseOver",value:function(e){this.setState({isHover:"mouseover"===e.type})}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.doc,n=this.state.isHover;return i.a.createElement(_a.a,{onMouseOver:this.toggleMouseOver,onFocus:this.toggleMouseOver,onMouseOut:this.toggleMouseOver,onBlur:this.toggleMouseOver,raised:n,className:t.card},i.a.createElement(ja.a,{src:"None",component:xn,height:140,title:"Thumbnail",api:a}),i.a.createElement(Ra.a,{className:t.docDetails},i.a.createElement(h.a,{gutterBottom:!0,variant:"h5",component:"h2"},a.name),i.a.createElement(ce.a,{container:!0},i.a.createElement(ce.a,{item:!0,md:6},i.a.createElement(d.a,{id:"Apis.Listing.components.ImageGenerator.DocThumb.sourceType",defaultMessage:"Source Type"}),":",i.a.createElement(h.a,{variant:"body1"},a.sourceType)),i.a.createElement(ce.a,{item:!0,md:6},i.a.createElement(d.a,{id:"Apis.Listing.components.ImageGenerator.DocThumb.apiName",defaultMessage:"Api Name"}),":",i.a.createElement(h.a,{className:t.providerText,variant:"body1",gutterBottom:!0},a.apiName)),i.a.createElement(ce.a,{item:!0,md:6},i.a.createElement(d.a,{id:"Apis.Listing.components.ImageGenerator.DocThumb.apiVersion",defaultMessage:"Api Version"}),":",i.a.createElement(h.a,{variant:"body1",gutterBottom:!0},a.apiVersion)))))}}])&&Nn(a.prototype,r),o&&Nn(a,o),t}();Fn.propTypes={classes:o.a.shape({}).isRequired,doc:o.a.shape({id:o.a.string,name:o.a.string,sourceType:o.a.string.isRequired,apiName:o.a.string.isRequired,apiVersion:o.a.string.isRequired}).isRequired};var Bn=Object(d.d)(Object(b.a)(function(e){return{card:{margin:1.5*e.spacing.unit,maxWidth:32*e.spacing.unit,transition:"box-shadow 0.3s ease-in-out"},providerText:{textTransform:"capitalize"},docDetails:{padding:e.spacing.unit},docActions:{justifyContent:"space-between",padding:"0px 0px ".concat(e.spacing.unit,"px 0px")},deleteProgress:{color:qa.a[200],position:"absolute",marginLeft:"200px"}}})(Fn));function zn(e){var t=e.title,a=e.message,n=e.labelCancel,r=e.labelOk,o=e.open,l=e.callback;function s(e){e===zn.Action.OK?l(!0):l(!1)}return i.a.createElement(Wa.a,{open:o,onClose:s},i.a.createElement(Fa.a,null,t),i.a.createElement(Ba.a,null,i.a.createElement(za.a,null,a)),i.a.createElement(Ua.a,null,i.a.createElement(ue.a,{onClick:function(){return s(zn.Action.CANCEL)},color:"primary"},n),i.a.createElement(ue.a,{onClick:function(){return s(zn.Action.OK)},color:"primary"},r)))}zn.defaultProps={title:i.a.createElement(d.a,{id:"Apis.Shared.ConfirmDialog.please.confirm",defaultMessage:"Please Confirm"}),message:i.a.createElement(d.a,{id:"Apis.Shared.ConfirmDialog.are.you.sure",defaultMessage:"Are you sure?"}),labelOk:i.a.createElement(d.a,{id:"Apis.Shared.ConfirmDialog.ok",defaultMessage:"OK"}),labelCancel:i.a.createElement(d.a,{id:"Apis.Shared.ConfirmDialog.cancel",defaultMessage:"Cancel"}),callback:function(){}},zn.propTypes={title:o.a.string,message:o.a.string,labelCancel:o.a.string,labelOk:o.a.string,open:o.a.bool.isRequired,callback:o.a.func,intl:o.a.shape({formatMessage:o.a.func}).isRequired},zn.Action={OK:"ok",CANCEL:"cancel"};var Un=a(509),Vn=a.n(Un);function Gn(){return(Gn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var Hn=function(e){var t,a,n,r=e.loading,o=e.success,l=e.children,s=e.classes,c={color:e.color,disableFocusRipple:e.disableFocusRipple,disableRipple:e.disableRipple,fullWidth:e.fullWidth,href:e.href,mini:e.mini,size:e.size,variant:e.variant},u=Vn()((t={},a=s.buttonSuccess,n=o,a in t?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,t));return i.a.createElement("div",{className:s.wrapper},i.a.createElement(ue.a,Gn({},c,{className:u,disabled:r}),l),r&&i.a.createElement(de.a,{size:24,className:s.buttonProgress}))};Hn.defaultProps={loading:!1,success:!1,color:"default",disabled:!1,disableFocusRipple:!1,fullWidth:!1,mini:!1,size:"medium",type:"button",variant:"flat",disableRipple:!1,href:""},Hn.propTypes={loading:o.a.bool,success:o.a.bool,children:o.a.node.isRequired,classes:o.a.shape({buttonSuccess:o.a.string,wrapper:o.a.string,buttonProgress:o.a.string}).isRequired,color:o.a.oneOf(["default","inherit","primary","secondary"]),disabled:o.a.bool,disableFocusRipple:o.a.bool,disableRipple:o.a.bool,fullWidth:o.a.bool,href:o.a.string,mini:o.a.bool,size:o.a.oneOf(["small","medium","large"]),type:o.a.string,variant:o.a.oneOf(["flat","raised","fab"])};Object(b.a)(function(e){return{wrapper:{margin:e.spacing.unit,position:"relative"},buttonSuccess:{backgroundColor:qa.a[500],"&:hover":{backgroundColor:qa.a[700]}},buttonProgress:{color:qa.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})(Hn);var Kn=a(84),Jn=(a(1442),function(e){var t=e.message;return i.a.createElement("div",{className:"redirect-flex-container"},i.a.createElement(ce.a,{container:!0,justify:"center",alignItems:"center",spacing:0,className:"redirect-grid-container"},i.a.createElement(ce.a,{item:!0,lg:6,md:8,xs:10},i.a.createElement(ce.a,{container:!0,alignItems:"center"},i.a.createElement(ce.a,{item:!0,sm:2,xs:12},i.a.createElement(Kn.a,{className:"redirect-loadingbar"})),i.a.createElement(ce.a,{item:!0,sm:10,xs:12},i.a.createElement("div",{className:"redirect-main-content"},i.a.createElement(me.a,{elevation:5,square:!0,className:"redirect-paper"},t)))))))});Jn.propTypes={message:o.a.string.isRequired};var Qn=a(1445),Yn=a.n(Qn),$n=a(1449),Zn=a.n($n),Xn=a(1450),ei=a.n(Xn);function ti(e){return(ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ai(){return(ai=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ni(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ii(e){return(ii=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ri(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oi(e,t){return(oi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var li=function(e){function t(){var e,a,n,i,r,o,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,c=new Array(s),u=0;u<s;u++)c[u]=arguments[u];return n=this,i=(e=ii(t)).call.apply(e,[this].concat(c)),a=!i||"object"!==ti(i)&&"function"!=typeof i?ri(n):i,r=ri(a),l=function(){a.setState(function(e){return{expanded:!e.expanded}})},(o="handleExpandClick")in r?Object.defineProperty(r,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):r[o]=l,a}var a,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oi(e,t)}(t,i.a.Component),a=t,(n=[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.height,n=e.type;return i.a.createElement(me.a,ai({className:t.root,elevation:1},this.props),"info"===n&&i.a.createElement(va.a,null,n),i.a.createElement(nt,{height:a}),i.a.createElement("div",{className:t.content},this.props.children))}}])&&ni(a.prototype,n),r&&ni(a,r),t}();li.propTypes={classes:o.a.shape({root:o.a.string,iconItem:o.a.string,content:o.a.string}).isRequired,height:o.a.number,type:o.a.string,children:o.a.shape({}).isRequired},li.defaultProps={height:100,type:"info"};var si=Object(b.a)(function(e){return{root:{display:"flex",alignItems:"center",paddingLeft:2*e.spacing.unit,borderRadius:e.shape.borderRadius,border:"solid 1px "+e.palette.secondary.main,"& span.material-icons":{fontSize:80,color:e.palette.primary.main}},button:{marginTop:e.spacing.unit,marginBottom:e.spacing.unit},content:{paddingTop:e.spacing.unit,paddingBottom:e.spacing.unit,paddingRight:e.spacing.unit}}})(li),ci=a(907),ui=a(910),pi=a(952),di=a(1294),mi=a(868),fi=a(867),hi=a(934);function gi(e){return(gi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yi(){return(yi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function bi(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function vi(e){return(vi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ei(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wi(e,t){return(wi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ci=function(e){function t(e){var a,n,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(a=!(i=vi(t).call(this,e))||"object"!==gi(i)&&"function"!=typeof i?Ei(n):i).state={open:!1},a.handleToggle=a.handleToggle.bind(Ei(a)),a.handleClose=a.handleClose.bind(Ei(a)),a}var a,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wi(e,t)}(t,i.a.Component),a=t,(n=[{key:"handleToggle",value:function(){this.setState(function(e){return{open:!e.open}})}},{key:"handleClose",value:function(e){this.anchorEl.contains(e.target)||this.setState({open:!1})}},{key:"render",value:function(){var e=this,t=this.props,a=t.children,n=t.menuList,r=t.buttonProps,o=this.state.open;return i.a.createElement(i.a.Fragment,null,i.a.createElement(ue.a,yi({buttonRef:function(t){e.anchorEl=t},"aria-owns":o?"menu-list-grow":null,"aria-haspopup":"true",onClick:this.handleToggle},r),a," ▼"),i.a.createElement(hi.a,{open:o,placement:"bottom-start",anchorEl:this.anchorEl,transition:!0,disablePortal:!0,className:this.props.classes.position},function(t){var a=t.TransitionProps,r=t.placement;return i.a.createElement(fi.a,yi({},a,{id:"menu-list-grow",style:{transformOrigin:"bottom"===r?"center top":"center bottom"}}),i.a.createElement(me.a,null,i.a.createElement(mi.a,{onClickAway:e.handleClose},n)))}))}}])&&bi(a.prototype,n),r&&bi(a,r),t}();Ci.propTypes={classes:o.a.shape({position:o.a.shape({})}).isRequired,menuList:o.a.element.isRequired,children:o.a.shape({}).isRequired,buttonProps:o.a.shape({}).isRequired};var Pi=Object(b.a)(function(e){return{root:{display:"flex"},paper:{marginRight:2*e.spacing.unit},position:{zIndex:1}}})(Ci);function Si(){return(Si=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var Ai=Object(di.a)(function(e){return{links:{textDecoration:"none",color:e.palette.getContrastText(e.palette.background.paper)}}}),Oi=function(e){var t=Ai(),a=i.a.createElement(ci.a,null,i.a.createElement(ui.a,null,i.a.createElement(pe.b,{to:"/apis/create/rest",className:t.links},i.a.createElement(Se.a,{primary:i.a.createElement(d.a,{id:"Apis.Listing.components.APICreateMenu.primary.rest",defaultMessage:"Design a New REST API"}),secondary:i.a.createElement(d.a,{id:"Apis.Listing.components.APICreateMenu.secondary.rest",defaultMessage:"Design and prototype a new REST API"})}))),i.a.createElement(pi.a,null),i.a.createElement(ui.a,null,i.a.createElement(pe.b,{to:"/apis/create/openapi",className:t.links},i.a.createElement(Se.a,{primary:i.a.createElement(d.a,{id:"Apis.Listing.components.APICreateMenu.primary.swagger",defaultMessage:"I Have an Existing REST API"}),secondary:i.a.createElement(d.a,{id:"Apis.Listing.components.APICreateMenu.secondary.swagger",defaultMessage:"Use an existing REST endpoint or Swagger definition"})}))),i.a.createElement(pi.a,null),i.a.createElement(ui.a,null,i.a.createElement(pe.b,{to:"/apis/create/wsdl",className:t.links},i.a.createElement(Se.a,{primary:i.a.createElement(d.a,{id:"Apis.Listing.components.APICreateMenu.primary.soap",defaultMessage:"I Have a SOAP Endpoint"}),secondary:i.a.createElement(d.a,{id:"Apis.Listing.components.APICreateMenu.secondary.soap",defaultMessage:"Use an existing SOAP or Import the WSDL"})}))),i.a.createElement(pi.a,null),i.a.createElement(ui.a,null,i.a.createElement(pe.b,{to:"/apis/create/graphQL",className:t.links},i.a.createElement(Se.a,{primary:i.a.createElement(d.a,{id:"Apis.Listing.components.APICreateMenu.primary.graphql",defaultMessage:"I Have a GraphQL SDL schema"}),secondary:i.a.createElement(d.a,{id:"Apis.Listing.components.APICreateMenu.secondary.graphql",defaultMessage:"Import a GraphQL SDL schema"})}))),i.a.createElement(pi.a,null),i.a.createElement(ui.a,null,i.a.createElement(pe.b,{to:"/apis/create/ws",className:t.links},i.a.createElement(Se.a,{primary:i.a.createElement(d.a,{id:"Apis.Listing.components.APICreateMenu.primary.ws",defaultMessage:"Design New Websocket API"}),secondary:i.a.createElement(d.a,{id:"Apis.Listing.components.APICreateMenu.secondary.ws",defaultMessage:"Design and prototype a new WebSocket API"})}))));return i.a.createElement(Pi,Si({},e,{menuList:a}))};Oi.propTypes={children:o.a.oneOfType([o.a.element,o.a.array]).isRequired};var xi=Oi,Ii=function(e){return{paths:{"/order":{post:{"x-auth-type":"Application & Application User","x-throttling-tier":e,description:"Create a new Order",parameters:[{schema:{$ref:"#/definitions/Order"},description:"Order object that needs to be added",name:"body",required:!0,in:"body"}],responses:{201:{headers:{Location:{description:"The URL of the newly created resource.",type:"string"},"Content-Type":{description:"The content type of the body.",type:"string"}},schema:{$ref:"#/definitions/Order"},description:"Created. Successful response with the newly created object as entity inthe body. Location header contains URL of newly created entity."},400:{schema:{$ref:"#/definitions/Error"},description:"Bad Request. Invalid request or validation error."},415:{schema:{$ref:"#/definitions/Error"},description:"Unsupported Media Type. The entity of the request was in a not supported format."}}}},"/menu":{get:{"x-auth-type":"Application & Application User","x-throttling-tier":e,description:"Return a list of available menu items",parameters:[],responses:{200:{headers:{},schema:{items:{$ref:"#/definitions/MenuItem"},type:"array"},description:"OK. List of APIs is returned."},304:{description:"Not Modified. Empty body because the client has already the latest version of the requested resource."},406:{schema:{$ref:"#/definitions/Error"},description:"Not Acceptable. The requested media type is not supported"}}}},"/order/{orderId}":{put:{"x-auth-type":"Application & Application User","x-throttling-tier":e,description:"Update an existing Order",parameters:[{description:"Order Id",name:"orderId",format:"string",type:"string",required:!0,in:"path"},{schema:{$ref:"#/definitions/Order"},description:"Order object that needs to be added",name:"body",required:!0,in:"body"}],responses:{200:{headers:{Location:{description:"The URL of the newly created resource.",type:"string"},"Content-Type":{description:"The content type of the body.",type:"string"}},schema:{$ref:"#/definitions/Order"},description:"OK. Successful response with updated Order"},400:{schema:{$ref:"#/definitions/Error"},description:"Bad Request. Invalid request or validation error"},404:{schema:{$ref:"#/definitions/Error"},description:"Not Found. The resource to be updated does not exist."},412:{schema:{$ref:"#/definitions/Error"},description:"Precondition Failed. The request has not been performed because one of the preconditions is not met."}}},get:{"x-auth-type":"Application & Application User","x-throttling-tier":e,description:"Get details of an Order",parameters:[{description:"Order Id",name:"orderId",format:"string",type:"string",required:!0,in:"path"}],responses:{200:{schema:{$ref:"#/definitions/Order"},headers:{},description:"OK Requested Order will be returned"},304:{description:"Not Modified. Empty body because the client has already the latest version of the requested resource."},404:{schema:{$ref:"#/definitions/Error"},description:"Not Found. Requested API does not exist."},406:{schema:{$ref:"#/definitions/Error"},description:"Not Acceptable. The requested media type is not supported"}}},delete:{"x-auth-type":"Application & Application User","x-throttling-tier":e,description:"Delete an existing Order",parameters:[{description:"Order Id",name:"orderId",format:"string",type:"string",required:!0,in:"path"}],responses:{200:{description:"OK. Resource successfully deleted."},404:{schema:{$ref:"#/definitions/Error"},description:"Not Found. Resource to be deleted does not exist."},412:{schema:{$ref:"#/definitions/Error"},description:"Precondition Failed. The request has not been performed because one of the preconditions is not met."}}}}},schemes:["https"],produces:["application/json"],swagger:"2.0",definitions:{ErrorListItem:{title:"Description of individual errors that may have occored during a request.",properties:{message:{description:"Description about individual errors occored",type:"string"},code:{format:"int64",type:"integer"}},required:["code","message"]},MenuItem:{title:"Pizza menu Item",properties:{price:{type:"string"},description:{type:"string"},name:{type:"string"},image:{type:"string"}},required:["name"]},Order:{title:"Pizza Order",properties:{customerName:{type:"string"},delivered:{type:"boolean"},address:{type:"string"},pizzaType:{type:"string"},creditCardNumber:{type:"string"},quantity:{type:"number"},orderId:{type:"string"}},required:["orderId"]},Error:{title:"Error object returned with 4XX HTTP status",properties:{message:{description:"Error message.",type:"string"},error:{items:{$ref:"#/definitions/ErrorListItem"},description:"If there are more than one error list them out. Ex. list out validation errors by each field.",type:"array"},description:{description:"A detail description about the error message.",type:"string"},code:{format:"int64",type:"integer"},moreInfo:{description:"Preferably an url with more details about the error.",type:"string"}},required:["code","message"]}},consumes:["application/json"],info:{title:"PizzaShackAPI",description:"This is a RESTFul API for Pizza Shack online pizza delivery store.\n",license:{name:"Apache 2.0",url:"http://www.apache.org/licenses/LICENSE-2.0.html"},contact:{email:"architecture@pizzashack.com",name:"John Doe",url:"http://www.pizzashack.com"},version:"1.0.0"}}};function Ti(e){return(Ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ki(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Di(e){return(Di=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mi(e,t){return(Mi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ri=function(e){function t(e){var a,n,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(a=!(i=Di(t).call(this,e))||"object"!==Ti(i)&&"function"!=typeof i?_i(n):i).state={published:!1,api:null,deploying:!1},a.sampleApi=new _,a.handleDeploySample=a.handleDeploySample.bind(_i(a)),a.createSampleAPI=a.createSampleAPI.bind(_i(a)),a}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mi(e,t)}(t,n["Component"]),a=t,(r=[{key:"handleDeploySample",value:function(){var e=this,t=this.props.intl;this.setState({deploying:!0});var a=this.createSampleAPI().then(function(e){return se.info(t.formatMessage({id:"Apis.Listing.SampleAPI.SampleAPI.created",defaultMessage:"Sample PizzaShackAPI API created successfully"})),e.updateSwagger(Ii("Unlimited"))});a.catch(function(e){console.error(e),se.error(e)}),a.then(function(a){a.publish().then(function(){e.setState({published:!0,api:a}),se.info(t.formatMessage({id:"Apis.Listing.SampleAPI.SampleAPI.published",defaultMessage:"PizzaShackAPI API published successfully"}))}).catch(function(t){console.error(t),e.setState({deploying:!1}),se.error(t)})})}},{key:"createSampleAPI",value:function(){var e=this;return new _({name:"PizzaShackAPI",description:"This is a simple API for Pizza Shack online pizza delivery store.",context:"/pizzashack",version:"1.0.0",transport:["http","https"],tags:["pizza"],policies:["Unlimited"],securityScheme:["oauth2"],visibility:"PUBLIC",gatewayEnvironments:["Production and Sandbox"],businessInformation:{businessOwner:"Jane Roe",businessOwnerEmail:"marketing@pizzashack.com",technicalOwner:"John Doe",technicalOwnerEmail:"architecture@pizzashack.com"},endpointConfig:{endpoint_type:"http",sandbox_endpoints:{url:"https://localhost:9443/am/sample/pizzashack/v1/api/"},production_endpoints:{url:"https://localhost:9443/am/sample/pizzashack/v1/api/"}},operations:[{target:"/order/{orderId}",verb:"GET",throttlingPolicy:"Unlimited",authType:"Application & Application User"},{target:"/order/{orderId}",verb:"DELETE",throttlingPolicy:"Unlimited",authType:"Application & Application User"},{target:"/order/{orderId}",verb:"PUT",throttlingPolicy:"Unlimited",authType:"Application & Application User"},{target:"/menu",verb:"GET",throttlingPolicy:"Unlimited",authType:"Application & Application User"},{target:"/order",verb:"POST",throttlingPolicy:"Unlimited",authType:"Application & Application User"}]}).save().catch(function(t){console.error(t),e.setState({deploying:!1});var a=t.response;if(a){var n=a.body,i=n.code,r=n.description,o=n.message;se.error("ERROR[".concat(i,"] : ").concat(r," | ").concat(o))}else se.error(t)})}},{key:"render",value:function(){var e=this.state,t=e.published,a=e.api,n=e.deploying,r=this.props.classes;if(t&&a){var o="/apis/"+a.id+"/overview";return i.a.createElement(Yn.a,{to:o})}return i.a.createElement(si,{type:"info",height:140},i.a.createElement("div",{className:r.contentWrapper},i.a.createElement(h.a,{variant:"h5",component:"h3",className:r.head},i.a.createElement(d.a,{id:"welcome.to.wso2.api.manager",defaultMessage:"Welcome to WSO2 API Manager"})),i.a.createElement(h.a,{component:"p",className:r.content},i.a.createElement(d.a,{id:"Apis.Listing.SampleAPI.SampleAPI.description",defaultMessage:"WSO2 API Publisher enables API providers to  publish APIs, share documentation, provision API keys and gather feedback on features, quality and usage. To get started, Create an API or Publish a sample API."})),i.a.createElement("div",{className:r.actions},i.a.createElement(xi,{buttonProps:{size:"small",color:"primary",variant:"outlined",className:r.buttonLeft}},i.a.createElement(Zn.a,null),i.a.createElement(d.a,{id:"create.new.api",defaultMessage:"Create New API"})),i.a.createElement(ue.a,{size:"small",color:"primary",disabled:n,variant:"outlined",onClick:this.handleDeploySample},i.a.createElement(ei.a,null),i.a.createElement(d.a,{id:"deploy.sample.api",defaultMessage:"Deploy Sample API"}),n&&i.a.createElement(de.a,{size:24,className:r.buttonProgress})))))}}])&&ki(a.prototype,r),o&&ki(a,o),t}();Ri.propTypes={classes:r.PropTypes.shape({}).isRequired,intl:r.PropTypes.shape({formatMessage:r.PropTypes.func}).isRequired};var ji=Object(d.d)(Object(b.a)(function(e){return{buttonProgress:{color:qa.a[500],position:"relative"},headline:{paddingTop:1.25*e.spacing.unit,paddingLeft:2.5*e.spacing.unit},head:{paddingBottom:2*e.spacing.unit,fontWeight:200},content:{paddingBottom:2*e.spacing.unit},buttonLeft:{marginRight:e.spacing.unit}}})(Ri)),Ni=function(e,t){return{name:"CalculatorAPIProduct",context:"/calc_prod",description:"A calculator API Product that supports basic operations",thumbnailUri:"/api-products/01234567-0123-0123-0123-012345678901/thumbnail",visibility:"PUBLIC",visibleRoles:["testrole","admin"],visibleTenants:["string"],policies:["Bronze","Silver","Unlimited"],state:"PUBLISHED",subscriptionAvailability:"ALL_TENANTS",subscriptionAvailableTenants:[],additionalProperties:{newprop:"string",additionalProp2:"string",additionalProp3:"string"},businessInformation:{businessOwner:"businessowner",businessOwnerEmail:"businessowner@wso2.com"},gatewayEnvironments:["Production and Sandbox"],transport:["http","https"],apis:[{apiId:e,operations:[{target:"/add",verb:"POST"},{target:"/divide",verb:"POST"}]},{apiId:t,operations:[{target:"/area",verb:"GET"},{target:"/volume",verb:"GET"}]}]}},Li={name:"MathAPI",description:"This is a simple API for Pizza Shack online pizza delivery store.",context:"/mathapi",version:"1.0",transport:["http","https"],tags:["math"],policies:["Unlimited"],securityScheme:["oauth2"],visibility:"PUBLIC",gatewayEnvironments:["Production and Sandbox"],businessInformation:{businessOwner:"Jane Roe",businessOwnerEmail:"marketing@math.com",technicalOwner:"John Doe",technicalOwnerEmail:"architecture@math.com"},endpointConfig:{endpoint_type:"http",sandbox_endpoints:{url:"http://www.mocky.io/v2/5afe55d53200000f00222e02"},production_endpoints:{url:"http://www.mocky.io/v2/5afe55d53200000f00222e02"}},operations:[{target:"/area",verb:"GET",throttlingPolicy:"Unlimited",authType:"Application & Application User"},{target:"/volume",verb:"GET",throttlingPolicy:"Unlimited",authType:"Application & Application User"},{target:"/multiply",verb:"POST",throttlingPolicy:"Unlimited",authType:"Application & Application User"}]},qi={name:"CalculatorAPI",description:"This is a simple API for Pizza Shack online pizza delivery store.",context:"/calculator",version:"1.0",transport:["http","https"],tags:["calculator"],policies:["Unlimited"],securityScheme:["oauth2"],visibility:"PUBLIC",gatewayEnvironments:["Production and Sandbox"],businessInformation:{businessOwner:"Jane Roe",businessOwnerEmail:"marketing@calculator.com",technicalOwner:"John Doe",technicalOwnerEmail:"architecture@calculator.com"},endpointConfig:{endpoint_type:"http",sandbox_endpoints:{url:"http://www.mocky.io/v2/5afe55d53200000f00222e02"},production_endpoints:{url:"http://www.mocky.io/v2/5afe55d53200000f00222e02"}},operations:[{target:"/add",verb:"POST",throttlingPolicy:"Unlimited",authType:"Application & Application User"},{target:"/divide",verb:"POST",throttlingPolicy:"Unlimited",authType:"Application & Application User"},{target:"/multiply",verb:"POST",throttlingPolicy:"Unlimited",authType:"Application & Application User"}]},Wi=a(747),Fi=a(837),Bi=a(958);function zi(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Ui=Object(Z.a)(function(e){return{chipHeadWrapperDefault:{background:e.palette.grey[100],color:e.palette.getContrastText(e.palette.grey[100])},chipHeadWrapperDone:{background:e.custom.productSampleProgess.backgroundMain,color:e.palette.getContrastText(e.custom.productSampleProgess.backgroundMain)},chipHeadWrapper:{padding:5,borderRadius:10,display:"flex",flexDirection:"row",alignItems:"center",marginBottom:10,marginTop:10},chipAvatarDone:{background:e.custom.productSampleProgess.backgroundChip,color:e.palette.getContrastText(e.custom.productSampleProgess.backgroundChip),marginRight:10},chipAvatarDefault:{background:e.palette.grey[50],color:e.palette.getContrastText(e.palette.grey[50]),marginRight:10},post:{background:e.custom.resourceChipColors.post,color:e.palette.getContrastText(e.custom.resourceChipColors.post),display:"inline-block",marginLeft:5,marginRight:15,borderRadius:5,padding:5,textTransform:"lowercase"},get:{background:e.custom.resourceChipColors.get,color:e.palette.getContrastText(e.custom.resourceChipColors.get),display:"inline-block",marginLeft:10,borderRadius:5,padding:5,textTransform:"lowercase"},actions:{justifyContent:"flex-start",paddingLeft:20,paddingTop:20},progress:{width:"100%",marginLeft:20},chipHeadTitle:{whiteSpace:"nowrap"}}});function Vi(e){var t,a,n,r,o,l,s=Ui(),c=e.step,u=e.setStep,p=e.productPath,m=e.history;function f(){4===c&&(u(0),m.push(p)),u(0)}return i.a.createElement(i.a.Fragment,null,i.a.createElement(Wa.a,{fullWidth:!0,maxWidth:"md",open:0!==c,onClose:f,"aria-labelledby":"max-width-dialog-title"},i.a.createElement(Fa.a,{id:"max-width-dialog-title"},i.a.createElement(d.a,{id:"Apis.Listing.SampleAPI.SampleAPIProductWizard.title",defaultMessage:"Auto Generating API Product Progress.."})),i.a.createElement(Ba.a,null,i.a.createElement("div",{className:Vn()(s.chipHeadWrapper,(t={},zi(t,s.chipHeadWrapperDefault,c<2),zi(t,s.chipHeadWrapperDone,c>=2),t))},i.a.createElement(Wi.a,{className:Vn()((a={},zi(a,s.chipAvatarDefault,c<2),zi(a,s.chipAvatarDone,c>=2),a))},c<2?i.a.createElement(va.a,null,"border_inner"):i.a.createElement(va.a,null,"done")),i.a.createElement("div",{className:s.chipHeadTitle},i.a.createElement(d.a,{id:"Apis.Listing.SampleAPI.SampleAPIProductWizard.calculator.text",defaultMessage:"Creating API Calculator"})),c<2&&i.a.createElement(Bi.a,{variant:"query",className:s.progress})),i.a.createElement(Fi.a,{fontWeight:"fontWeightBold",m:1,component:"span"},i.a.createElement(d.a,{id:"Apis.Listing.SampleAPI.SampleAPIProductWizard.resource",defaultMessage:"Resources"})),i.a.createElement(Fi.a,{m:1,component:"span"},i.a.createElement("span",null,"/add")," ",i.a.createElement("span",{className:s.post},"post")),i.a.createElement(Fi.a,{m:1,component:"span"},i.a.createElement("span",null,"/divide")," ",i.a.createElement("span",{className:s.post},"post")),i.a.createElement(Fi.a,{m:1,component:"span"},i.a.createElement("span",null,"/multiply")," ",i.a.createElement("span",{className:s.post},"post")),i.a.createElement("div",{className:Vn()(s.chipHeadWrapper,(n={},zi(n,s.chipHeadWrapperDefault,c<3),zi(n,s.chipHeadWrapperDone,c>=3),n))},i.a.createElement(Wi.a,{className:Vn()((r={},zi(r,s.chipAvatarDefault,c<3),zi(r,s.chipAvatarDone,c>=3),r))},c<3?i.a.createElement(va.a,null,"border_inner"):i.a.createElement(va.a,null,"done")),i.a.createElement("div",{className:s.chipHeadTitle},i.a.createElement(d.a,{id:"Apis.Listing.SampleAPI.SampleAPIProductWizard.mathapi",defaultMessage:"Creating Math API"})),c<3&&i.a.createElement(Bi.a,{variant:"query",className:s.progress})),i.a.createElement(Fi.a,{fontWeight:"fontWeightBold",m:1,component:"span"},i.a.createElement(d.a,{id:"Apis.Listing.SampleAPI.SampleAPIProductWizard.resource",defaultMessage:"Resources"})),i.a.createElement(Fi.a,{m:1,component:"span"},i.a.createElement("span",null,"/area")," ",i.a.createElement("span",{className:s.get},"get")),i.a.createElement(Fi.a,{m:1,component:"span"},i.a.createElement("span",null,"/volume")," ",i.a.createElement("span",{className:s.get},"get")),i.a.createElement(Fi.a,{m:1,component:"span"},i.a.createElement("span",null,"/multiply")," ",i.a.createElement("span",{className:s.get},"get")),i.a.createElement("div",{className:Vn()(s.chipHeadWrapper,(o={},zi(o,s.chipHeadWrapperDefault,c<4),zi(o,s.chipHeadWrapperDone,c>=4),o))},i.a.createElement(Wi.a,{className:Vn()((l={},zi(l,s.chipAvatarDefault,c<4),zi(l,s.chipAvatarDone,c>=4),l))},c<4?i.a.createElement(va.a,null,"border_inner"):i.a.createElement(va.a,null,"done")),i.a.createElement("div",{className:s.chipHeadTitle},i.a.createElement(d.a,{id:"Apis.Listing.SampleAPI.SampleAPIProductWizard.product.title",defaultMessage:"Creating CalculatorAPIProduct from the resourcesof Math API and Calculator API"})),c<4&&i.a.createElement(Bi.a,{variant:"query",className:s.progress})),i.a.createElement(Fi.a,{fontWeight:"fontWeightBold",m:1,component:"span"},i.a.createElement(d.a,{id:"Apis.Listing.SampleAPI.SampleAPIProductWizard.resource",defaultMessage:"Resources"})),i.a.createElement(Fi.a,{m:1,component:"span"},i.a.createElement("span",null,"/add")," ",i.a.createElement("span",{className:s.post},"post")),i.a.createElement(Fi.a,{m:1,component:"span"},i.a.createElement("span",null,"/divide")," ",i.a.createElement("span",{className:s.post},"post")),i.a.createElement(Fi.a,{m:1,component:"span"},i.a.createElement("span",null,"/area")," ",i.a.createElement("span",{className:s.get},"get")),i.a.createElement(Fi.a,{m:1,component:"span"},i.a.createElement("span",null,"/volume")," ",i.a.createElement("span",{className:s.get},"get"))),i.a.createElement(Ua.a,{className:s.actions},c>=4&&i.a.createElement(pe.b,{to:p},i.a.createElement(ue.a,{variant:"contained",color:"primary"},i.a.createElement(d.a,{id:"Apis.Listing.SampleAPI.SampleAPIProductWizard.product.button",defaultMessage:"Go to CalculatorAPIProduct"}))),i.a.createElement(ue.a,{onClick:f,color:"primary"},i.a.createElement(d.a,{id:"Apis.Listing.SampleAPI.SampleAPIProductWizard.product.close.button",defaultMessage:"Close"})))))}Vi.propTypes={classes:r.PropTypes.shape({}).isRequired,step:r.PropTypes.number.isRequired,setStep:r.PropTypes.func.isRequired,productPath:r.PropTypes.string.isRequired,history:r.PropTypes.shape({}).isRequired};var Gi=Object(l.withRouter)(Vi);function Hi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,i=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){i=!0,r=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw r}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Ki=Object(Z.a)(function(e){return{buttonProgress:{color:qa.a[500],position:"relative"},headline:{paddingTop:1.25*e.spacing.unit,paddingLeft:2.5*e.spacing.unit},head:{paddingBottom:2*e.spacing.unit,fontWeight:200},content:{paddingBottom:2*e.spacing.unit},deployButton:{"& span.material-icons":{fontSize:24,marginRight:e.spacing.unit}}}});function Ji(e){var t=this,a=Ki(),r=Hi(Object(n.useState)(0),2),o=r[0],l=r[1],s=Hi(Object(n.useState)(null),2),c=s[0],u=s[1];return i.a.createElement(si,{type:"info",height:140},i.a.createElement("div",{className:a.contentWrapper},i.a.createElement(h.a,{variant:"h5",component:"h3",className:a.head},i.a.createElement(d.a,{id:"Apis.Listing.SampleAPIProduct.manager",defaultMessage:"Welcome to WSO2 API Manager"})),i.a.createElement(h.a,{component:"p",className:a.content},i.a.createElement(d.a,{id:"Apis.Listing.SampleAPIProduct.description",defaultMessage:"The API resources in an API product can come from one or more APIs, so you can mix and match resources from multiple  API resources to create specialized feature sets."})),i.a.createElement("div",{className:a.actions},i.a.createElement(Gi,{step:o,setStep:l,productPath:c}),i.a.createElement(ue.a,{size:"small",color:"primary",disabled:0!==o,variant:"outlined",onClick:function(){var a=e.intl;l(1);var n=new _,i=n.create(qi),r=n.create(Li);Promise.all([i,r]).then(function(e){l(3);var n=e[0].body.id,i=e[1].body.id,r=Ni(n,i);(new ze).create(r).then(function(e){l(4),u("/api-products/".concat(e.body.id,"/overview")),se.info(a.formatMessage({id:"Apis.Listing.SampleAPI.SampleAPIProduct.successful",defaultMessage:"CalculatorAPIProduct published successfully"}))}).catch(function(e){l(0),t.setState({deploying:!1}),se.error(e)})})},className:a.deployButton},i.a.createElement(va.a,null,"play_circle_outline"),i.a.createElement(d.a,{id:"Apis.Listing.SampleAPIProduct.deploy.button",defaultMessage:"Deploy Sample API Product"}),0!==o&&i.a.createElement(de.a,{size:24,className:a.buttonProgress})))))}Ji.propTypes={classes:r.PropTypes.shape({}).isRequired,intl:r.PropTypes.shape({formatMessage:r.PropTypes.func}).isRequired};var Qi=Object(l.withRouter)(Object(d.d)(Ji)),Yi=a(975),$i=a.n(Yi),Zi=a(1451),Xi=a.n(Zi);function er(e){var t=e.classes,a=e.data,n=e.setListType,r=e.theme,o=e.count,l=e.isAPIProduct,s=e.listType,c=r.palette.getContrastText(r.palette.background.paper);return i.a.createElement("div",{className:t.root},i.a.createElement("div",{className:t.mainIconWrapper},i.a.createElement(rt,{strokeColor:c,width:42,height:42,icon:"api"})),i.a.createElement("div",{className:t.mainTitleWrapper},a&&i.a.createElement(i.a.Fragment,null,i.a.createElement(h.a,{variant:"display1",className:t.mainTitle,component:"div"},l?i.a.createElement(d.a,{id:"Apis.Listing.components.TopMenu.apiproducts",defaultMessage:"API Products"}):i.a.createElement(d.a,{id:"Apis.Listing.components.TopMenu.apis",defaultMessage:"APIs"})),i.a.createElement(h.a,{variant:"caption",gutterBottom:!0,align:"left",component:"div"},i.a.createElement(d.a,{id:"Apis.Listing.components.TopMenu.displaying",defaultMessage:"Displaying"})," "," ",o," "," ",function(e){var t=e.isAPIProduct;return e.query?i.a.createElement(d.a,{id:"Apis.Listing.components.TopMenu.search.results",defaultMessage:"Search Result(s)"}):t?i.a.createElement(d.a,{id:"Apis.Listing.components.TopMenu.apiproduct(s)",defaultMessage:"API Product(s)"}):i.a.createElement(d.a,{id:"Apis.Listing.components.TopMenu.api(s)",defaultMessage:"API(s)"})}(e)))),i.a.createElement(nt,{height:70}),i.a.createElement("div",{className:t.APICreateMenu},l?i.a.createElement(pe.b,{to:"/api-products/create"},i.a.createElement(ue.a,{variant:"contained",className:t.createButton},i.a.createElement(d.a,{id:"Apis.Listing.components.TopMenu.create.an.api.product",defaultMessage:"Create an API Product"}))):i.a.createElement(xi,{buttonProps:{variant:"contained",color:"primary",className:t.button}},i.a.createElement(d.a,{id:"Apis.Listing.components.TopMenu.create.api",defaultMessage:"Create API"}))),i.a.createElement("div",{className:t.buttonRight},i.a.createElement(K.a,{className:t.button,disabled:0===a.length,onClick:function(){return n("list")}},i.a.createElement($i.a,{color:"list"===s?"primary":"default"})),i.a.createElement(K.a,{className:t.button,disabled:0===a.length,onClick:function(){return n("grid")}},i.a.createElement(Xi.a,{color:"grid"===s?"primary":"default"}))))}er.propTypes={classes:o.a.shape({}).isRequired,setListType:o.a.func.isRequired,listType:o.a.string.isRequired,data:o.a.shape({}).isRequired,count:o.a.number.isRequired,theme:o.a.shape({custom:o.a.string}).isRequired,isAPIProduct:o.a.bool.isRequired};var tr=Object(b.a)(function(e){return{rightIcon:{marginLeft:e.spacing.unit},button:{margin:e.spacing.unit,marginBottom:0},buttonRight:{display:"flex"},ListingWrapper:{paddingTop:10,paddingLeft:35},root:{height:70,background:e.palette.background.paper,borderBottom:"solid 1px "+e.palette.grey.A200,display:"flex"},mainIconWrapper:{paddingTop:13,paddingLeft:35,paddingRight:20},mainTitleWrapper:{display:"flex",justifyContent:"center",flexDirection:"column"},APICreateMenu:{flexGrow:1,display:"flex",alignItems:"center"},content:{flexGrow:1},createButton:{color:"#000000",background:"#15b8cf"}}},{withTheme:!0})(er);function ar(e){return(ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nr(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ir(e){return(ir=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function or(e,t){return(or=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function lr(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var sr=function(e){function t(e){var a,n,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,i=ir(t).call(this,e),a=!i||"object"!==ar(i)&&"function"!=typeof i?rr(n):i,lr(rr(a),"getMuiTheme",function(){var e=a.state.listType,t=a.props.theme,n={},i={overrides:{MUIDataTable:{root:{backgroundColor:"transparent",marginLeft:40},paper:{boxShadow:"none",backgroundColor:"transparent"},tableRoot:{"& tbody":{backgroundColor:"#fff"}}},MUIDataTableBodyCell:{root:{backgroundColor:"transparent"}}}};return"grid"===e&&(n={overrides:{MUIDataTable:{tableRoot:{display:"block","& tbody":{display:"flex",flexWrap:"wrap",backgroundColor:"transparent"},"& thead":{display:"none"}}}}}),i=Object.assign(t,i,n),Object(ma.a)(i)}),lr(rr(a),"getData",function(){a.xhrRequest().then(function(e){var t=e.body,n=t.list,i=t.pagination.total;a.count=i,a.setState({apisAndApiProducts:n,notFound:!1})})}),lr(rr(a),"getLocalStorage",function(){var e=a.props.isAPIProduct?"products":"apis",t=window.localStorage.getItem("pagination-"+e);if(t){var n=JSON.parse(t);n.page&&n.count&&n.rowsPerPage&&(a.page=n.page,a.count=n.count,a.rowsPerPage=n.rowsPerPage)}}),lr(rr(a),"setListType",function(e){a.setState({listType:e})}),lr(rr(a),"setLocalStorage",function(){var e=a.props.isAPIProduct?"products":"apis",t={page:a.page,count:a.count,rowsPerPage:a.rowsPerPage};window.localStorage.setItem("pagination-"+e,JSON.stringify(t))}),lr(rr(a),"changePage",function(e){a.page=e,a.xhrRequest().then(function(e){var t=e.body.list;a.setState({apisAndApiProducts:t,notFound:!1}),a.setLocalStorage()})}),lr(rr(a),"xhrRequest",function(){var e=rr(a),t=e.page,n=e.rowsPerPage,i=a.props,r=i.isAPIProduct,o=i.query;if(o){var l=ba.a.parse(o);return l.limit=a.rowsPerPage,l.offset=t*n,_.search(l)}return r?ze.all({limit:a.rowsPerPage,offset:t*n}):_.all({limit:a.rowsPerPage,offset:t*n})}),a.state={apisAndApiProducts:null,notFound:!0,listType:e.theme.custom.defaultApiView},a.page=0,a.count=100,a.rowsPerPage=10,a.getLocalStorage(),a.setListType=a.setListType.bind(rr(a)),a.updateData=a.updateData.bind(rr(a)),a}var a,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&or(e,t)}(t,i.a.Component),a=t,(n=[{key:"componentDidMount",value:function(){this.getLocalStorage(),this.getData()}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.isAPIProduct,n=t.query;a===e.isAPIProduct&&n===e.query||(this.getLocalStorage(),this.getData())}},{key:"componentWillUnmount",value:function(){var e=this.props.theme;Object.assign(e,{overrides:{MUIDataTable:{tableRoot:{display:"table","& tbody":{display:"table-row-group"},"& thead":{display:"table-header-group"}}}}})}},{key:"updateData",value:function(){var e=this.page,t=this.rowsPerPage;this.count-1==t*e&&0!==e&&(this.page=e-1),this.getData()}},{key:"render",value:function(){var e=this,t=this.props,a=t.intl,n=t.isAPIProduct,r=t.classes,o=t.query,l=[{name:"id",options:{display:"excluded",filter:!1}},{name:"image",label:a.formatMessage({id:"Apis.Listing.ApiTableView.image",defaultMessage:"image"}),options:{customBodyRender:function(t,a,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e;if(a.rowData){var o=r.state.apisAndApiProducts[a.rowIndex];return i.a.createElement(Da,{api:o,width:30,height:30})}return i.a.createElement("span",null)},sort:!1,filter:!1}},{name:"name",label:a.formatMessage({id:"Apis.Listing.ApiTableView.name",defaultMessage:"name"}),options:{customBodyRender:function(t,a,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e;if(a.rowData){var o=r.props.isAPIProduct,l=r.state.apisAndApiProducts[a.rowIndex],s=a.rowData[2],c=a.rowData[0];if(o)return i.a.createElement(pe.b,{to:"/api-products/"+c+"/overview"},s);if(l)return"DOC"===l.type?i.a.createElement(pe.b,{to:"/apis/"+l.apiUUID+"/documents/"+c+"/details"},i.a.createElement(d.a,{id:"Apis.Listing.TableView.TableView.doc.flag",defaultMessage:" [Doc]"}),s):i.a.createElement(pe.b,{to:"/apis/"+c+"/overview"},s)}return i.a.createElement("span",null)},sort:!1,filter:!1}},{name:"version",label:a.formatMessage({id:"Apis.Listing.ApiTableView.version",defaultMessage:"version"}),options:{sort:!1}},{name:"context",label:a.formatMessage({id:"Apis.Listing.ApiTableView.context",defaultMessage:"context"}),options:{sort:!1}},{name:"provider",label:a.formatMessage({id:"Apis.Listing.ApiTableView.provider",defaultMessage:"provider"}),options:{sort:!1}}],s=this.page,c=this.count,u=this.rowsPerPage,p=this.state,m=p.apisAndApiProducts,f=p.notFound,h=p.listType,g={filterType:"dropdown",responsive:"stacked",serverSide:!0,search:!1,count:c,page:s,onTableChange:function(t,a){switch(t){case"changePage":e.changePage(a.page)}},selectableRows:"none",rowsPerPage:u,onChangeRowsPerPage:function(t){e.rowsPerPage=t,e.getData(),e.setLocalStorage()}};return"grid"===h?(g.customRowRender=function(t,a,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e,o=r.props.isAPIProduct,l=r.state.apisAndApiProducts[a];return l?"DOC"===l.type?i.a.createElement(Bn,{doc:l}):"APIPRODUCT"===l.type?(l.state="PUBLISHED",i.a.createElement(Rn,{api:l,isAPIProduct:!0,updateData:r.updateData})):i.a.createElement(Rn,{api:l,isAPIProduct:o,updateData:r.updateData}):i.a.createElement("span",null)},g.title=!1,g.filter=!1,g.print=!1,g.download=!1,g.viewColumns=!1,g.customToolbar=!1):(g.customRowRender=null,g.title=!0,g.filter=!0,g.print=!0,g.download=!0,g.viewColumns=!0),m?f?i.a.createElement(y,null):0!==m.length||o?i.a.createElement(i.a.Fragment,null,i.a.createElement(tr,{data:m,count:c,setListType:this.setListType,isAPIProduct:n,listType:h,query:o}),i.a.createElement("div",{className:r.contentInside},i.a.createElement(fa.a,{theme:this.getMuiTheme()},i.a.createElement(ga.a,{title:"",data:m,columns:l,options:g})))):i.a.createElement(i.a.Fragment,null,i.a.createElement(tr,{data:m,count:c,setListType:this.setListType,isAPIProduct:n,listType:h}),i.a.createElement("div",{className:r.contentInside},n?i.a.createElement(Qi,null):i.a.createElement(ji,null))):i.a.createElement(Kn.a,null)}}])&&nr(a.prototype,n),r&&nr(a,r),t}(),cr=Object(d.d)(Object(b.a)(function(e){return{contentInside:{padding:3*e.spacing.unit,paddingTop:2*e.spacing.unit,'& > div[class^="MuiPaper-root-"]':{boxShadow:"none",backgroundColor:"transparent"}}}},{withTheme:!0})(sr));sr.propTypes={classes:o.a.shape({}).isRequired,intl:o.a.shape({}).isRequired,isAPIProduct:o.a.bool.isRequired,theme:o.a.shape({custom:o.a.string}).isRequired,query:o.a.string},sr.defaultProps={query:""};function ur(e){var t=e.classes,a=e.isAPIProduct,n=e.theme,r=e.location.search;return i.a.createElement("main",{className:t.content},i.a.createElement(cr,{isAPIProduct:a,theme:n,query:r}))}ur.propTypes={classes:o.a.shape({content:o.a.string,contentInside:o.a.string}).isRequired,theme:o.a.shape({custom:o.a.string}).isRequired,isAPIProduct:o.a.bool.isRequired,location:o.a.shape({search:o.a.string})},ur.defaultProps={location:o.a.shape({search:""})};var pr=Object(b.a)({content:{flexGrow:1}},{withTheme:!0})(ur),dr=a(1902),mr=a.n(dr),fr=a(1900),hr=a.n(fr),gr=a(1901),yr=a.n(gr),br=a(1898),vr=a.n(br),Er=a(1159),wr=a.n(Er),Cr=a(1903),Pr=a.n(Cr),Sr=a(1904),Ar=a.n(Sr),Or=a(1897),xr=a.n(Or),Ir=a(1899),Tr=a.n(Ir),kr=a(1905),Dr=a.n(kr),_r=a(1906),Mr=a.n(_r),Rr=a(1907),jr=a.n(Rr),Nr=a(692),Lr=a.n(Nr);function qr(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Wr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,i=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){i=!0,r=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw r}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Fr(e){var t,a=Wr(Object(n.useState)(!1),2),r=a[0],o=a[1],l=e.classes,s=e.theme,c=e.Icon,u=e.to,p=e.history,d=e.text,m=s.custom.leftMenu,f=s.palette.getContrastText(s.palette.background.leftMenu),g=s.custom.leftMenuIconSize,y=function(e){var t=e.pathname,a=new RegExp("/"+d+"$","g"),n=new RegExp("/"+d+"/","g");t.match(a)||t.match(n)?o(!0):o(!1)};return Object(n.useEffect)(function(){var e=p.location;y(e)},[]),p.listen(function(e){y(e)}),i.a.createElement(pe.b,{className:Vn()(l.leftLInk,qr({},l.leftLink_IconLeft,"icon left"===m),"leftLInk"),to:u,style:{backgroundColor:r?s.palette.background.appBarSelected:""}},c?i.a.cloneElement(c,{className:Vn()(l.leftLink_Icon,qr({},l.noIcon,"no icon"===m),"leftLink_Icon")}):i.a.createElement(rt,{strokeColor:f,width:g,height:g,icon:e.text,className:Vn()(l.leftLInk,qr({},l.noIcon,"no icon"===m),"leftLink_Icon")}),i.a.createElement(h.a,{className:Vn()(l.leftLInkText,(t={},qr(t,l.leftLInkText_IconLeft,"icon left"===m),qr(t,l.leftLInkText_NoText,"no text"===m),t),"leftLInkText"),style:{textTransform:"uppercase"}},e.text))}Fr.propTypes={classes:o.a.shape({divider:o.a.string,leftLInk:o.a.string,leftLink_IconLeft:o.a.string,noIcon:o.a.string,leftLink_Icon:o.a.string,leftLInkText:o.a.string,leftLInkText_IconLeft:o.a.string,leftLInkText_NoText:o.a.string}).isRequired,theme:o.a.shape({custom:o.a.shape({leftMenu:o.a.string,leftMenuIconSize:o.a.number}),palette:o.a.shape({getContrastText:o.a.func,background:o.a.shape({leftMenu:o.a.string,appBar:o.a.string}),leftMenu:o.a.string})}).isRequired,Icon:o.a.element.isRequired,text:o.a.string.isRequired,to:o.a.string.isRequired,history:o.a.shape({location:o.a.string.isRequired}).isRequired};var Br=Object(l.withRouter)(Object(b.a)(function(e){return{leftLInkText:{color:e.palette.getContrastText(e.palette.background.leftMenu)},leftLInkText_IconLeft:{paddingLeft:10},LeftMenu:{backgroundColor:e.palette.background.leftMenu,width:e.custom.leftMenuWidth,textAlign:"center",fontFamily:e.typography.fontFamily,position:"absolute",bottom:0,left:0,top:0},leftLInk:{paddingTop:e.spacing.unit,paddingBottom:e.spacing.unit,paddingLeft:e.spacing.unit,paddingRight:e.spacing.unit,fontSize:e.typography.caption.fontSize,cursor:"pointer",textDecoration:"none"},leftLink_Icon:{color:e.palette.getContrastText(e.palette.background.leftMenu),fontSize:e.custom.leftMenuIconSize+"px"},leftLink_IconLeft:{display:"flex",alignItems:"center"},noIcon:{display:"none"},leftLInkText_NoText:{diplay:"none"}}},{withTheme:!0})(Fr));function zr(e){return(zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ur(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Vr(e,t){return!t||"object"!==zr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Gr(e){return(Gr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Hr(e,t){return(Hr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Kr=j.a.app.context+"/services/auth/login";function Jr(){window.location=Kr}var Qr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Vr(this,Gr(t).apply(this,arguments))}var a,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hr(e,t)}(t,i.a.Component),a=t,(n=[{key:"componentDidMount",value:function(){Jr()}},{key:"render",value:function(){return i.a.createElement(d.a,{id:"Apis.Shared.RedirectToLogin.you.will.be.redirected.to",defaultMessage:"You will be redirected to {page}",values:{page:Kr}})}}])&&Ur(a.prototype,n),r&&Ur(a,r),t}(),Yr=i.a.createContext({}),$r=function(){return Object(n.useContext)(Yr)},Zr=Yr.Provider,Xr=Yr;function eo(){return(eo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var to=i.a.createContext({api:null}),ao=to.Provider;function no(e){function t(t){return i.a.createElement(to.Consumer,null,function(a){return i.a.createElement(e,eo({},a,t))})}return t.displayName="withAPI(".concat(e.displayName,")"),t}var io=to,ro=a(924),oo=a(35);function lo(e){return(lo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function so(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function co(e,t){return!t||"object"!==lo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function uo(e){return(uo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function po(e,t){return(po=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mo(e){var t=e.theme,a=e.method,n=t.custom.resourceChipColors?t.custom.resourceChipColors[a]:null,r="#000000";return n?r=t.palette.getContrastText(t.custom.resourceChipColors[a]):(console.log("Check the theme settings. The resourceChipColors is not populated properly"),n="#cccccc"),i.a.createElement(Na.a,{label:a,style:{backgroundColor:n,color:r,height:20,marginRight:5}})}mo.propTypes={method:o.a.string.isRequired,theme:o.a.shape({}).isRequired,classes:o.a.shape({}).isRequired};var fo=Object(ro.a)(mo),ho=function(e){function t(e){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(a=co(this,uo(t).call(this,e))).state={paths:null},a.restApi=new _,a}var a,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&po(e,t)}(t,i.a.Component),a=t,(n=[{key:"componentDidMount",value:function(){var e=this,t=this.props.api.id;this.restApi.getSwagger(t).then(function(t){void 0!==t.obj.paths&&e.setState({paths:t.obj.paths})}).catch(function(t){var a=t.status;404===a?e.setState({notFound:!0}):401===a&&Jr()})}},{key:"render",value:function(){var e=this.state.paths;if(this.state.notFound)return i.a.createElement("div",null,i.a.createElement(d.a,{id:"Apis.Details.NewOverview.Resources.resource.not.found",defaultMessage:"resource not found..."}));if(!e)return i.a.createElement("div",null,i.a.createElement(d.a,{id:"Apis.Details.NewOverview.Resources.loading",defaultMessage:"loading..."}));var t=this.props,a=t.classes,n=t.parentClasses,r=t.api;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:n.titleWrapper,style:{margin:"20px 0 10px"}},"GraphQL"===r.type?i.a.createElement(h.a,{variant:"h5",component:"h3",className:n.title},i.a.createElement(d.a,{id:"Apis.Details.NewOverview.Operations.operations",defaultMessage:"Operation"})):i.a.createElement(h.a,{variant:"h5",component:"h3",className:n.title},i.a.createElement(d.a,{id:"Apis.Details.NewOverview.Resources.resources",defaultMessage:"Resources"}))),i.a.createElement("div",{className:a.root},i.a.createElement("div",{className:a.contentWrapper},Object.keys(e).map(function(t){var n=e[t];return i.a.createElement("div",{className:a.root},i.a.createElement(h.a,{className:a.heading,variant:"body1"},t),Object.keys(n).map(function(e){return oo.a.HTTP_METHODS.includes(e)?i.a.createElement(fo,{method:e}):null}))}))))}}])&&so(a.prototype,n),r&&so(a,r),t}();ho.propTypes={classes:o.a.shape({}).isRequired,theme:o.a.shape({}).isRequired,history:o.a.shape({push:o.a.shape({})}).isRequired,location:o.a.shape({pathname:o.a.shape({})}).isRequired,parentClasses:o.a.shape({}).isRequired,api:o.a.shape({id:o.a.string}).isRequired};var go=Object(b.a)({root:{display:"flex",flexDirection:"row",alignItems:"center",marginBottom:10},heading:{marginRight:20}})(ho),yo=a(925),bo=a(929),vo=a(930);function Eo(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function wo(e){var t=e.theme,a=e.method,n=t.custom.operationChipColor?t.custom.operationChipColor[a]:null,r="#000000";return n?r=t.palette.getContrastText(t.custom.operationChipColor[a]):(console.log("Check the theme settings. The resourceChipColors is not populated properlly"),n="#cccccc"),i.a.createElement(Na.a,{label:a,style:{backgroundColor:n,color:r,height:20}})}wo.propTypes={method:o.a.string.isRequired,theme:o.a.shape({}).isRequired,classes:o.a.shape({}).isRequired};var Co=Object(ro.a)(wo);function Po(e){var t=e.parentClasses;return i.a.createElement(io.Consumer,null,function(e){var a,n=e.api;return i.a.createElement(me.a,{className:Vn()((a={},Eo(a,t.root,!0),Eo(a,t.specialGap,!0),a))},i.a.createElement("div",{className:t.titleWrapper},i.a.createElement(h.a,{variant:"h5",component:"h3",className:t.title},i.a.createElement(d.a,{id:"Apis.Details.NewOverview.Operations.operation",defaultMessage:"Operations"})),i.a.createElement(pe.b,{to:"/apis/"+n.id+"/operations"},i.a.createElement(ue.a,{variant:"contained",color:"default"},i.a.createElement(d.a,{id:"Apis.Details.NewOverview.Operations.edit",defaultMessage:"Edit"})))),i.a.createElement("div",{className:t.contentWrapper},i.a.createElement(yo.a,null,n.operations&&0!==n.operations.length&&n.operations.map(function(e){return i.a.createElement(vo.a,{style:{borderStyle:"hidden"}},i.a.createElement(bo.a,null,i.a.createElement(h.a,{className:t.heading,component:"p",variant:"body1"},e.target)),i.a.createElement(bo.a,null,i.a.createElement(Co,{method:e.verb.toLowerCase()})))}))))})}Po.propTypes={parentClasses:o.a.shape({}).isRequired};var So=Object(b.a)({root:{display:"flex",flexDirection:"row",alignItems:"center",marginBottom:10},heading:{marginRight:20}})(Po);function Ao(e){return(Ao="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oo(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function xo(e,t){return!t||"object"!==Ao(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Io(e){return(Io=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function To(e,t){return(To=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ko(e){var t=e.theme,a=e.method.toLowerCase(),n=t.custom.resourceChipColors?t.custom.resourceChipColors[a]:null,r="#000000";return n?r=t.palette.getContrastText(t.custom.resourceChipColors[a]):(console.log("Check the theme settings. The resourceChipColors is not populated properly"),n="#cccccc"),i.a.createElement(Na.a,{label:a,style:{backgroundColor:n,color:r,height:20}})}ko.propTypes={method:o.a.string.isRequired,theme:o.a.shape({}).isRequired,classes:o.a.shape({}).isRequired};var Do=Object(ro.a)(ko),_o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),xo(this,Io(t).apply(this,arguments))}var a,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&To(e,t)}(t,i.a.PureComponent),a=t,(n=[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.parentClasses,n=e.api.apis;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:a.titleWrapper,style:{margin:"20px 0 0"}},i.a.createElement(h.a,{variant:"h5",component:"h3",className:a.title},i.a.createElement(d.a,{id:"Apis.Details.Overview.ProductResources.resources",defaultMessage:"Resources"}))),i.a.createElement("div",{className:t.root},i.a.createElement("div",{className:t.contentWrapper},Object.keys(n).map(function(e){var a=n[e];return i.a.createElement("div",{className:t.root},i.a.createElement(h.a,{className:t.heading,variant:"body1"},a.name),Object.keys(a.operations).map(function(e){var n=a.operations[e];return i.a.createElement("div",{className:t.resourceRow},i.a.createElement(h.a,{className:t.heading,variant:"body1"},n.target),i.a.createElement(Do,{method:n.verb}))}))}))))}}])&&Oo(a.prototype,n),r&&Oo(a,r),t}();_o.propTypes={classes:o.a.shape({}).isRequired,theme:o.a.shape({}).isRequired,history:o.a.shape({push:o.a.shape({})}).isRequired,location:o.a.shape({pathname:o.a.shape({})}).isRequired,parentClasses:o.a.shape({}).isRequired,api:o.a.shape({id:o.a.string}).isRequired};var Mo=Object(b.a)({root:{display:"flex",flexDirection:"column",alignItems:"left",marginBottom:10,padding:5},heading:{marginRight:20,paddingBottom:10},resourceRow:{display:"flex",flexDirection:"row",marginLeft:10}})(_o),Ro=a(448),jo=a.n(Ro),No=a(933),Lo=a(520),qo=a.n(Lo);function Wo(e){var t=e.parentClasses,a=e.api;return i.a.createElement(i.a.Fragment,null,i.a.createElement(ce.a,{item:!0,xs:12,md:6,lg:4},i.a.createElement(h.a,{component:"p",variant:"subtitle2",className:t.subtitle},i.a.createElement(d.a,{id:"Apis.Details.NewOverview.BusinessInformation.business.owner",defaultMessage:"Business Owner"}))),i.a.createElement(ce.a,{item:!0,xs:12,md:6,lg:8},i.a.createElement(h.a,{component:"p",variant:"body1"},a.businessInformation.businessOwner&&i.a.createElement(i.a.Fragment,null,a.businessInformation.businessOwner)),i.a.createElement(h.a,{component:"p",variant:"body1",className:t.notConfigured},!a.businessInformation.businessOwner&&i.a.createElement(i.a.Fragment,null,"<",i.a.createElement(d.a,{id:"Apis.Details.NewOverview.BusinessInformation.business.owner.not.configured",defaultMessage:"Not Configured"}),">"))),i.a.createElement(ce.a,{item:!0,xs:12,md:6,lg:4},i.a.createElement(h.a,{component:"p",variant:"subtitle2",className:t.subtitle},i.a.createElement(d.a,{id:"Apis.Details.NewOverview.BusinessInformation.technical.owner",defaultMessage:"Technical Owner"}))),i.a.createElement(ce.a,{item:!0,xs:12,md:6,lg:8},i.a.createElement(h.a,{component:"p",variant:"body1"},a.businessInformation.technicalOwner&&i.a.createElement(i.a.Fragment,null,a.businessInformation.technicalOwner)),i.a.createElement(h.a,{component:"p",variant:"body1",className:t.notConfigured},!a.businessInformation.technicalOwner&&i.a.createElement(i.a.Fragment,null,"<",i.a.createElement(d.a,{id:"Apis.Details.NewOverview.BusinessInformation.technical.owner.not.configured",defaultMessage:"Not Configured"}),">"))))}Wo.propTypes={parentClasses:o.a.shape({}).isRequired,api:o.a.shape({}).isRequired};var Fo=no(Wo);function Bo(e){var t=e.parentClasses,a=e.api;return i.a.createElement(i.a.Fragment,null,i.a.createElement(ce.a,{item:!0,xs:12,md:6,lg:4},i.a.createElement(h.a,{component:"p",variant:"subtitle2",className:t.subtitle},i.a.createElement(d.a,{id:"Apis.Details.NewOverview.Policies.business.plans",defaultMessage:"Business Plans:"}))),i.a.createElement(ce.a,{item:!0,xs:12,md:6,lg:8},i.a.createElement(h.a,{component:"p",variant:"body1"},a.policies&&0!==a.policies.length&&a.policies.map(function(e,t){return i.a.createElement("span",null,e,a.policies.length!==t+1&&", "," ")}))))}Bo.propTypes={parentClasses:o.a.shape({}).isRequired,api:o.a.shape({}).isRequired};var zo=no(Bo),Uo=function(e,t){if(e.endpointConfig){if("prod"===t)return e.getProductionEndpoint();if("sand"===t)return e.getSandboxEndpoint()}return null};function Vo(e){var t=e.parentClasses,a=e.api;return i.a.createElement(i.a.Fragment,null,i.a.createElement(ce.a,{container:!0,spacing:2},i.a.createElement(ce.a,{item:!0,xs:12,md:12,lg:12,style:{paddingBottom:0}},i.a.createElement("div",{className:t.titleWrapper,style:{marginTop:20}},i.a.createElement(h.a,{variant:"h5",component:"h3",className:t.title},i.a.createElement(d.a,{id:"Apis.Details.NewOverview.Endpoints.endpoints",defaultMessage:"Endpoints"})))),i.a.createElement(ce.a,{item:!0,xs:12,md:6,lg:4},i.a.createElement(h.a,{component:"p",variant:"subtitle2",className:t.subtitle},i.a.createElement(d.a,{id:"Apis.Details.NewOverview.Endpoints.production.endpoint",defaultMessage:"Production Endpoint"}))),i.a.createElement(ce.a,{item:!0,xs:12,md:6,lg:8},i.a.createElement(h.a,{component:"p",variant:"body1"},Uo(a,"prod")&&i.a.createElement(i.a.Fragment,null,Uo(a,"prod"))),i.a.createElement(h.a,{component:"p",variant:"body1",className:t.notConfigured},!Uo(a,"prod")&&i.a.createElement(i.a.Fragment,null,"<",i.a.createElement(d.a,{id:"Apis.Details.NewOverview.Endpoints.production.not.configured",defaultMessage:"Not Configured"}),">"))),i.a.createElement(ce.a,{item:!0,xs:12,md:6,lg:4},i.a.createElement(h.a,{component:"p",variant:"subtitle2",className:t.subtitle},i.a.createElement(d.a,{id:"Apis.Details.NewOverview.Endpoints.sandbox.endpoint",defaultMessage:"Sandbox Endpoint"}))),i.a.createElement(ce.a,{item:!0,xs:12,md:6,lg:8},i.a.createElement(h.a,{component:"p",variant:"body1"},Uo(a,"sand")&&i.a.createElement(i.a.Fragment,null,Uo(a,"sand"))),i.a.createElement(h.a,{component:"p",variant:"body1",className:t.notConfigured},!Uo(a,"sand")&&i.a.createElement(i.a.Fragment,null,"<",i.a.createElement(d.a,{id:"Apis.Details.NewOverview.Endpoints.sandbox.not.configured",defaultMessage:"Not Configured"}),">"))),i.a.createElement(ce.a,{item:!0,xs:12,md:6,lg:4},i.a.createElement(h.a,{component:"p",variant:"subtitle2",className:t.subtitle},i.a.createElement(d.a,{id:"Apis.Details.NewOverview.Endpoints.endpoint.security",defaultMessage:"Endpoint Security"}))),i.a.createElement(ce.a,{item:!0,xs:12,md:6,lg:8},i.a.createElement(h.a,{component:"p",variant:"body1"},a.endpointSecurity&&i.a.createElement(i.a.Fragment,null,a.endpoint)),i.a.createElement(h.a,{component:"p",variant:"body1",className:t.notConfigured},!a.endpointSecurity&&i.a.createElement(i.a.Fragment,null,"<Not configured>")))))}Vo.propTypes={parentClasses:o.a.shape({}).isRequired,api:o.a.shape({}).isRequired};var Go=no(Vo);function Ho(e){var t,a=e.parentClasses,r={oauth2:"OAuth2",basic_auth:"Basic Auth",mutualssl:"Mutual TLS"},o=Object(n.useContext)(io).api;return o.apiType===_.CONSTS.API&&(t=i.a.createElement(Go,{parentClasses:a,api:o})),i.a.createElement(i.a.Fragment,null,i.a.createElement(ce.a,{container:!0,spacing:24},i.a.createElement(ce.a,{item:!0,xs:12,md:6,lg:6},i.a.createElement(ce.a,{container:!0,spacing:2},i.a.createElement(ce.a,{item:!0,xs:12,md:6,lg:4},i.a.createElement(xn,{api:o,width:150,height:150,isEditable:!0})),i.a.createElement(ce.a,{item:!0,xs:12,md:6,lg:8},i.a.createElement(h.a,{component:"p",variant:"subtitle2",className:a.subtitle},i.a.createElement(d.a,{id:"Apis.Details.NewOverview.Configuration.description:",defaultMessage:"Description:"})),i.a.createElement(h.a,{component:"p",variant:"body1"},o.description&&i.a.createElement(i.a.Fragment,null,o.description)),i.a.createElement(h.a,{component:"p",variant:"body1",className:a.notConfigured},!o.description&&i.a.createElement(i.a.Fragment,null,"<Description Not Configured>"))),i.a.createElement(ce.a,{item:!0,xs:12,md:6,lg:4},i.a.createElement(h.a,{component:"p",variant:"subtitle2",className:a.subtitle},i.a.createElement(d.a,{id:"Apis.Details.NewOverview.Configuration.provider:",defaultMessage:"Provider:"}))),i.a.createElement(ce.a,{item:!0,xs:12,md:6,lg:8},i.a.createElement(h.a,{component:"p",variant:"body1"},o.provider&&i.a.createElement(i.a.Fragment,null,o.provider))),o.apiType===_.CONSTS.APIProduct?null:i.a.createElement(i.a.Fragment,null,i.a.createElement(ce.a,{item:!0,xs:12,md:6,lg:4},i.a.createElement(i.a.Fragment,null,i.a.createElement(h.a,{component:"p",variant:"subtitle2",className:a.subtitle},i.a.createElement(d.a,{id:"Apis.Details.NewOverview.Configuration.type:",defaultMessage:"Type:"})))),i.a.createElement(ce.a,{item:!0,xs:12,md:6,lg:8},i.a.createElement(h.a,{component:"p",variant:"body1"},o.type&&i.a.createElement(i.a.Fragment,null,o.type),!o.type&&i.a.createElement(i.a.Fragment,null,"?")))),i.a.createElement(ce.a,{item:!0,xs:12,md:6,lg:4},i.a.createElement(h.a,{component:"p",variant:"subtitle2",className:a.subtitle},i.a.createElement(d.a,{id:"Apis.Details.NewOverview.Configuration.workflow.status",defaultMessage:"Workflow Status"}))),i.a.createElement(ce.a,{item:!0,xs:12,md:6,lg:8},i.a.createElement(h.a,{component:"p",variant:"body1"},o.workflowStatus&&i.a.createElement(i.a.Fragment,null,o.workflowStatus),!o.workflowStatus&&i.a.createElement(i.a.Fragment,null,"?"))),i.a.createElement(ce.a,{item:!0,xs:12,md:6,lg:4},i.a.createElement(h.a,{component:"p",variant:"subtitle2",className:a.subtitle},i.a.createElement(d.a,{id:"Apis.Details.NewOverview.Configuration.transports",defaultMessage:"Transports"}),i.a.createElement(No.a,{placement:"top",classes:{tooltip:a.htmlTooltip},disableHoverListener:!0,title:i.a.createElement(i.a.Fragment,null,i.a.createElement(d.a,{id:"Apis.Details.NewOverview.Configuration.transport.tooltip",defaultMessage:"HTTP is less secure than HTTPS and makes your API vulnerable to security threats."}))},i.a.createElement(ue.a,{className:a.helpButton},i.a.createElement(qo.a,{className:a.helpIcon}))))),i.a.createElement(ce.a,{item:!0,xs:12,md:6,lg:8},i.a.createElement(h.a,{component:"p",variant:"body1"},o.transport&&0!==o.transport.length&&i.a.createElement(i.a.Fragment,null,o.transport.map(function(e,t){return i.a.createElement("span",null,e,o.transport.length!==t+1&&", ")})),!o.transport&&i.a.createElement(i.a.Fragment,null,"?"))),i.a.createElement(ce.a,{item:!0,xs:12,md:6,lg:4},i.a.createElement(h.a,{component:"p",variant:"subtitle2",className:a.subtitle},i.a.createElement(d.a,{id:"Apis.Details.NewOverview.Configuration.created.time",defaultMessage:"Created Time"}))),i.a.createElement(ce.a,{item:!0,xs:12,md:6,lg:8},i.a.createElement(h.a,{component:"p",variant:"body1"},o.createdTime&&i.a.createElement(i.a.Fragment,null,i.a.createElement(No.a,{title:jo()(o.createdTime).calendar(),"aria-label":"add",interactive:!0,placement:"top-start"},i.a.createElement(h.a,{variant:"caption",display:"block"},jo()(o.createdTime).fromNow()))),!o.createdTime&&i.a.createElement(i.a.Fragment,null,"?"))),i.a.createElement(ce.a,{item:!0,xs:12,md:6,lg:4},i.a.createElement(h.a,{component:"p",variant:"subtitle2",className:a.subtitle},i.a.createElement(d.a,{id:"Apis.Details.NewOverview.Configuration.last.updated.time",defaultMessage:"Last Updated Time"}))),i.a.createElement(ce.a,{item:!0,xs:12,md:6,lg:8},i.a.createElement(h.a,{component:"p",variant:"body1"},o.lastUpdatedTime&&i.a.createElement(i.a.Fragment,null,i.a.createElement(No.a,{title:jo()(o.lastUpdatedTime).calendar(),"aria-label":"add",interactive:!0,placement:"top-start"},i.a.createElement(h.a,{variant:"caption",display:"block"},jo()(o.lastUpdatedTime).fromNow()))),!o.lastUpdatedTime&&i.a.createElement(i.a.Fragment,null,"?"))),i.a.createElement(Fo,{parentClasses:a}))),i.a.createElement(ce.a,{item:!0,xs:12,md:6,lg:6},i.a.createElement(ce.a,{container:!0,spacing:2},i.a.createElement(ce.a,{item:!0,xs:12,md:6,lg:4},i.a.createElement(h.a,{component:"p",variant:"subtitle2",className:a.subtitle},i.a.createElement(d.a,{id:"Apis.Details.NewOverview.Configuration.context:",defaultMessage:"Context:"}))),i.a.createElement(ce.a,{item:!0,xs:12,md:6,lg:8},i.a.createElement(h.a,{component:"p",variant:"body1"},o.context&&i.a.createElement(i.a.Fragment,null,o.context))),o.apiType===_.CONSTS.API&&i.a.createElement(i.a.Fragment,null,i.a.createElement(ce.a,{item:!0,xs:12,md:6,lg:4},i.a.createElement(h.a,{component:"p",variant:"subtitle2",className:a.subtitle},i.a.createElement(d.a,{id:"Apis.Details.NewOverview.Configuration.version",defaultMessage:"Version"}))),i.a.createElement(ce.a,{item:!0,xs:12,md:6,lg:8},i.a.createElement(h.a,{component:"p",variant:"body1"},o.version&&i.a.createElement(i.a.Fragment,null,o.version)))),i.a.createElement(ce.a,{item:!0,xs:12,md:6,lg:4},i.a.createElement(h.a,{component:"p",variant:"subtitle2",className:a.subtitle},i.a.createElement(d.a,{id:"Apis.Details.NewOverview.Configuration.securityScheme",defaultMessage:"API Security"}),i.a.createElement(No.a,{placement:"top",classes:{tooltip:a.htmlTooltip},disableHoverListener:!0,title:i.a.createElement(i.a.Fragment,null,i.a.createElement(d.a,{id:"Apis.Details.NewOverview.Configuration.securityScheme.tooltip",defaultMessage:"OAuth2 is used as the default security schema."}))},i.a.createElement(ue.a,{className:a.helpButton},i.a.createElement(qo.a,{className:a.helpIcon}))))),i.a.createElement(ce.a,{item:!0,xs:12,md:6,lg:8},i.a.createElement(h.a,{component:"p",variant:"body1"},o.securityScheme&&0!==o.securityScheme.length&&i.a.createElement(i.a.Fragment,null,o.securityScheme.map(function(e){return e.includes("mandatory")?null:i.a.createElement("span",null,r[e]+", ")})),!o.securityScheme&&i.a.createElement(i.a.Fragment,null,"?"))),i.a.createElement(ce.a,{item:!0,xs:12,md:6,lg:4},i.a.createElement(h.a,{component:"p",variant:"subtitle2",className:a.subtitle},i.a.createElement(d.a,{id:"Apis.Details.NewOverview.Configuration.access.control",defaultMessage:"Access Control"}),i.a.createElement(No.a,{placement:"top",classes:{tooltip:a.htmlTooltip},disableHoverListener:!0,title:i.a.createElement(i.a.Fragment,null,i.a.createElement(d.a,{id:"Apis.Details.NewOverview.Configuration.access.control.all.tooltip",defaultMessage:"All : The API is viewable, modifiable by all the publishers and creators."}),i.a.createElement("br",null),i.a.createElement(d.a,{id:"Apis.Details.NewOverview.Configuration.access.control.tooltip",defaultMessage:"Restricted by roles : The API can be viewable and modifiable by only specific publishers and creators with the roles that you specify"}))},i.a.createElement(ue.a,{className:a.helpButton},i.a.createElement(qo.a,{className:a.helpIcon}))))),i.a.createElement(ce.a,{item:!0,xs:12,md:6,lg:8},i.a.createElement(h.a,{component:"p",variant:"body1"},o.accessControl&&i.a.createElement(i.a.Fragment,null,o.accessControl),"RESTRICTED"===o.accessControl&&" ( Visible to ","RESTRICTED"===o.accessControl&&o.accessControlRoles.join(),"RESTRICTED"===o.accessControl&&" ) ")),i.a.createElement(ce.a,{item:!0,xs:12,md:6,lg:4},i.a.createElement(h.a,{component:"p",variant:"subtitle2",className:a.subtitle},i.a.createElement(d.a,{id:"Apis.Details.NewOverview.Configuration.visibility.store",defaultMessage:"Visibility on Store"}),i.a.createElement(No.a,{placement:"top",classes:{tooltip:a.htmlTooltip},disableHoverListener:!0,title:i.a.createElement(i.a.Fragment,null,i.a.createElement(d.a,{id:"Apis.Details.NewOverview.Configuration.visibility.store.all.tooltip",defaultMessage:"Public: The API is accessible to everyone and can be advertised in multiple stores - a central store and/or non-WSO2 stores."}),i.a.createElement("br",null),i.a.createElement(d.a,{id:"Apis.Details.NewOverview.Configuration.visibility.store.res.tooltip",defaultMessage:"Restricted by roles: The API is visible only to specific user roles in the tenant store that you specify."}))},i.a.createElement(ue.a,{className:a.helpButton},i.a.createElement(qo.a,{className:a.helpIcon}))))),i.a.createElement(ce.a,{item:!0,xs:12,md:6,lg:8},i.a.createElement(h.a,{component:"p",variant:"body1"},o.visibility&&i.a.createElement(i.a.Fragment,null,o.visibility),"RESTRICTED"===o.visibility&&" ( Visible to ","RESTRICTED"===o.visibility&&o.visibleRoles.join(),"RESTRICTED"===o.visibility&&" ) ")),i.a.createElement(zo,{parentClasses:a}),o.apiType===_.CONSTS.APIProduct?null:i.a.createElement(i.a.Fragment,null,i.a.createElement(ce.a,{item:!0,xs:12,md:6,lg:4},i.a.createElement(h.a,{component:"p",variant:"subtitle2",className:a.subtitle},i.a.createElement(d.a,{id:"Apis.Details.NewOverview.Configuration.tags",defaultMessage:"Tags"}))),i.a.createElement(ce.a,{item:!0,xs:12,md:6,lg:8},i.a.createElement(h.a,{variant:"body1"},"(",o.tags&&o.tags.map(function(e){return i.a.createElement(Na.a,{key:e,label:e,className:a.chip})}),")")))),t)))}Ho.propTypes={parentClasses:o.a.shape({}).isRequired};var Ko=Ho;function Jo(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){Qo(e,t,a[t])})}return e}function Qo(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Yo(e){var t=e.classes,a=e.api,r=Object(n.useContext)(io).api;return a.apiType===_.CONSTS.APIProduct&&(r.type=_.CONSTS.APIProduct),i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:t.titleWrapper},i.a.createElement(h.a,{variant:"h4",align:"left",className:t.mainTitle},i.a.createElement(d.a,{id:"Apis.Details.Overview.Overview.topic.header",defaultMessage:"Overview"}))),i.a.createElement("div",{className:t.contentWrapper},i.a.createElement(me.a,{className:t.root,elevation:1},i.a.createElement(ce.a,{container:!0,spacing:24},i.a.createElement(ce.a,{item:!0,xs:12,md:12,lg:12,className:t.leftSideWrapper},i.a.createElement(Ko,{parentClasses:t})),i.a.createElement(ce.a,{item:!0,xs:12,md:12,lg:12},function(e){switch(e){case"GRAPHQL":return i.a.createElement(So,{parentClasses:t,api:r});case"APIProduct":return i.a.createElement(Mo,{parentClasses:t,api:r});default:return i.a.createElement(go,{parentClasses:t,api:r})}}(r.type))))))}Yo.propTypes={classes:o.a.shape({}).isRequired,api:o.a.shape({id:o.a.string}).isRequired};var $o=Object(b.a)(function(e){return{root:Jo({},e.mixins.gutters(),{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)}),contentWrapper:{marginTop:e.spacing(2)},buttonSuccess:{backgroundColor:qa.a[500],"&:hover":{backgroundColor:qa.a[700]}},checkItem:{textAlign:"center"},divider:{marginTop:20,marginBottom:20},chip:{margin:e.spacing(.5),padding:0,height:"auto","& span":{padding:"0 5px"}},imageContainer:{display:"flex"},imageWrapper:{marginRight:e.spacing(3)},subtitle:{marginTop:e.spacing(0)},specialGap:{marginTop:e.spacing(3)},resourceTitle:{marginBottom:e.spacing(3)},ListRoot:{padding:0,margin:0},titleWrapper:{display:"flex"},title:{flex:1},helpButton:{padding:0,minWidth:20},helpIcon:{fontSize:16},htmlTooltip:{backgroundColor:"#f5f5f9",color:"rgba(0, 0, 0, 0.87)",maxWidth:220,fontSize:e.typography.pxToRem(14),border:"1px solid #dadde9","& b":{fontWeight:e.typography.fontWeightMedium}},lifecycleWrapper:{display:"flex",alignItems:"center"},lifecycleIcon:{fontSize:36,color:"green",marginRight:e.spacing(1)},leftSideWrapper:{paddingRight:e.spacing(2)},notConfigured:{color:"rgba(0, 0, 0, 0.40)"}}})(Yo),Zo=a(1458),Xo=a.n(Zo),el=a(1459),tl=a.n(el);function al(e){var t=e.api,a=e.configDispatcher;return i.a.createElement(ce.a,{container:!0,spacing:1,alignItems:"center"},i.a.createElement(ce.a,{item:!0,xs:11},i.a.createElement(he.a,{disabled:Object(Ka.b)(["apim:api_create"],t),id:"outlined-name",label:i.a.createElement(d.a,{id:"Apis.Details.Configuration.Configuration.auth.header.label",defaultMessage:"Authorization Header"}),value:t.authorizationHeader||" ",margin:"normal",variant:"outlined",onChange:function(e){var t=e.target.value;return a({action:"authorizationHeader",value:t})},style:{display:"flex"}})),i.a.createElement(ce.a,{item:!0,xs:1},i.a.createElement(No.a,{title:i.a.createElement(d.a,{id:"Apis.Details.Configuration.Configuration.AuthHeader.tooltip",defaultMessage:"If you want to send the authorization information under different header name other than Authorization,You may specify that header name here"}),"aria-label":"Auth Header",placement:"right-end",interactive:!0},i.a.createElement(qo.a,null))))}function nl(e){var t=e.api,a=e.configDispatcher;return i.a.createElement(ce.a,{container:!0,spacing:1,alignItems:"flex-start",xs:11},i.a.createElement(ce.a,{item:!0},i.a.createElement(wt.a,{component:"fieldset",style:{display:"flex",marginTop:20}},i.a.createElement(Ct.a,{component:"legend"},i.a.createElement(d.a,{id:"Apis.Details.Configuration.Configuration.isdefault.label",defaultMessage:"Is Default"})),i.a.createElement(vt.a,{"aria-label":"Is Default",value:t.isDefaultVersion,onChange:function(e){var t=e.target.value;return a({action:"isDefaultVersion",value:"true"===t})},style:{display:"flow-root"}},i.a.createElement(Et.a,{disabled:Object(Ka.b)(["apim:api_create"],t),value:!0,control:i.a.createElement(bt.a,null),label:i.a.createElement(d.a,{id:"Apis.Details.Configuration.Configuration.isdefault.yes",defaultMessage:"Yes"})}),i.a.createElement(Et.a,{disabled:Object(Ka.b)(["apim:api_create"],t),value:!1,control:i.a.createElement(bt.a,null),label:i.a.createElement(d.a,{id:"Apis.Details.Configuration.Configuration.isdefault.no",defaultMessage:"No"})})))),i.a.createElement(ce.a,{item:!0,xs:1},i.a.createElement(No.a,{title:i.a.createElement(d.a,{id:"Apis.Details.Configuration.Configuration.defaultversion.tooltip",defaultMessage:"If a particular version of an API is default, That API can be invoked without specifying the version parameter in the path, The default version will be wired to that request automatically"}),"aria-label":"add",placement:"right-end",interactive:!0,style:{marginTop:20}},i.a.createElement(qo.a,null))))}al.propTypes={api:o.a.shape({}).isRequired,configDispatcher:o.a.func.isRequired},nl.propTypes={api:o.a.shape({}).isRequired,configDispatcher:o.a.func.isRequired};var il=a(962);function rl(e){var t=e.api,a=e.configDispatcher;return i.a.createElement(ce.a,{container:!0,spacing:1,alignItems:"flex-start"},i.a.createElement(ce.a,{item:!0},i.a.createElement(wt.a,{component:"fieldset"},i.a.createElement(Ct.a,{component:"legend"},i.a.createElement(d.a,{id:"Apis.Details.Configuration.Configuration.response.caching",defaultMessage:"Response caching"})),i.a.createElement(Et.a,{control:i.a.createElement(il.a,{disabled:Object(Ka.b)(["apim:api_create"],t),checked:t.responseCachingEnabled,onChange:function(e){var t=e.target.checked;return a({action:"responseCachingEnabled",value:t})},color:"primary"})}))),i.a.createElement(ce.a,{item:!0},i.a.createElement(No.a,{title:i.a.createElement(d.a,{id:"Apis.Details.Configuration.components.ResponseCaching.tooltip",defaultMessage:"If enabled, API response will be cached at the gateway level to improve the response time and minimize the backend load"}),"aria-label":"Response cache",placement:"right-end",interactive:!0},i.a.createElement(qo.a,null))))}rl.propTypes={api:o.a.shape({}).isRequired,configDispatcher:o.a.func.isRequired};var ol=a(915),ll=Object(Z.a)(function(e){return{error:{color:e.palette.error.main}}});function sl(e){var t=e.api,a=e.configDispatcher,n=ll();return i.a.createElement(ce.a,{container:!0,spacing:1,alignItems:"flex-start"},i.a.createElement(ce.a,{item:!0},i.a.createElement(wt.a,{component:"fieldset"},i.a.createElement(Ct.a,{component:"legend"},i.a.createElement(d.a,{id:"Apis.Details.Configuration.Configuration.transports",defaultMessage:"Transports"})),i.a.createElement(ol.a,null,i.a.createElement(Et.a,{control:i.a.createElement(Ae.a,{disabled:Object(Ka.b)(["apim:api_create"],t),checked:t.transport.includes("http"),onChange:function(e){var t=e.target.checked;return a({action:"transport",event:{checked:t,value:"http"}})},value:"http"}),label:"HTTP"}),i.a.createElement(Et.a,{control:i.a.createElement(Ae.a,{disabled:Object(Ka.b)(["apim:api_create"],t),checked:t.transport.includes("https"),onChange:function(e){var t=e.target.checked;return a({action:"transport",event:{checked:t,value:"https"}})},value:"https"}),label:"HTTPS"})))),i.a.createElement(ce.a,{item:!0},i.a.createElement(No.a,{title:i.a.createElement(d.a,{id:"Apis.Details.Configuration.components.Transports.tooltip",defaultMessage:"API will be exposed in selected transport(s) in the gateway(s)"}),"aria-label":"Transports",placement:"right-end",interactive:!0},i.a.createElement(qo.a,null))),i.a.createElement(ce.a,{item:!0},i.a.createElement("span",{className:n.error},i.a.createElement(function(){return 0===t.transport.length?i.a.createElement(d.a,{id:"Apis.Details.Configuration.components.transport.empty",defaultMessage:"Please select at least one transport!"}):null},null))))}function cl(e){var t=e.api,a=e.configDispatcher;return i.a.createElement(he.a,{id:"outlined-multiline-static",label:"Description",multiline:!0,rows:"4",value:t.description,margin:"0",fullWidth:!0,variant:"outlined",onChange:function(e){return a({action:"description",value:e.target.value})},disabled:Object(Ka.b)(["apim:api_create"],t)})}sl.propTypes={api:o.a.shape({}).isRequired,configDispatcher:o.a.func.isRequired},cl.propTypes={api:o.a.shape({}).isRequired,configDispatcher:o.a.func.isRequired};var ul=a(896),pl=a(899),dl=a(621),ml=a.n(dl),fl=a(759),hl=a.n(fl),gl=a(728);function yl(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function bl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,i=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){i=!0,r=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw r}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function vl(e){var t=bl(Object(n.useState)(!0),2),a=t[0],r=t[1],o=bl(Object(n.useState)(!0),2),l=o[0],s=o[1],c=e.api,u=e.configDispatcher,p=bl(Object(n.useState)([]),2),m=p[0],f=p[1];Object(n.useEffect)(function(){0===m.length&&(r(!0),s(!0))},[m]);return i.a.createElement(ce.a,{container:!0,spacing:0,alignItems:"flex-start"},i.a.createElement(ce.a,{item:!0,xs:11},i.a.createElement(wt.a,{style:{display:"flex"}},i.a.createElement(pl.a,{htmlFor:"accessControl-selector"},i.a.createElement(d.a,{id:"Apis.Details.Configuration.components.AccessControl.head.topic",defaultMessage:"Access control"})),i.a.createElement(mn.a,{disabled:Object(Ka.b)(["apim:api_create"],c),value:c.accessControl,onChange:function(e){var t=e.target.value;return u({action:"accessControl",value:t})},input:i.a.createElement(ul.a,{name:"accessControl",id:"accessControl-selector"})},i.a.createElement(Pe.a,{value:"NONE"},i.a.createElement(d.a,{id:"Apis.Details.Configuration.components.AccessControl.dropdown.all",defaultMessage:"All"})),i.a.createElement(Pe.a,{value:"RESTRICTED"},i.a.createElement(d.a,{id:"Apis.Details.Configuration.components.AccessControl.dropdown.restrict",defaultMessage:"Restrict by role"}))),i.a.createElement(Ht.a,null,i.a.createElement(d.a,{id:"Apis.Details.Configuration.components.AccessControl.form.helper.text",defaultMessage:"By default there is no access restrictions"})))),i.a.createElement(ce.a,{item:!0,xs:1},i.a.createElement(No.a,{title:i.a.createElement(i.a.Fragment,null,i.a.createElement("p",null,i.a.createElement("strong",null,i.a.createElement(d.a,{id:"Apis.Details.Configuration.components.AccessControl.tooltip.all",defaultMessage:"All :"})),"  ",i.a.createElement(d.a,{id:"Apis.Details.Configuration.components.AccessControl.tooltip.all.desc",defaultMessage:"The API is viewable, modifiable by all the publishers and creators."}),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("strong",null,i.a.createElement(d.a,{id:"Apis.Details.Configuration.components.AccessControl.tooltip.restrict",defaultMessage:"Restricted by roles :"})),"  ",i.a.createElement(d.a,{id:"Apis.Details.Configuration.components.AccessControl.tooltip.restrict.desc",defaultMessage:"The API can be viewable and modifiable by only specific publishers and creators with the roles that you specify"}))),"aria-label":"Access control",placement:"right-end",interactive:!0},i.a.createElement(qo.a,null))),Ka.b&&i.a.createElement(ce.a,{item:!0},i.a.createElement(ml.a,{disabled:Object(Ka.b)(["apim:api_create"],c),value:c.accessControlRoles.concat(m),alwaysShowPlaceholder:!1,placeholder:"Enter roles and press Enter",blurBehavior:"clear",InputProps:{endAdornment:(!a||!l)&&i.a.createElement(Pt.a,{position:"end"},i.a.createElement(F.a,{color:"error"}))},onAdd:function(e){var t=Ce.role.validate(hl.a.encode(e)),a=Ce.userRole.validate(hl.a.encode(e));t.then(function(){r(!0),a.then(function(){s(!0),u({action:"accessControlRoles",value:[].concat(yl(c.accessControlRoles),[e])})}).catch(function(t){404===t.status?(s(!1),f([].concat(yl(m),[e]))):(se.error("Error when validating role: "+e),console.error("Error when validating user roles "+t))})}).catch(function(t){404===t.status?(r(!1),f([].concat(yl(m),[e]))):(se.error("Error when validating role: "+e),console.error("Error when validating roles "+t))})},error:!a||!l,helperText:a?l?i.a.createElement(d.a,{id:"Apis.Details.Scopes.CreateScope.roles.help",defaultMessage:"Enter valid role and press enter"}):i.a.createElement(d.a,{id:"Apis.Details.Scopes.Roles.User.Invalid",defaultMessage:"Role must be associated with API creator"}):i.a.createElement(d.a,{id:"Apis.Details.Scopes.Roles.Invalid",defaultMessage:"Role is invalid"}),chipRenderer:function(e,t){var a=e.value;return i.a.createElement(Na.a,{key:t,label:a,onDelete:function(){var e;e=a,f(m.filter(function(t){return t!==e})),u({action:"accessControlRoles",value:c.accessControlRoles.filter(function(t){return t!==e})})},style:{backgroundColor:m.includes(a)?gl.a[300]:null,margin:"8px 8px 8px 0",float:"left"}})}})))}function El(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function wl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,i=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){i=!0,r=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw r}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Cl(e){var t=wl(Object(n.useState)(!0),2),a=t[0],r=t[1],o=e.api,l=e.configDispatcher,s=wl(Object(n.useState)([]),2),c=s[0],u=s[1],p="PUBLIC"===o.visibility;Object(n.useEffect)(function(){0===c.length&&r(!0)},[c]);return i.a.createElement(ce.a,{container:!0,spacing:0,alignItems:"flex-start"},i.a.createElement(ce.a,{item:!0,xs:11},i.a.createElement(wt.a,{style:{display:"flex"}},i.a.createElement(pl.a,{htmlFor:"storeVisibility-selector"},i.a.createElement(d.a,{id:"Apis.Details.Configuration.components.storeVisibility.head.topic",defaultMessage:"Store Visibility"})),i.a.createElement(mn.a,{disabled:Object(Ka.b)(["apim:api_create","apim:api_publish"],o),value:o.visibility,onChange:function(e){var t=e.target.value;return l({action:"visibility",value:t})},input:i.a.createElement(ul.a,{name:"storeVisibility",id:"storeVisibility-selector"})},i.a.createElement(Pe.a,{value:"PUBLIC"},i.a.createElement(d.a,{id:"Apis.Details.Configuration.components.StoreVisibility.dropdown.public",defaultMessage:"Public"})),i.a.createElement(Pe.a,{value:"RESTRICTED"},i.a.createElement(d.a,{id:"Apis.Details.Configuration.components.storeVisibility.dropdown.restrict",defaultMessage:"Restrict by role(s)"}))),i.a.createElement(Ht.a,null,i.a.createElement(d.a,{id:"Apis.Details.Configuration.components.storeVisibility.form.helper.text",defaultMessage:"By default API is visible to all store users"})))),i.a.createElement(ce.a,{item:!0,xs:1},i.a.createElement(No.a,{title:i.a.createElement(i.a.Fragment,null,i.a.createElement("p",null,i.a.createElement("strong",null,i.a.createElement(d.a,{id:"Apis.Details.Configuration.components.storeVisibility.tooltip.public",defaultMessage:"Public :"})),"  ",i.a.createElement(d.a,{id:"Apis.Details.Configuration.components.storeVisibility.tooltip.public.desc",defaultMessage:"The API is accessible to everyone and can be advertised in multiple stores - a central store and/or non-WSO2 stores."}),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("strong",null,i.a.createElement(d.a,{id:"Apis.Details.Configuration.components.storeVisibility.tooltip.restrict",defaultMessage:"Restricted by roles(s) :"})),"  ",i.a.createElement(d.a,{id:"Apis.Details.Configuration.components.storeVisibility.tooltip.restrict.desc",defaultMessage:"The API is visible only to specific user roles in the tenant store that you specify."}))),"aria-label":"Store Visibility",placement:"right-end",interactive:!0},i.a.createElement(qo.a,null))),!p&&i.a.createElement(ce.a,{item:!0},i.a.createElement(ml.a,{disabled:Object(Ka.b)(["apim:api_create","apim:api_publish"],o),value:o.visibleRoles.concat(c),alwaysShowPlaceholder:!1,placeholder:"Enter roles and press Enter",blurBehavior:"clear",InputProps:{endAdornment:!a&&i.a.createElement(Pt.a,{position:"end"},i.a.createElement(F.a,{color:"error"}))},onAdd:function(e){Ce.role.validate(hl.a.encode(e)).then(function(){r(!0),l({action:"visibleRoles",value:[].concat(El(o.visibleRoles),[e])})}).catch(function(t){404===t.status?(r(!1),u([].concat(El(c),[e]))):(se.error("Error when validating role: "+e),console.error("Error when validating roles "+t))})},error:!a,helperText:a?i.a.createElement(d.a,{id:"Apis.Details.Scopes.CreateScope.roles.help",defaultMessage:"Enter valid role and press enter"}):i.a.createElement(d.a,{id:"Apis.Details.Scopes.Roles.Invalid",defaultMessage:"Role is invalid"}),chipRenderer:function(e,t){var a=e.value;return i.a.createElement(Na.a,{key:t,label:a,onDelete:function(){var e;e=a,c.includes(e)&&u(c.filter(function(t){return t!==e})),l({action:"visibleRoles",value:o.visibleRoles.filter(function(t){return t!==e})})},style:{backgroundColor:c.includes(a)?gl.a[300]:null,margin:"8px 8px 8px 0",float:"left"}})}})))}function Pl(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Sl(e){var t=Object(n.useContext)(io).api,a=t.corsConfiguration,r=e.configDispatcher,o=a.corsConfigurationEnabled,l="*"===a.accessControlAllowOrigins[0]&&1===a.accessControlAllowOrigins.length;return i.a.createElement(i.a.Fragment,null,i.a.createElement(ce.a,{container:!0},i.a.createElement(ce.a,{item:!0},i.a.createElement(wt.a,{component:"fieldset"},i.a.createElement(Ct.a,{component:"legend"},i.a.createElement(d.a,{id:"Apis.Details.Configuration.components.CORSConfiguration.cors.configuration",defaultMessage:"CORS Configuration"})),i.a.createElement(Et.a,{control:i.a.createElement(il.a,{disabled:Object(Ka.b)(["apim:api_create"],t),checked:a.corsConfigurationEnabled,onChange:function(e){var t=e.target.checked;return r({action:"corsConfigurationEnabled",value:t})},color:"primary"})}))),i.a.createElement(ce.a,{item:!0},i.a.createElement(No.a,{title:i.a.createElement(d.a,{id:"Apis.Details.Configuration.components.CORSConfiguration.tooltip",defaultMessage:"If enabled, the CORS configuration for the API will be enabled."}),"aria-label":"Response cache",placement:"right-end",interactive:!0},i.a.createElement(qo.a,null))),i.a.createElement(ce.a,{container:!0},i.a.createElement(ce.a,{item:!0,md:12},o&&i.a.createElement(ce.a,{container:!0},i.a.createElement(ce.a,{item:!0,md:12},i.a.createElement(h.a,{variant:"subtitle1"},i.a.createElement(d.a,{id:"Apis.Details.Configuration.components.CORSConfiguration.allow.origins",defaultMessage:"Access Control Allow Origins"}))),i.a.createElement(ce.a,{item:!0,md:12},i.a.createElement(ce.a,{container:!0},i.a.createElement(ce.a,{item:!0,md:12},i.a.createElement(Et.a,{control:i.a.createElement(Ae.a,{disabled:Object(Ka.b)(["apim:api_create"],t),checked:l,onChange:function(e){var t=e.target,a=t.checked,n=t.value;return r({action:"accessControlAllowOrigins",event:{checked:a,value:n}})},value:"*"}),label:"Allow All Origins"})),!l&&i.a.createElement(ce.a,{item:!0,md:12},i.a.createElement(ml.a,{style:{marginBottom:40},value:a.accessControlAllowOrigins,helperText:i.a.createElement(d.a,{id:"Apis.Details.Configuration.components.CORSConfigurations.origin.helper",defaultMessage:"Press `enter` after typing the origin name,To add a new origin"}),onAdd:function(e){r({action:"accessControlAllowOrigins",event:{value:[].concat(Pl(a.accessControlAllowOrigins),[e])}})},onDelete:function(e){r({action:"accessControlAllowOrigins",event:{value:a.accessControlAllowOrigins.filter(function(t){return t!==e})}})}})))),i.a.createElement(ce.a,{item:!0,md:12},i.a.createElement(h.a,{variant:"subtitle1"},i.a.createElement(d.a,{id:"Apis.Details.Configuration.components.CORSConfiguration.allow.headers",defaultMessage:"Access Control Allow Headers"}))),i.a.createElement(ce.a,{item:!0,md:12},i.a.createElement(ml.a,{style:{marginBottom:40},value:a.accessControlAllowHeaders,disabled:Object(Ka.b)(["apim:api_create"],t),helperText:i.a.createElement(d.a,{id:"Apis.Details.Configuration.components.CORSConfigurations.header.helper",defaultMessage:"Press `enter` after typing the header name, To add a new header"}),onAdd:function(e){r({action:"accessControlAllowHeaders",value:[].concat(Pl(a.accessControlAllowHeaders),[e])})},onDelete:function(e){r({action:"accessControlAllowHeaders",value:a.accessControlAllowHeaders.filter(function(t){return t!==e})})}})),i.a.createElement(ce.a,{item:!0,md:12},i.a.createElement(h.a,{variant:"subtitle1"},i.a.createElement(d.a,{id:"Apis.Details.Configuration.components.CORSConfiguration.allow.methods",defaultMessage:"Access Control Allow Methods"}))),i.a.createElement(ce.a,{item:!0,md:12},i.a.createElement(ml.a,{style:{marginBottom:40},value:a.accessControlAllowMethods,disabled:Object(Ka.b)(["apim:api_create"],t),helperText:i.a.createElement(d.a,{id:"Apis.Details.Configuration.components.CORSConfigurations.method.helper",defaultMessage:"Press `enter` after typing the method name, To add a new method"}),onAdd:function(e){r({action:"accessControlAllowMethods",value:[].concat(Pl(a.accessControlAllowMethods),[e])})},onDelete:function(e){r({action:"accessControlAllowMethods",value:a.accessControlAllowMethods.filter(function(t){return t!==e})})}})),i.a.createElement(ce.a,{item:!0},i.a.createElement(Et.a,{control:i.a.createElement(Ae.a,{disabled:Object(Ka.b)(["apim:api_create"],t),checked:a.accessControlAllowCredentials,onChange:function(e){var t=e.target.checked;return r({action:"accessControlAllowCredentials",value:t})}}),label:i.a.createElement(d.a,{id:"Apis.Details.Configuration.components.CORSConfiguration.allow.credentials",defaultMessage:"Access Control Allow Credentials"})})))))))}function Al(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Ol(e){var t=e.api,a=e.configDispatcher;return i.a.createElement(i.a.Fragment,null,i.a.createElement(ce.a,{container:!0},i.a.createElement(ce.a,{item:!0,xs:12},i.a.createElement(h.a,{variant:"subtitle1"},i.a.createElement(d.a,{id:"Apis.Details.Configuration.components.Tags.title",defaultMessage:"Tags"}))),i.a.createElement(ce.a,{item:!0,xs:12},i.a.createElement(ml.a,{disabled:Object(Ka.b)(["apim:api_create","apim:api_publish"],t),value:t.tags,helperText:i.a.createElement(d.a,{id:"Apis.Details.Configuration.components.Tags.helper",defaultMessage:"Press `enter` after typing the tag name,To add a new tag"}),onAdd:function(e){a({action:"tags",value:[].concat(Al(t.tags),[e])})},onDelete:function(e){a({action:"tags",value:t.tags.filter(function(t){return t!==e})})},style:{display:"flex"}}))))}function xl(e){return(xl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Il(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Tl(e){return(Tl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dl(e,t){return(Dl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}vl.propTypes={api:o.a.shape({}).isRequired,configDispatcher:o.a.func.isRequired},Cl.propTypes={api:o.a.shape({}).isRequired,configDispatcher:o.a.func.isRequired},Sl.propTypes={api:o.a.shape({}).isRequired,configDispatcher:o.a.func.isRequired},Ol.propTypes={api:o.a.shape({}).isRequired,configDispatcher:o.a.func.isRequired};var _l=function(e){function t(e){var a,n,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(a=!(i=Tl(t).call(this,e))||"object"!==xl(i)&&"function"!=typeof i?kl(n):i).state={isOpen:!1},a.setIsOpen=a.setIsOpen.bind(kl(a)),a}var a,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dl(e,t)}(t,i.a.Component),a=t,(n=[{key:"componentDidUpdate",value:function(e){var t=this.props.api;!e.api.enableSchemaValidation&&t.enableSchemaValidation&&this.setIsOpen(!0)}},{key:"setIsOpen",value:function(e){this.setState({isOpen:e})}},{key:"render",value:function(){var e=this,t=this.props,a=t.api,n=t.configDispatcher,r=this.state.isOpen;return i.a.createElement(ce.a,{container:!0,spacing:1,alignItems:"flex-start"},i.a.createElement(ce.a,{item:!0},i.a.createElement(wt.a,{component:"fieldset",style:{marginTop:20}},i.a.createElement(Ct.a,{component:"legend"},i.a.createElement(d.a,{id:"Apis.Details.Configuration.Configuration.schema.validation",defaultMessage:"Schema validation"})),i.a.createElement(Et.a,{control:i.a.createElement(il.a,{disabled:Object(Ka.b)(["apim:api_create"],a),checked:void 0!==a.enableSchemaValidation&&a.enableSchemaValidation,onChange:function(e){var t=e.target.checked;return n({action:"enableSchemaValidation",value:t})},color:"primary"})}))),i.a.createElement(ce.a,{item:!0},i.a.createElement(No.a,{title:i.a.createElement(d.a,{id:"Apis.Details.Configuration.components.schema.validation.tooltip",defaultMessage:"Enable the request and response validation against the OpenAPI definition"}),"aria-label":"Schema Validation",placement:"right-end",interactive:!0,style:{marginTop:20}},i.a.createElement(qo.a,null))),i.a.createElement(ce.a,{item:!0},i.a.createElement(Wa.a,{open:r,onClose:function(){return e.setIsOpen(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},i.a.createElement(Fa.a,{id:"alert-dialog-title"},i.a.createElement(d.a,{id:"Apis.Details.Configuration.components.SchemaValidation.title",defaultMessage:"Caution!"})),i.a.createElement(Ba.a,null,i.a.createElement(za.a,{id:"alert-dialog-description"},i.a.createElement(h.a,{variant:"subtitle1",display:"block",gutterBottom:!0},i.a.createElement(d.a,{id:"Apis.Details.Configuration.components.SchemaValidation.description",defaultMessage:"Enabling JSON schema validation will cause to build the payload in every requests and responses. This will have an impact on the round trip time of an API request!"})),i.a.createElement(h.a,{variant:"subtitle2",display:"block",gutterBottom:!0},i.a.createElement("b",null,i.a.createElement(d.a,{id:"Apis.Details.Configuration.components.SchemaValidation.description.question",defaultMessage:"Do you want  to enable schema validation?"}))))),i.a.createElement(Ua.a,null,i.a.createElement(ue.a,{color:"primary",onClick:function(){return e.setIsOpen(!1)}},"Yes"),i.a.createElement(ue.a,{onClick:function(){e.setIsOpen(!1),n({action:"enableSchemaValidation",value:!1})}},"No")))))}}])&&Il(a.prototype,n),r&&Il(a,r),t}();function Ml(e){var t=e.haveMultiLevelSecurity,a=e.securityScheme,r=e.configDispatcher,o=Object(n.useContext)(io).api,l="optional";return a.includes(Vl)||a.includes(Gl)?a.includes(Hl)?a.includes(Kl)&&(l=Kl):l=Kl:l=null,i.a.createElement(i.a.Fragment,null,i.a.createElement(ce.a,{item:!0},i.a.createElement(wt.a,{component:"fieldset"},i.a.createElement(Ct.a,{component:"legend"},i.a.createElement(d.a,{id:"Apis.Details.Configuration.Configuration.APISecurity.http",defaultMessage:"Application Level (HTTP)"})),i.a.createElement(ol.a,{style:{display:"flow-root"}},i.a.createElement(Et.a,{control:i.a.createElement(Ae.a,{disabled:Object(Ka.b)(["apim:api_create"],o),checked:a.includes(Vl),onChange:function(e){var t=e.target,a=t.checked,n=t.value;return r({action:"securityScheme",event:{checked:a,value:n}})},value:Vl}),label:"OAuth2"}),i.a.createElement(Et.a,{control:i.a.createElement(Ae.a,{disabled:Object(Ka.b)(["apim:api_create"],o),checked:a.includes(Gl),onChange:function(e){var t=e.target,a=t.checked,n=t.value;return r({action:"securityScheme",event:{checked:a,value:n}})},value:Gl}),label:"Basic"}))),i.a.createElement(ce.a,{item:!0},i.a.createElement(wt.a,{component:"fieldset"},i.a.createElement(vt.a,{"aria-label":"HTTP security HTTP mandatory selection",name:Kl,value:l,onChange:function(e){var t=e.target,a=t.name,n=t.value;return r({action:"securityScheme",event:{name:a,value:n}})},row:!0},i.a.createElement(Et.a,{value:Kl,control:i.a.createElement(bt.a,{disabled:!t,color:"default"}),label:"Mandatory",labelPlacement:"end"}),i.a.createElement(Et.a,{value:"optional",control:i.a.createElement(bt.a,{disabled:!t,color:"default"}),label:"Optional",labelPlacement:"end"})),i.a.createElement(Ht.a,null,i.a.createElement(d.a,{id:"Apis.Details.Configuration.components.APISecurity.components.ApplicationLevel",defaultMessage:"Choose whether Application level security is mandatory or optional"}))))))}_l.propTypes={api:o.a.shape({enableSchemaValidation:o.a.bool}).isRequired,configDispatcher:o.a.func.isRequired},Ml.propTypes={configDispatcher:o.a.func.isRequired,haveMultiLevelSecurity:o.a.bool.isRequired,securityScheme:o.a.arrayOf(o.a.string).isRequired};var Rl=a(959),jl=a(961);function Nl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,i=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){i=!0,r=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw r}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Ll={border:"1px dashed ",borderRadius:"5px",cursor:"pointer",height:75,padding:"8px 0px",position:"relative",textAlign:"center",width:"100%",margin:"10px 0"};function ql(e){var t=e.classes,a=e.certificates,r=e.uploadCertificate,o=e.deleteCertificate,l=e.isMutualSSLEnabled,s=e.apiId,c=Nl(Object(n.useState)({name:"",content:{}}),2),u=c[0],p=c[1],m=Nl(Object(n.useState)([]),2),f=m[0],g=m[1],y=Nl(Object(n.useState)(""),2),b=y[0],v=y[1],E=Nl(Object(n.useState)(""),2),w=E[0],C=E[1],P=Nl(Object(n.useState)(""),2),S=P[0],A=P[1],O=Nl(Object(n.useState)(!1),2),x=O[0],I=O[1],T=Nl(Object(n.useState)({open:!1,anchor:null,details:{}}),2),k=T[0],D=T[1],M=Nl(Object(n.useState)({open:!1,alias:""}),2),R=M[0],j=M[1],N=function(){I(!1),p({name:"",content:""}),v(""),A(""),C("")};return Object(n.useEffect)(function(){g(a)},[a]),i.a.createElement(ce.a,{container:!0,direction:"column"},i.a.createElement(ce.a,null,i.a.createElement(h.a,{className:t.certificatesHeader},i.a.createElement(d.a,{id:"Apis.Details.Endpoints.GeneralConfiguration.Certificates.certificates",defaultMessage:"Certificates"}))),i.a.createElement(ce.a,{item:!0},i.a.createElement(ci.a,{className:t.certificateList},f.length>0?f.map(function(e){return i.a.createElement(ui.a,null,i.a.createElement(Rl.a,null,i.a.createElement(va.a,null,"lock")),l?i.a.createElement(Se.a,{primary:e.alias,secondary:e.tier}):i.a.createElement(Se.a,{primary:e.alias,secondary:e.endpoint}),i.a.createElement(jl.a,null,i.a.createElement(K.a,{edge:"end",onClick:function(t){return function(e,t){l?_.getClientCertificateStatus(t,s).then(function(a){D({details:a.body,open:!0,alias:t,anchor:e.currentTarget})}).catch(function(e){console.error(e)}):_.getCertificateStatus(t).then(function(a){D({details:a.body,open:!0,alias:t,anchor:e.currentTarget})}).catch(function(e){console.error(e)})}(t,e.alias)}},i.a.createElement(va.a,null,"info")),i.a.createElement(K.a,{onClick:function(){return j({open:!0,alias:e.alias})},color:"secondary"},i.a.createElement(va.a,null,"delete"))))}):i.a.createElement(ui.a,null,i.a.createElement(Rl.a,null,i.a.createElement(va.a,{color:"primary"},"info")),i.a.createElement(Se.a,null,"You do not have any certificates uploaded"))),i.a.createElement(ci.a,null,i.a.createElement(ui.a,{button:!0,className:t.addCertificateBtn,onClick:function(){return I(!0)}},i.a.createElement(Rl.a,null,i.a.createElement(K.a,null,i.a.createElement(va.a,null,"add"))),i.a.createElement(Se.a,{primary:"Add Certificate"})))),i.a.createElement(Wa.a,{open:R.open},i.a.createElement(Fa.a,null,i.a.createElement(va.a,{style:{color:"#dd1c30"}},"warning"),"Delete Certificate"),i.a.createElement(Ba.a,null,i.a.createElement(h.a,null,i.a.createElement(d.a,{id:"Apis.Details.Endpoints.GeneralConfiguration.Certificates.confirm.certificate.delete",defaultMessage:"Do you want to delete the Certificate"})," "," "+R.alias+"?",i.a.createElement(d.a,{id:"Apis.Details.Endpoints.GeneralConfiguration.Certificates.delete.cannot.undone",defaultMessage:" This cannot be undone."}))),i.a.createElement(Ua.a,null,i.a.createElement(ue.a,{onClick:function(){return e=R.alias,o(e),void j({open:!1,alias:""});var e},color:"primary",autoFocus:!0},i.a.createElement(d.a,{id:"Apis.Details.Endpoints.GeneralConfiguration.Certificates.delete.ok.button",defaultMessage:"OK"})),i.a.createElement(ue.a,{onClick:function(){return j({open:!1,alias:""})},color:"secondary"},i.a.createElement(d.a,{id:"Apis.Details.Endpoints.GeneralConfiguration.Certificates.delete.cancel.button",defaultMessage:"Cancel"})))),i.a.createElement(Wa.a,{open:k.open},i.a.createElement(Fa.a,null,i.a.createElement(h.a,{className:t.certDetailsHeader},i.a.createElement(d.a,{id:"Apis.Details.Endpoints.GeneralConfiguration.Certificates.certificate.details.of",defaultMessage:"Details of"})," "+k.alias)),i.a.createElement(Ba.a,null,i.a.createElement(h.a,null,i.a.createElement(d.a,{id:"Apis.Details.Endpoints.GeneralConfiguration.Certificates.status",defaultMessage:"Status"})," : "+k.details.status),i.a.createElement(h.a,null,i.a.createElement(d.a,{id:"Apis.Details.Endpoints.GeneralConfiguration.Certificates.subject",defaultMessage:"Subject"})," : "+k.details.subject)),i.a.createElement(Ua.a,null,i.a.createElement(ue.a,{onClick:function(){return D({open:!1,anchor:null,details:{}})},color:"primary"},i.a.createElement(d.a,{id:"Apis.Details.Endpoints.GeneralConfiguration.Certificates.details.close.button",defaultMessage:"Close"})))),i.a.createElement(Wa.a,{open:x},i.a.createElement(Fa.a,null,i.a.createElement(h.a,{className:t.uploadCertDialogHeader},i.a.createElement(d.a,{id:"Apis.Details.Endpoints.GeneralConfiguration.Certificates.uploadCertificate",defaultMessage:"Upload Certificate"}))),i.a.createElement(Ba.a,null,i.a.createElement(ce.a,null,i.a.createElement("div",null,l?i.a.createElement(xe,{multiple:!1,policies:w,helperText:"Select a throttling policy for the certificate",onChange:function(e){var t=e.target.value;C(t)},required:!0}):i.a.createElement(he.a,{required:!0,id:"certificateEndpoint",label:i.a.createElement(d.a,{id:"Apis.Details.Endpoints.GeneralConfiguration.Certificates.endpoint",defaultMessage:"Endpoint"}),value:S,placeholder:"Endpoint",onChange:function(e){return A(e.target.value)},margin:"normal",fullWidth:!0}),i.a.createElement(he.a,{required:!0,id:"certificateAlias",label:i.a.createElement(d.a,{id:"Apis.Details.Endpoints.GeneralConfiguration.Certificates.alias",defaultMessage:"Alias"}),value:b,placeholder:"My Alias",onChange:function(e){return v(e.target.value)},margin:"normal",fullWidth:!0}),i.a.createElement(St.a,{multiple:!1,accept:"application/pkcs8,application/pkcs10, application/pkix-crl,application/pkcs7-mime,application/x-x509-ca-cert,application/x-x509-user-cert,application/x-pkcs7-crl,application/x-pkcs12,application/x-pkcs7-certificates,application/x-pkcs7-certreqresp,.p8, .p10, .csr, .cer, .crl, .p7c, .crt, .der, .p12, .pfx, .p7b, .spc, .p7r",className:t.dropzone,activeClassName:t.acceptDrop,rejectClassName:t.rejectDrop,onDrop:function(e){var t;(t=e[0])&&p({name:t.name,content:t})}},function(e){var a=e.getRootProps,n=e.getInputProps;return i.a.createElement("div",a({style:Ll}),i.a.createElement("input",n()),i.a.createElement("div",{className:t.dropZoneWrapper},""===u.name?i.a.createElement("div",null,i.a.createElement(va.a,{style:{fontSize:56}},"cloud_upload"),i.a.createElement(h.a,null,i.a.createElement(d.a,{id:"Apis.Details.Endpoints.GeneralConfiguration.Certificates.click.or.drop.to.upload.file",defaultMessage:"Click or drag the certificate  file to upload."}))):i.a.createElement("div",{className:t.uploadedFile},i.a.createElement(va.a,{style:{fontSize:56}},"insert_drive_file"),u.name)))})))),i.a.createElement(Ua.a,null,i.a.createElement(ue.a,{onClick:function(){r(u.content,l?w:S,b),N()},color:"primary",autoFocus:!0,disabled:""===b||!l&&""===S||""===u.name||l&&""===w},i.a.createElement(d.a,{id:"Apis.Details.Endpoints.GeneralConfiguration.Certificates.config.save.button",defaultMessage:"Save"})),i.a.createElement(ue.a,{onClick:N,color:"secondary"},i.a.createElement(d.a,{id:"Apis.Details.Endpoints.GeneralConfiguration.Certificates.cancel.button",defaultMessage:"Close"})))))}ql.defaultProps={isMutualSSLEnabled:!1,apiId:""},ql.propTypes={classes:o.a.shape({fileinput:o.a.shape({}),button:o.a.shape({})}).isRequired,certificates:o.a.shape({}).isRequired,uploadCertificate:o.a.func.isRequired,deleteCertificate:o.a.func.isRequired,apiId:o.a.string,isMutualSSLEnabled:o.a.bool};var Wl=Object(d.d)(Object(b.a)(function(e){return{fileinput:{display:"none"},dropZoneWrapper:{height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center","& span.material-icons":{color:e.palette.primary.main}},uploadedFile:{fontSize:11},certificatesHeader:{fontWeight:600,marginTop:20},addCertificateBtn:{borderColor:"#c4c4c4",borderRadius:"8px",borderStyle:"dashed",borderWidth:"thin"},certificateList:{maxHeight:"250px",overflow:"scroll"},certDetailsHeader:{fontWeight:"600"},uploadCertDialogHeader:{fontWeight:"600"}}})(ql));function Fl(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Bl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,i=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){i=!0,r=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw r}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function zl(e){var t=e.haveMultiLevelSecurity,a=e.securityScheme,r=e.configDispatcher,o=e.intl,l=e.id,s=a.includes(Hl),c=Object(n.useContext)(io).api,u=Bl(Object(n.useState)([]),2),p=u[0],m=u[1];Object(n.useEffect)(function(){_.getAllClientCertificates(l).then(function(e){var t=e.obj.certificates;m(t)}).catch(function(e){console.error(e),m([])})},[]);var f="optional";return s?a.includes(Vl)||a.includes(Gl)?a.includes(Jl)&&(f=Jl):f=Jl:f="null",i.a.createElement(i.a.Fragment,null,i.a.createElement(ce.a,{item:!0},i.a.createElement(wt.a,{component:"fieldset"},i.a.createElement(Ct.a,{component:"legend"},i.a.createElement(d.a,{id:"Apis.Details.Configuration.Configuration.APISecurity.ssl",defaultMessage:"Transport Level (TLS)"})),i.a.createElement(ol.a,null,i.a.createElement(Et.a,{control:i.a.createElement(Ae.a,{disabled:Object(Ka.b)(["apim:api_create"],c),checked:s,onChange:function(e){var t=e.target,a=t.checked,n=t.value;return r({action:"securityScheme",event:{checked:a,value:n}})},value:Hl}),label:"Mutual SSL"}))),i.a.createElement(ce.a,{item:!0},i.a.createElement(wt.a,{component:"fieldset"},i.a.createElement(vt.a,{"aria-label":"HTTP security SSL mandatory selection",name:Jl,value:f,onChange:function(e){var t=e.target,a=t.name,n=t.value;return r({action:"securityScheme",event:{name:a,value:n}})},row:!0},i.a.createElement(Et.a,{value:Jl,control:i.a.createElement(bt.a,{disabled:!t,color:"default"}),label:"Mandatory",labelPlacement:"end"}),i.a.createElement(Et.a,{value:"optional",control:i.a.createElement(bt.a,{disabled:!t,color:"default"}),label:"Optional",labelPlacement:"end"})),i.a.createElement(Ht.a,null,i.a.createElement(d.a,{id:"Apis.Details.Configuration.components.APISecurity.components.TransportLevel",defaultMessage:"Choose whether Transport level security is mandatory or optional"})))),i.a.createElement(ce.a,{item:!0},s&&i.a.createElement(Wl,{isMutualSSLEnabled:s,certificates:p,uploadCertificate:function(e,t,a){_.addClientCertificate(l,e,t,a).then(function(e){if(201===e.status){se.info(o.formatMessage({id:"Apis.Details.Configuration.components.APISecurity.TranportLevel.certificate.add.success",defaultMessage:"Certificate added successfully"}));var t=Fl(p);t.push({apiId:e.obj.apiId,alias:e.obj.alias,tier:e.obj.tier}),m(t)}}).catch(function(e){e.response?se.error(e.response.body.description):se.error(o.formatMessage({id:"Apis.Details.Configuration.components.APISecurity.TranportLevel.certificate.alias.error",defaultMessage:"Something went wrong while adding the API certificate"}))})},deleteCertificate:function(e){_.deleteClientCertificate(e,l).then(function(t){m(function(){return 200===t.status?p.filter(function(t){return t.alias!==e}):-1}),se.info(o.formatMessage({id:"Apis.Details.Configuration.components.APISecurity.TranportLevel.certificate.delete.success",defaultMessage:"Certificate Deleted Successfully"}))}).catch(function(e){e.response?se.error(e.response.body.description):se.info(o.formatMessage({id:"Apis.Details.Configuration.components.APISecurity.TranportLevel.certificate.delete.error",defaultMessage:"Error while deleting certificate"}))})},apiId:l}))))}zl.propTypes={configDispatcher:o.a.func.isRequired,haveMultiLevelSecurity:o.a.bool.isRequired,securityScheme:o.a.arrayOf(o.a.string).isRequired,intl:o.a.shape({}).isRequired,id:o.a.string.isRequired};var Ul=Object(d.d)(zl),Vl="oauth2",Gl="basic_auth",Hl="mutualssl",Kl="oauth_basic_auth_mandatory",Jl="mutualssl_mandatory",Ql=Object(Z.a)(function(e){return{error:{color:e.palette.error.main}}});function Yl(e){var t=e.api,a=t.securityScheme,n=t.id,r=e.configDispatcher,o=a.includes(Hl)&&(a.includes(Gl)||a.includes(Vl)),l=Ql();return i.a.createElement(i.a.Fragment,null,i.a.createElement(ce.a,{container:!0,spacing:2,alignItems:"flex-start"},i.a.createElement(ce.a,{item:!0},i.a.createElement(h.a,{variant:"subtitle1"},"API Security")),i.a.createElement(ce.a,{item:!0},i.a.createElement(No.a,{title:i.a.createElement(d.a,{id:"Apis.Details.Configuration.components.APISecurity.tooltip",defaultMessage:"This option determines the type of security that will be used to secure this API. An API can be secured with either one of them or it can be secured by both of them. If OAuth2 option is selected, relevant API will require a valid OAuth2 token for successful invocation. If Mutual SSL option is selected, a trusted client certificate should be presented to access the API"}),"aria-label":"APISecurity",placement:"right-end",interactive:!0},i.a.createElement(qo.a,null)))),i.a.createElement(ce.a,{container:!0,spacing:5,alignItems:"flex-start"},i.a.createElement(Ml,{haveMultiLevelSecurity:o,securityScheme:a,configDispatcher:r}),i.a.createElement(Ul,{haveMultiLevelSecurity:o,securityScheme:a,configDispatcher:r,id:n}),i.a.createElement(ce.a,{item:!0},i.a.createElement("span",{className:l.error},i.a.createElement(function(){return a.includes(Hl)||a.includes(Gl)||a.includes(Vl)?!o||a.includes(Jl)||a.includes(Kl)?null:i.a.createElement(d.a,{id:"Apis.Details.Configuration.components.APISecurity.allOptional",defaultMessage:"Please select at least one API security level mandatory!"}):i.a.createElement(d.a,{id:"Apis.Details.Configuration.components.APISecurity.emptySchemas",defaultMessage:"Please select at least one API security method!"})},null)))))}function $l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,i=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){i=!0,r=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw r}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Zl(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){Xl(e,t,a[t])})}return e}function Xl(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function es(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}Yl.propTypes={api:o.a.shape({}).isRequired,configDispatcher:o.a.func.isRequired};var ts=Object(Z.a)(function(e){return{root:{padding:e.spacing(3,2)},titleWrapper:{display:"flex",flexDirection:"row",alignItems:"center",marginBottom:3*e.spacing.unit},mainTitle:{paddingLeft:0},paper:{padding:3*e.spacing.unit},heading:{fontSize:"1.5rem",fontWeight:100,marginBottom:3*e.spacing.unit},itemPadding:{marginBottom:3*e.spacing.unit},arrowForwardIcon:{fontSize:50,color:"#ccc",position:"absolute",top:90,right:-43},arrowBackIcon:{fontSize:50,color:"#ccc",position:"absolute",top:50,right:-71}}});function as(e){return{id:e.id,name:e.name,description:e.description,accessControl:e.accessControl,authorizationHeader:e.authorizationHeader,responseCachingEnabled:e.responseCachingEnabled,cacheTimeout:e.cacheTimeout,visibility:e.visibility,isDefaultVersion:e.isDefaultVersion,enableSchemaValidation:e.enableSchemaValidation,accessControlRoles:es(e.accessControlRoles),visibleRoles:es(e.visibleRoles),tags:es(e.tags),transport:es(e.transport),securityScheme:es(e.securityScheme),corsConfiguration:{corsConfigurationEnabled:e.corsConfiguration.corsConfigurationEnabled,accessControlAllowCredentials:e.corsConfiguration.accessControlAllowCredentials,accessControlAllowOrigins:es(e.corsConfiguration.accessControlAllowOrigins),accessControlAllowHeaders:es(e.corsConfiguration.accessControlAllowHeaders),accessControlAllowMethods:es(e.corsConfiguration.accessControlAllowMethods)}}}function ns(){var e=Object(n.useContext)(to),t=e.api,a=e.updateAPI,r=$l(Object(n.useState)(!1),2),o=r[0],l=r[1],s=$l(Object(n.useReducer)(function(e,t){var a=t.action,n=t.value,i=t.event,r=Zl({},as(e));switch(a){case"description":case"isDefaultVersion":case"authorizationHeader":case"responseCachingEnabled":case"cacheTimeout":case"enableSchemaValidation":case"accessControl":case"visibility":case"tags":return r[a]=n,r;case"accessControlRoles":case"visibleRoles":return Zl({},as(e),Xl({},a,n));case"securityScheme":if([Jl,Kl].includes(i.name))return"optional"===i.value?Zl({},as(e),Xl({},a,e[a].filter(function(e){return e!==i.name}))):e[a].includes(i.name)?e:Zl({},as(e),Xl({},a,[].concat(es(e[a]),[i.name])));if(i.checked)return e[a].includes(i.value)?e:Zl({},as(e),Xl({},a,[].concat(es(e[a]),[i.value])));if(e[a].includes(i.value)){var o=Zl({},as(e),Xl({},a,e[a].filter(function(e){return e!==i.value})));if(!o[a].includes(Vl)&&!o[a].includes(Gl)){var l=o[a].filter(function(e){return e!==Kl});return Zl({},o,Xl({},a,l))}if(!o[a].includes(Hl)){var s=o[a].filter(function(e){return e!==Jl});return Zl({},o,Xl({},a,s))}return o}return e;case"transport":return i.checked?Zl({},as(e),{transport:[].concat(es(e.transport),[i.value])}):Zl({},as(e),{transport:e.transport.filter(function(e){return e!==i.value})});case"accessControlAllowHeaders":case"accessControlAllowMethods":case"accessControlAllowCredentials":case"corsConfigurationEnabled":return r.corsConfiguration[a]=n,r;case"accessControlAllowOrigins":return i.checked?r.corsConfiguration[a]=[i.value]:r.corsConfiguration[a]=!1===i.checked?[]:i.value,r;default:return e}},as(t)),2),c=s[0],u=s[1],p=ts(),m=window.innerHeight-200;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:p.titleWrapper},i.a.createElement(h.a,{variant:"h4",align:"left",className:p.mainTitle},i.a.createElement(d.a,{id:"Apis.Details.Configuration.Configuration.topic.header",defaultMessage:"Configuration"}))),i.a.createElement("div",{className:p.contentWrapper},i.a.createElement(ce.a,{container:!0,direction:"row",justify:"space-around",alignItems:"flex-start",spacing:8},i.a.createElement(ce.a,{item:!0,xs:4},i.a.createElement(me.a,{className:p.paper,style:{minHeight:m}},i.a.createElement(h.a,{className:p.heading,variant:"h6"},i.a.createElement(d.a,{id:"Apis.Details.Configuration.Configuration.section.design",defaultMessage:"Design"})),i.a.createElement(ce.a,{container:!0,direction:"row",justify:"space-around",alignItems:"flex-start",spacing:1,style:{marginBottom:20}},i.a.createElement(ce.a,{item:!0,xs:12,md:4},i.a.createElement(xn,{api:t,width:100,height:100,isEditable:!0})),i.a.createElement(ce.a,{item:!0,xs:12,md:8},i.a.createElement(cl,{api:c,configDispatcher:u}))),i.a.createElement("div",{className:p.itemPadding},i.a.createElement(vl,{api:c,configDispatcher:u})),i.a.createElement("div",{className:p.itemPadding},i.a.createElement(Cl,{api:c,configDispatcher:u})),i.a.createElement("div",{className:p.itemPadding},i.a.createElement(Ol,{api:c,configDispatcher:u})),i.a.createElement("div",{className:p.itemPadding},i.a.createElement(ce.a,{container:!0,direction:"row"},i.a.createElement(ce.a,{item:!0,xs:12,md:6},i.a.createElement(nl,{api:c,configDispatcher:u})),i.a.createElement(ce.a,{item:!0,xs:12,md:6},i.a.createElement(_l,{api:c,configDispatcher:u})))),i.a.createElement("div",{className:p.itemPadding},i.a.createElement(sl,{api:c,configDispatcher:u})))),i.a.createElement(ce.a,{item:!0,xs:4},i.a.createElement(ce.a,{direction:" column",justify:"space-between",alignItems:"flex-start",spacing:6,style:{minHeight:m}},i.a.createElement(ce.a,{item:!0,xs:12,style:{marginBottom:30,position:"relative"}},i.a.createElement(me.a,{className:p.paper},i.a.createElement(h.a,{className:p.heading,variant:"h6"},i.a.createElement(d.a,{id:"Apis.Details.Configuration.Configuration.section.mediate",defaultMessage:"Mediate"})),i.a.createElement(Sl,{api:c,configDispatcher:u}),i.a.createElement(al,{api:c,configDispatcher:u})),i.a.createElement(Xo.a,{className:p.arrowForwardIcon})),i.a.createElement(ce.a,{item:!0,xs:12,style:{position:"relative"}},i.a.createElement(me.a,{className:p.paper},i.a.createElement(h.a,{className:p.heading,variant:"h6"},i.a.createElement(d.a,{id:"Apis.Details.Configuration.Configuration.section.response",defaultMessage:"Response"})),i.a.createElement(rl,{api:c,configDispatcher:u})),i.a.createElement(tl.a,{className:p.arrowBackIcon})))),i.a.createElement(ce.a,{item:!0,xs:4},i.a.createElement(me.a,{className:p.paper,style:{minHeight:m}},i.a.createElement(h.a,{className:p.heading,variant:"h6"},i.a.createElement(d.a,{id:"Apis.Details.Configuration.Configuration.section.backend",defaultMessage:"Backend"})),i.a.createElement(Yl,{api:c,configDispatcher:u})))),i.a.createElement(ce.a,{container:!0},i.a.createElement(ce.a,{container:!0,direction:"row",alignItems:"center",spacing:4,style:{marginTop:20}},i.a.createElement(ce.a,{item:!0},i.a.createElement(ue.a,{disabled:o,type:"submit",variant:"contained",color:"primary",onClick:function(){l(!0),a(c).catch(function(e){e.response&&se.error(e.response.body.description)}).finally(function(){return l(!1)})}},i.a.createElement(d.a,{id:"Apis.Details.Configuration.Configuration.save",defaultMessage:"Save"}),o&&i.a.createElement(de.a,{size:15}))),i.a.createElement(ce.a,{item:!0},i.a.createElement(pe.b,{to:"/apis/"+t.id+"/overview"},i.a.createElement(ue.a,null,i.a.createElement(d.a,{id:"Apis.Details.Configuration.Configuration.cancel",defaultMessage:"Cancel"})))),Object(Ka.b)(["apim:api_create"],t)&&i.a.createElement(ce.a,{item:!0},i.a.createElement(h.a,{variant:"body2",color:"primary"},i.a.createElement(d.a,{id:"Apis.Details.Configuration.Configuration.update.not.allowed",defaultMessage:"* You are not authorized to update particular fields of the API due to insufficient permissions"})))))))}var is=function(e){var t=e.checkingPermissionType,a=e.userPermissions;return a&&a.includes(t)?i.a.createElement(i.a.Fragment,null,e.children):null};is.propTypes={checkingPermissionType:o.a.string,userPermissions:o.a.arrayOf(o.a.string).isRequired,children:o.a.node.isRequired},is.defaultProps={checkingPermissionType:(is.permissionType={READ:"READ",UPDATE:"UPDATE",DELETE:"DELETE",MANAGE_SUBSCRIPTION:"MANAGE_SUBSCRIPTION"}).UPDATE};function rs(e){return(rs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function os(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ls(e,t){return!t||"object"!==rs(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ss(e){return(ss=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cs(e,t){return(cs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var us=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ls(this,ss(t).apply(this,arguments))}var a,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cs(e,t)}(t,i.a.Component),a=t,(n=[{key:"highLightMe",value:function(e){if(!e.startsWith(this.props.lifeCycleStatus.toLowerCase()))return{opacity:.2}}},{key:"render",value:function(){var e=this.props.classes;return i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"633",height:"244",viewBox:"0 0 743.09858 287.34519",id:"svg5953",className:e.root},i.a.createElement("defs",{id:"defs5955"},i.a.createElement("path",{transform:"scale(.26458)",id:"path5588",d:"m 1738.3694,290.45336 a 290.37688,290.37688 0 0 1 268.3994,-179.55952 290.37688,290.37688 0 0 1 5.8758,0.0595",style:{isolation:"auto",mixBlendMode:"normal"},color:"#000",overflow:"visible",fill:"none",strokeWidth:"6.633",strokeLinejoin:"round"}),i.a.createElement("path",{transform:"scale(.26458)",id:"path5578",d:"m 2103.6746,127.54094 a 290.37688,290.37688 0 0 1 193.3409,265.03704",style:{isolation:"auto",mixBlendMode:"normal"},color:"#000",overflow:"visible",fill:"none",strokeWidth:"6.633",strokeLinejoin:"round"}),i.a.createElement("path",{transform:"scale(.26458)",id:"path5547",d:"m 1748.9295,534.82816 a 290.37688,290.37688 0 0 0 257.8393,156.81941 290.37688,290.37688 0 0 0 5.8709,-0.0593",style:{isolation:"auto",mixBlendMode:"normal"},color:"#000",overflow:"visible",fill:"none",strokeWidth:"6.633",strokeLinejoin:"round"}),i.a.createElement("path",{transform:"scale(.26458)",id:"path4189",d:"m 1748.9295,534.82816 a 290.37688,290.37688 0 0 0 257.8393,156.81941 290.37688,290.37688 0 0 0 5.8709,-0.0593",style:{isolation:"auto",mixBlendMode:"normal"},color:"#000",overflow:"visible",fill:"none",strokeWidth:"6.633",strokeLinejoin:"round"})),i.a.createElement("g",{id:"layer1",transform:"translate(51.512 4.77)"},i.a.createElement("path",{d:"m 99,13.3622 24,0 0,24 -24,0 z",id:"path6746",fill:"none"}),i.a.createElement("g",{id:"prototyped",style:this.highLightMe("prototyped")},i.a.createElement("text",{id:"text6729",y:"6.362",x:"61",style:{lineHeight:"125%"},fontWeight:"400",fontSize:"15",fontFamily:"sans-serif",letterSpacing:"0",wordSpacing:"0",fill:"#2b2b2b"},i.a.createElement("tspan",{y:"6.362",x:"61",id:"tspan6731"},"PROTOTYPED")),i.a.createElement("path",{id:"path6748",d:"m 118,16.3622 -4.18,0 c -0.42,-1.16 -1.52,-2 -2.82,-2 -1.3,0 -2.4,0.84 -2.82,2 l -4.18,0 c -1.1,0 -2,0.9 -2,2 l 0,14 c 0,1.1 0.9,2 2,2 l 14,0 c 1.1,0 2,-0.9 2,-2 l 0,-14 c 0,-1.1 -0.9,-2 -2,-2 z m -7,0 c 0.55,0 1,0.45 1,1 0,0.55 -0.45,1 -1,1 -0.55,0 -1,-0.45 -1,-1 0,-0.55 0.45,-1 1,-1 z m -2,14 -4,-4 1.41,-1.41 2.59,2.58 6.59,-6.59 1.41,1.42 -8,8 z"})),i.a.createElement("path",{d:"m 224.5,133.8622 24,0 0,24 -24,0 z",id:"path6762",fill:"none"}),i.a.createElement("g",{id:"published",style:this.highLightMe("published")},i.a.createElement("text",{id:"text6524",y:"125.476",x:"207",style:{lineHeight:"125%"},fontWeight:"400",fontSize:"15",fontFamily:"sans-serif",letterSpacing:"0",wordSpacing:"0"},i.a.createElement("tspan",{y:"125.476",x:"207",id:"tspan6526"},"PUBLISHED")),i.a.createElement("path",{id:"path6764",d:"m 240.5,144.8622 c 1.66,0 2.99,-1.34 2.99,-3 0,-1.66 -1.33,-3 -2.99,-3 -1.66,0 -3,1.34 -3,3 0,1.66 1.34,3 3,3 z m -8,0 c 1.66,0 2.99,-1.34 2.99,-3 0,-1.66 -1.33,-3 -2.99,-3 -1.66,0 -3,1.34 -3,3 0,1.66 1.34,3 3,3 z m 0,2 c -2.33,0 -7,1.17 -7,3.5 l 0,2.5 14,0 0,-2.5 c 0,-2.33 -4.67,-3.5 -7,-3.5 z m 8,0 c -0.29,0 -0.62,0.02 -0.97,0.05 1.16,0.84 1.97,1.97 1.97,3.45 l 0,2.5 6,0 0,-2.5 c 0,-2.33 -4.67,-3.5 -7,-3.5 z"})),i.a.createElement("g",{id:"created",style:this.highLightMe("created")},i.a.createElement("text",{id:"text6520",y:"282.362",x:"68",style:{lineHeight:"125%"},fontWeight:"400",fontSize:"15",fontFamily:"sans-serif",letterSpacing:"0",wordSpacing:"0"},i.a.createElement("tspan",{y:"282.362",x:"68",id:"tspan6522"},"CREATED")),i.a.createElement("path",{id:"path6778",d:"m 97,238.8622 c -1.1,0 -1.99,0.9 -1.99,2 l -0.01,16 c 0,1.1 0.89,2 1.99,2 l 12.01,0 c 1.1,0 2,-0.9 2,-2 l 0,-12 -6,-6 -8,0 z m 7,7 0,-5.5 5.5,5.5 -5.5,0 z"})),i.a.createElement("path",{d:"m 91,236.8622 24,0 0,24 -24,0 z",id:"path6780",fill:"none"}),i.a.createElement("g",{id:"deprecated",style:this.highLightMe("deprecated")},i.a.createElement("text",{id:"text6536",y:"125.476",x:"397.858",style:{lineHeight:"125%"},fontWeight:"400",fontSize:"15",fontFamily:"sans-serif",letterSpacing:"0",wordSpacing:"0"},i.a.createElement("tspan",{y:"125.476",x:"397.858",id:"tspan6538"},"DEPRECATED")),i.a.createElement("path",{id:"path6794",d:"m 433.52944,97.811947 c 0,1.1 0.9,2 2,2 l 8,0 c 1.1,0 2,-0.9 2,-2 l 0,-12 -12,0 0,12 z m 13,-15 -3.5,0 -1,-1 -5,0 -1,1 -3.5,0 0,2 14,0 0,-2 z"}),i.a.createElement("path",{id:"path6796",d:"m 427.52944,78.811947 24,0 0,24.000003 -24,0 z",fill:"none"})),i.a.createElement("path",{d:"m 427.52944,236.8622 24,0 0,24 -24,0 z",id:"path6810",clipRule:"evenodd",fill:"none"}),i.a.createElement("g",{id:"maintenance",style:this.highLightMe("maintenance")},i.a.createElement("text",{id:"text6532",y:"282.362",x:"386.858",style:{lineHeight:"125%"},fontWeight:"400",fontSize:"15",fontFamily:"sans-serif",letterSpacing:"0",wordSpacing:"0"},i.a.createElement("tspan",{y:"282.362",x:"386.858",id:"tspan6534"},"MAINTENANCE")),i.a.createElement("path",{id:"path6812",d:"m 450.22944,255.8622 -9.1,-9.1 c 0.9,-2.3 0.4,-5 -1.5,-6.9 -2,-2 -5,-2.4 -7.4,-1.3 l 4.3,4.3 -3,3 -4.4,-4.3 c -1.2,2.4 -0.7,5.4 1.3,7.4 1.9,1.9 4.6,2.4 6.9,1.5 l 9.1,9.1 c 0.4,0.4 1,0.4 1.4,0 l 2.3,-2.3 c 0.5,-0.4 0.5,-1.1 0.1,-1.4 z"})),i.a.createElement("g",{id:"retired",style:this.highLightMe("retired")},i.a.createElement("text",{id:"text6540",y:"125.483",x:"627.485",style:{lineHeight:"125%"},fontWeight:"400",fontSize:"15",fontFamily:"sans-serif",letterSpacing:"0",wordSpacing:"0"},i.a.createElement("tspan",{y:"125.483",x:"627.485",id:"tspan6542"},"RETIRED")),i.a.createElement("path",{id:"path6826",d:"m 663.36667,89.811947 0,2 -13,0 0,-6 9,0 c 2.21,0 4,1.79 4,4 z m -20,3 0,2 6,0 0,2 8,0 0,-2 6,0 0,-2 -20,0 z m 5.14,-1.9 c 1.16,-1.19 1.14,-3.08 -0.04,-4.24 -1.19,-1.16 -3.08,-1.14 -4.24,0.04 -1.16,1.19 -1.14,3.08 0.04,4.24 1.19,1.16 3.08,1.14 4.24,-0.04 z"}),i.a.createElement("path",{id:"path6828",d:"m 641.36667,78.811947 24,0 0,24.000003 -24,0 z",fill:"none"})),i.a.createElement("g",{id:"published_to_created",style:this.highLightMe("published_to_created")},i.a.createElement("path",{id:"path6872",d:"m 235.84375,184.86133 c -11.86654,31.99459 -35.12697,58.48216 -65.32031,74.38281 l -5.4624,15.71344 14.85695,3.63617 c 35.16928,-17.95415 62.42125,-48.3249 76.47461,-85.22656 l -15.28708,7.18109 z",style:{isolation:"auto",mixBlendMode:"normal"},color:"#000",overflow:"visible",fill:"#065381"}),i.a.createElement("path",{id:"path6985",d:"m 178.61585,255.22337 -4.875,15.375 14.5,3.625",fill:"none",fillRule:"evenodd",stroke:"#fff"}),i.a.createElement("path",{d:"m 187.11585,249.22337 -4.875,15.375 14.5,3.625",id:"path6987",fill:"none",fillRule:"evenodd",stroke:"#fff"})),i.a.createElement("g",{id:"created_to_published",style:this.highLightMe("created_to_published")},i.a.createElement("path",{id:"path6850",d:"m 202.80469,171.18359 c -8.60566,23.79669 -25.78994,43.52064 -48.1836,55.30469 l 15.33148,4.4495 -5.74163,15.30245 c 27.19915,-14.16065 48.15744,-37.93366 58.79687,-66.69335 l -4.08764,-14.98782 z",style:{isolation:"auto",mixBlendMode:"normal"},color:"#000",overflow:"visible",fill:"#34b2e4"}),i.a.createElement("path",{d:"m 200.07828,178.47337 15.66836,-6.25318 3.78013,13.89858",id:"path6979",fill:"none",fillRule:"evenodd",stroke:"#fff"}),i.a.createElement("path",{id:"path6991",d:"m 195.3937,187.48898 15.66836,-6.25318 3.78013,13.89858",fill:"none",fillRule:"evenodd",stroke:"#fff"})),i.a.createElement("g",{id:"prototyped_to_published",style:this.highLightMe("prototyped_to_published")},i.a.createElement("path",{id:"path6874",d:"m 181.42383,-4.0683594 5.18392,15.3553234 -15.14681,3.480614 c 26.97521,14.497097 48.38501,37.525806 60.88086,65.484375 l 16.41911,5.795641 4.09261,-14.231188 C 238.22018,39.231643 213.06477,12.507292 181.42383,-4.0683594 Z",style:{isolation:"auto",mixBlendMode:"normal"},color:"#000",overflow:"visible",fill:"#fe912a"}),i.a.createElement("path",{id:"path6993",d:"m 228.26421,71.982698 16.39604,5.833631 3.93328,-14.097941",fill:"none",fillRule:"evenodd",stroke:"#fff"}),i.a.createElement("path",{d:"m 224.76421,65.357698 16.39604,5.833631 3.93328,-14.097941",id:"path6995",fill:"none",fillRule:"evenodd",stroke:"#fff"})),i.a.createElement("g",{id:"published_to_prototyped",style:this.highLightMe("published_to_prototyped")},i.a.createElement("path",{id:"path6855",d:"m 164.61328,27.712891 -16.76273,3.798407 6.57718,15.455499 c 19.64736,10.327117 35.3679,26.809879 44.75391,46.923828 l 6.94786,-12.105746 13.33339,3.763949 C 208.07457,60.73778 188.78631,40.399355 164.61328,27.712891 Z",style:{isolation:"auto",mixBlendMode:"normal"},color:"#000",overflow:"visible",fill:"#ffc95c"}),i.a.createElement("path",{id:"path6997",d:"m 163.43006,52.336437 -6.45235,-15.202795 16.61701,-3.535534",fill:"none",fillRule:"evenodd",stroke:"#fff"}),i.a.createElement("path",{d:"M 171.82695,57.993291 165.3746,42.790496 181.99161,39.254962",id:"path6999",fill:"none",fillRule:"evenodd",stroke:"#fff"})),i.a.createElement("g",{id:"created_to_prototyped",style:this.highLightMe("created_to_prototyped")},i.a.createElement("path",{id:"path6870",d:"M 35.433594,-4.7226562 C -17.800688,22.43674 -51.366944,77.095386 -51.511719,136.85742 c 0.08726,60.42038 34.333636,115.59607 88.439453,142.48828 l -5.963174,-14.43529 14.818643,-3.6858 C -1.8626488,238.10436 -32.152993,189.83798 -32.251953,136.87891 -32.191581,84.271252 -2.3316563,36.239603 44.818359,12.90625 l 7.576833,-14.3582512 z",style:{isolation:"auto",mixBlendMode:"normal"},color:"#000",overflow:"visible",fill:"#8b103e"}),i.a.createElement("path",{id:"path7001",d:"m 25.625,1.1122031 16.25,3 -7.125,13.7499999",fill:"none",fillRule:"evenodd",stroke:"#fff"}),i.a.createElement("path",{d:"m 16.375,7.1122031 16.25,2.9999999 -7.125,13.75",id:"path7003",fill:"none",fillRule:"evenodd",stroke:"#fff"})),i.a.createElement("g",{id:"prototyped_to_created",style:this.highLightMe("prototyped_to_created")},i.a.createElement("path",{id:"path6840",d:"M 52.171875,26.720703 C 10.473112,47.61586 -15.897048,90.22032 -16,136.86133 c 0.06835,46.84095 26.630186,89.61173 68.585938,110.43945 l 18.169686,-5.17409 -8.489999,-14.63841 C 27.868397,210.36444 6.0894455,175.28511 6,136.86133 6.0597413,98.328986 27.932967,63.153267 62.464844,46.056641 l -14.466177,-4.2932 z",style:{isolation:"auto",mixBlendMode:"normal"},color:"#000",overflow:"visible",fill:"#e34856"}),i.a.createElement("path",{id:"path7005",d:"m 39.421204,240.07329 17.677669,-4.94975 -7.778174,-14.49569",fill:"none",fillRule:"evenodd",stroke:"#fff"}),i.a.createElement("path",{d:"m 27.930719,230.8809 17.677669,-4.94975 -7.778174,-14.49569",id:"path7007",fill:"none",fillRule:"evenodd",stroke:"#fff"})),i.a.createElement("g",{id:"deprecated_to_retired",style:this.highLightMe("deprecated_to_retired")},i.a.createElement("path",{id:"rect7009",d:"m 530.25049,110.51652 68.24164,0 9.89949,9.52539 -9.89949,9.40863 -68.24164,0 9.54594,-9.76218 z",style:{isolation:"auto",mixBlendMode:"normal"},color:"#000",overflow:"visible",fill:"#5c5c5c",strokeWidth:"6.016",strokeLinecap:"round",strokeLinejoin:"round"}),i.a.createElement("path",{id:"path7016",d:"m 589.97554,111.03345 9.31051,8.95242 -9.42988,8.89273",fill:"none",fillRule:"evenodd",stroke:"#fff",strokeWidth:".955"}),i.a.createElement("path",{d:"m 581.28804,111.03345 9.31051,8.95242 -9.42988,8.89273",id:"path7018",fill:"none",fillRule:"evenodd",stroke:"#fff",strokeWidth:".955"})),i.a.createElement("g",{id:"published_to_deprecated",style:this.highLightMe("published_to_deprecated")},i.a.createElement("path",{style:{isolation:"auto",mixBlendMode:"normal"},d:"m 306.25049,110.51652 68.24164,0 9.89949,9.52539 -9.89949,9.40863 -68.24164,0 9.54594,-9.76218 z",id:"path7020",color:"#000",overflow:"visible",fill:"#5c5c5c",strokeWidth:"6.016",strokeLinecap:"round",strokeLinejoin:"round"}),i.a.createElement("path",{d:"m 365.97554,111.03345 9.31051,8.95242 -9.42988,8.89273",id:"path7022",fill:"none",fillRule:"evenodd",stroke:"#fff",strokeWidth:".955"}),i.a.createElement("path",{id:"path7024",d:"m 357.28804,111.03345 9.31051,8.95242 -9.42988,8.89273",fill:"none",fillRule:"evenodd",stroke:"#fff",strokeWidth:".955"})),i.a.createElement("g",{id:"published_to_maintenance",style:this.highLightMe("published_to_maintenance")},i.a.createElement("path",{style:{isolation:"auto",mixBlendMode:"normal"},d:"m 306.92162,149.0749 92.7941,75.49823 1.41692,13.66474 -13.63383,0.80053 -92.79411,-75.49822 13.59185,-1.29876 z",id:"path7026",color:"#000",overflow:"visible",fill:"#65daad",strokeWidth:"6.016",strokeLinecap:"round",strokeLinejoin:"round"}),i.a.createElement("path",{d:"m 392.87565,219.47284 1.33665,12.84698 -12.94218,0.70939",id:"path7028",fill:"none",fillRule:"evenodd",stroke:"#fff",strokeWidth:".955"}),i.a.createElement("path",{id:"path7030",d:"m 386.23855,213.86735 1.33664,12.84698 -12.94218,0.70939",fill:"none",fillRule:"evenodd",stroke:"#fff",strokeWidth:".955"})),i.a.createElement("g",{id:"maintenance_to_published",transform:"rotate(180 338.919 207.057)",style:this.highLightMe("maintenance_to_published")},i.a.createElement("path",{id:"path7039",d:"m 306.92162,149.0749 92.7941,75.49823 1.41692,13.66474 -13.63383,0.80053 -92.79411,-75.49822 13.59185,-1.29876 z",style:{isolation:"auto",mixBlendMode:"normal"},color:"#000",overflow:"visible",fill:"#64d0da",strokeWidth:"6.016",strokeLinecap:"round",strokeLinejoin:"round"}),i.a.createElement("path",{id:"path7041",d:"m 392.87565,219.47284 1.33665,12.84698 -12.94218,0.70939",fill:"none",fillRule:"evenodd",stroke:"#fff",strokeWidth:".955"}),i.a.createElement("path",{d:"m 386.23855,213.86735 1.33664,12.84698 -12.94218,0.70939",id:"path7043",fill:"none",fillRule:"evenodd",stroke:"#fff",strokeWidth:".955"})),i.a.createElement("g",{id:"maintenance_to_deprecated",style:this.highLightMe("maintenance_to_deprecated")},i.a.createElement("path",{style:{isolation:"auto",mixBlendMode:"normal"},d:"m 427.85405,225.05409 0,-68.24164 9.52539,-9.89949 9.40863,9.89949 0,68.24164 -9.76218,-9.54594 z",id:"path7045",color:"#000",overflow:"visible",fill:"#5c5c5c",strokeWidth:"6.016",strokeLinecap:"round",strokeLinejoin:"round"}),i.a.createElement("path",{d:"m 428.37098,165.32904 8.95242,-9.31051 8.89273,9.42988",id:"path7047",fill:"none",fillRule:"evenodd",stroke:"#fff",strokeWidth:".955"}),i.a.createElement("path",{id:"path7049",d:"m 428.37098,174.01654 8.95242,-9.31051 8.89273,9.42988",fill:"none",fillRule:"evenodd",stroke:"#fff",strokeWidth:".955"}))))}}])&&os(a.prototype,n),r&&os(a,r),t}();us.propTypes={classes:o.a.shape({}).isRequired};var ps=Object(b.a)(function(e){return{root:{marginTop:30}}})(us);function ds(e){return(ds="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ms(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function fs(e){return(fs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gs(e,t){return(gs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ys=function(e){function t(e){var a,n,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(a=!(i=fs(t).call(this,e))||"object"!==ds(i)&&"function"!=typeof i?hs(n):i).updateLifeCycleState=a.updateLifeCycleState.bind(hs(a)),a.api=new _,a.state={newState:null},a}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gs(e,t)}(t,n["Component"]),a=t,(r=[{key:"updateLCStateOfAPI",value:function(e,t){var a=this,n=this.props.checkList.map(function(e){return e.value+":"+e.checked});(n.length>0?this.api.updateLcState(e,t,n):this.api.updateLcState(e,t)).then(function(e){a.props.handleUpdate(!0);var t=e.body.lifecycleState.state;a.context.updateAPI(),a.setState({newState:t});var n=a.props.intl;se.info(n.formatMessage({id:"Apis.Details.LifeCycle.LifeCycleUpdate.success",defaultMessage:"Lifecycle state updated successfully"}))}).catch(function(e){console.log(e),se.error(JSON.stringify(e.message))})}},{key:"updateLifeCycleState",value:function(e){e.preventDefault();var t=e.currentTarget.getAttribute("data-value"),a=this.props.api.id;this.props.privateJetModeEnabled;this.updateLCStateOfAPI(a,t)}},{key:"render",value:function(){var e=this,t=this.props,a=t.api,n=t.lcState,r=t.classes,o=t.theme,l=t.handleChangeCheckList,s=t.checkList,c=this.state.newState,u=a.workflowStatus&&"pending"===a.workflowStatus.toLowerCase(),p=new Map;return p.set("Published","Publish"),p.set("Prototyped","Deploy as a prototype"),p.set("Deprecated","Deprecate"),p.set("Blocked","Block"),p.set("Created","Create"),p.set("Retired","Retire"),i.a.createElement(ce.a,{container:!0},u?i.a.createElement(ce.a,{item:!0,xs:12},i.a.createElement(h.a,{variant:"h5"},i.a.createElement(d.a,{id:"Apis.Details.LifeCycle.LifeCycleUpdate.pending",defaultMessage:"Pending lifecycle state change."})),i.a.createElement(h.a,null,i.a.createElement(d.a,{id:"Apis.Details.LifeCycle.LifeCycleUpdate.adjective",defaultMessage:"adjective"}))):i.a.createElement(ce.a,{item:!0,xs:12},o.custom.lifeCycleImage?i.a.createElement("img",{src:o.custom.lifeCycleImage,alt:"Lifecycle image"}):i.a.createElement(ps,{lifeCycleStatus:c||a.lifeCycleStatus})),i.a.createElement(ce.a,{item:!0,xs:12},!u&&i.a.createElement(ol.a,{row:!0},s.map(function(e,t){return i.a.createElement(Et.a,{key:t,control:i.a.createElement(Ae.a,{checked:s[t].checked,onChange:l(t),value:s[t].value}),label:s[t].label})})),i.a.createElement(tn,{resourcePath:Xa.API_CHANGE_LC,resourceMethod:en.POST},i.a.createElement("div",{className:r.buttonsWrapper},u?i.a.createElement("div",{className:"btn-group",role:"group"},i.a.createElement("input",{type:"button",className:"btn btn-primary wf-cleanup-btn",defaultValue:"Delete pending lifecycle state change request"})):n.availableTransitions.map(function(t){return t.event!==p.get(n.state)&&i.a.createElement(ue.a,{variant:"outlined",className:r.stateButton,key:t.event,"data-value":t.event,onClick:e.updateLifeCycleState},t.event)})))))}}])&&ms(a.prototype,r),o&&ms(a,o),t}();ys.propTypes={classes:o.a.object.isRequired,theme:o.a.shape({}).isRequired,intl:o.a.shape({formatMessage:o.a.func}).isRequired},ys.contextType=io;var bs=Object(b.a)(function(e){return{buttonsWrapper:{marginTop:40},stateButton:{marginRight:e.spacing.unit}}},{withTheme:!0})(Object(d.d)(ys)),vs=a(1460),Es=a.n(vs),ws=a(928),Cs=a(932),Ps=function(e){var t=e.classes;return i.a.createElement(me.a,null,i.a.createElement(yo.a,{className:t.table},i.a.createElement(Cs.a,null,i.a.createElement(vo.a,null,i.a.createElement(bo.a,{className:t.firstCol},i.a.createElement(d.a,{id:"Apis.Details.LifeCycle.LifeCycleHistory.user",defaultMessage:"User"})),i.a.createElement(bo.a,null,i.a.createElement(d.a,{id:"Apis.Details.LifeCycle.LifeCycleHistory.action",defaultMessage:"Action"})),i.a.createElement(bo.a,null,i.a.createElement(d.a,{id:"Apis.Details.LifeCycle.LifeCycleHistory.time",defaultMessage:"Time"})))),i.a.createElement(ws.a,null,e.lcHistory.map(function(e){return e.previousState&&i.a.createElement(vo.a,{key:e.postState},i.a.createElement(bo.a,{component:"th",scope:"row"},i.a.createElement(Wi.a,{className:t.avatar},i.a.createElement(Es.a,{className:t.personIcon})),i.a.createElement("div",null,e.user)),i.a.createElement(bo.a,null,i.a.createElement(d.a,{id:"Apis.Details.LifeCycle.LifeCycleHistory.lifecycle.state.history",defaultMessage:"LC has changed from {previous} to {post}",values:{previous:e.previousState,post:e.postState}})),i.a.createElement(bo.a,null,jo()(e.updatedTime).fromNow()))}))))};Ps.propTypes={classes:o.a.object.isRequired};var Ss=Object(b.a)(function(e){return{firstCol:{width:100},personIcon:{fontSize:e.typography.fontSize},avatar:{width:25,height:25}}})(Ps);function As(e){return(As="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Os(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function xs(e){return(xs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Is(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ts(e,t){return(Ts=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ks=function(e){function t(e){var a,n,i,r,o,l;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,i=xs(t).call(this,e),a=!i||"object"!==As(i)&&"function"!=typeof i?Is(n):i,r=Is(a),l=function(e){return function(t,n){var i=a.state.checkList;i[e].checked=n,a.setState({checkList:i})}},(o="handleChangeCheckList")in r?Object.defineProperty(r,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):r[o]=l,a.api=new _,a.state={lcHistory:null,checkList:[]},a.updateData=a.updateData.bind(Is(a)),a.handleChangeCheckList=a.handleChangeCheckList.bind(Is(a)),a}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ts(e,t)}(t,n["Component"]),a=t,(r=[{key:"componentDidMount",value:function(){this.updateData()}},{key:"updateData",value:function(){var e=this,t=this.props.api,a=_.get(t.id),n=this.api.getLcState(t.id),i=this.api.getLcHistory(t.id);Promise.all([a,n,i]).then(function(t){var a=t[0],n=t[1].body,i=t[2].body.list,r=[],o=0,l=!0,s=!1,c=void 0;try{for(var u,p=n.checkItems[Symbol.iterator]();!(l=(u=p.next()).done);l=!0){var d=u.value;r.push({index:o,label:d.name,value:d.name,checked:!1}),o++}}catch(e){s=!0,c=e}finally{try{l||null==p.return||p.return()}finally{if(s)throw c}}e.setState({api:a,lcState:n,lcHistory:i,privateJetModeEnabled:!1,checkList:r})}).catch(function(t){404===t.status&&e.setState({notFound:!0})})}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.api,n=t.lcState,r=t.privateJetModeEnabled,o=t.checkList,l=t.lcHistory;return n?i.a.createElement("div",{className:e.root},i.a.createElement("div",{className:e.titleWrapper},i.a.createElement(h.a,{variant:"h4",align:"left",className:e.mainTitle},i.a.createElement(d.a,{id:"Apis.Details.LifeCycle.LifeCycle.lifecycle",defaultMessage:"Lifecycle"}))),i.a.createElement("div",{className:e.contentWrapper},i.a.createElement(ce.a,{container:!0},i.a.createElement(ce.a,{item:!0,xs:12},i.a.createElement(bs,{handleUpdate:this.updateData,lcState:n,checkList:o,handleChangeCheckList:this.handleChangeCheckList,api:a,privateJetModeEnabled:r})),i.a.createElement(ce.a,{item:!0,xs:12},l.length>1&&i.a.createElement("div",null,i.a.createElement(h.a,{variant:"h6",gutterBottom:!0,className:e.historyHead},i.a.createElement(d.a,{id:"Apis.Details.LifeCycle.LifeCycle.history",defaultMessage:"History"})),i.a.createElement(Ss,{lcHistory:l})))))):i.a.createElement(Kn.a,null)}}])&&Os(a.prototype,r),o&&Os(a,o),t}();ks.propTypes={classes:o.a.object.isRequired};var Ds=Object(b.a)(function(e){return{root:{flexGrow:1,marginTop:10,width:e.custom.contentAreaWidth},titleWrapper:{display:"flex",flexDirection:"row",alignItems:"center"},historyHead:{marginTop:2*e.spacing.unit,marginBottom:2*e.spacing.unit}}})(ks),_s=a(627),Ms=a.n(_s);function Rs(e){return(Rs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function js(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ns(e){return(Ns=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ls(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qs(e,t){return(qs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ws(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Fs=function(e){function t(e){var a,n,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,i=Ns(t).call(this,e),a=!i||"object"!==Rs(i)&&"function"!=typeof i?Ls(n):i,Ws(Ls(a),"changeType",function(e){var t=e.target.value;"PUBLIC_FORUM"!==t&&"SUPPORT_FORUM"!==t||a.setState({type:"URL"}),a.setState({type:t})}),Ws(Ls(a),"changeSource",function(e){var t=e.target.value;a.setState({sourceType:t})}),Ws(Ls(a),"setDisable",function(e){var t=a.state.type;if(!("INLINE"!==e&&"MARKDOWN"!==e&&"FILE"!==e||"PUBLIC_FORUM"!==t&&"SUPPORT_FORUM"!==t))return!0}),Ws(Ls(a),"handleChange",function(e){return function(t){var n=t.target.value;"name"===e?a.setState({name:n}):"summary"===e?a.setState({summary:n}):"sourceUrl"===e?a.setState({sourceUrl:n}):"otherTypeName"===e&&a.setState({otherTypeName:n})}}),Ws(Ls(a),"onDrop",function(e){a.setState({file:e})}),Ws(Ls(a),"addDocument",function(e){var t=a.props.apiType===_.CONSTS.APIProduct?new ze:new _,n=a.state,i=n.name,r=n.type,o=n.summary,l=n.sourceType,s=n.sourceUrl,c=n.file,u=n.otherTypeName;return{docPromise:t.addDocument(e,{name:i,type:r,summary:o,sourceType:l,visibility:"API_LEVEL",sourceUrl:s,otherTypeName:u,inlineContent:""}),file:c}}),Ws(Ls(a),"updateDocument",function(e){var t=new _,n=a.state,i=n.name,r=n.type,o=n.summary,l=n.sourceType,s=n.sourceUrl,c=n.file,u=n.otherTypeName,p=a.props.docId;return{docPromise:t.updateDocument(e,p,{name:i,type:r,summary:o,sourceType:l,visibility:"API_LEVEL",sourceUrl:s,otherTypeName:u,inlineContent:""}),file:c}}),a.state={type:"HOWTO",sourceType:"INLINE",name:"",summary:"",sourceUrl:"",file:null,disableName:!1,otherTypeName:null,nameValidity:!0,urlValidity:null},a}var a,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qs(e,t)}(t,i.a.Component),a=t,(n=[{key:"getDocument",value:function(){var e=this,t=this.props,a=t.apiId,n=t.docId,i=t.apiType===_.CONSTS.APIProduct?new ze:new _;n&&a&&i.getDocument(a,n).then(function(t){var a=t.body,n=a.name,i=a.type,r=a.summary,o=a.sourceType,l=a.sourceUrl,s=a.otherTypeName;e.setState({name:n,type:i,summary:r,sourceType:o,sourceUrl:l,otherTypeName:s})}).catch(function(t){404===t.status&&e.setState({apiNotFound:!0})})}},{key:"validate",value:function(e,t){var a=this;if("url"===e){var n=t?Ce.url.validate(t).error:null;this.setState({urlValidity:n})}else if("name"===e){if(t)Ce.apiDocument.validate({id:this.props.apiId,name:t}).then(function(){a.setState({nameValidity:!1})}).catch(function(e){404===e.status?a.setState({nameValidity:!0}):se.error("Error when validating document name")});else this.setState({nameValidity:!0})}}},{key:"componentDidMount",value:function(){this.getDocument();var e=this.props,t=e.apiId,a=e.docId;t&&a&&this.setState({disableName:!0})}},{key:"render",value:function(){var e,t,a=this,n=this.state,r=n.name,o=n.type,l=n.summary,s=n.sourceType,c=n.sourceUrl,u=n.file,p=n.disableName,m=n.otherTypeName,f=n.urlValidity,g=n.nameValidity,y=this.props.classes;return i.a.createElement("div",{className:y.addNewOther},i.a.createElement(wt.a,{margin:"normal",className:y.FormControlOdd},i.a.createElement(he.a,{fullWidth:!0,InputProps:{onBlur:function(e){var t=e.target.value;a.validate("name",t)}},label:i.a.createElement(d.a,{id:"Apis.Details.Documents.CreateEditForm.document.name",defaultMessage:"Name *"}),helperText:g?i.a.createElement(d.a,{id:"Apis.Details.Documents.CreateEditForm.document.name.helper.text",defaultMessage:"Provide the name for the document"}):i.a.createElement(d.a,{id:"Apis.Details.Documents.CreateEditForm.duplicate.document.name.helper.text",defaultMessage:"Duplicate document name"}),type:"text",variant:"outlined",name:"name",margin:"normal",value:r,onChange:this.handleChange("name"),InputLabelProps:{shrink:!0},autoFocus:!0,disabled:p,error:!g})),i.a.createElement(wt.a,{margin:"normal",className:y.FormControlOdd},i.a.createElement(he.a,(Ws(e={fullWidth:!0,multiline:!0,margin:"normal",variant:"outlined",label:i.a.createElement(d.a,{id:"Apis.Details.Documents.CreateEditForm.document.summary",defaultMessage:"Summary *"}),helperText:i.a.createElement(d.a,{id:"Apis.Details.Documents.CreateEditForm.document.summary.helper.text",defaultMessage:"Provide a brief description for the document"}),type:"text",name:"summary"},"margin","normal"),Ws(e,"value",l),Ws(e,"onChange",this.handleChange("summary")),Ws(e,"InputLabelProps",{shrink:!0}),e))),i.a.createElement(wt.a,{component:"fieldset",className:y.formControlFirst},i.a.createElement(Ct.a,{component:"legend"},i.a.createElement(d.a,{id:"Apis.Details.Documents.CreateEditForm.document.create.type",defaultMessage:"Type"})),i.a.createElement(vt.a,{"aria-label":"Type",name:"type",className:y.group,value:o,onChange:this.changeType},i.a.createElement(Et.a,{className:y.formControlLabel,value:"HOWTO",control:i.a.createElement(bt.a,null),label:i.a.createElement("div",{className:y.typeTextWrapper},i.a.createElement(va.a,null,"help_outline"),i.a.createElement("div",null,i.a.createElement(d.a,{id:"Apis.Details.Documents.CreateEditForm.document.create.type.how.to",defaultMessage:"How To"})))}),i.a.createElement(Et.a,{className:y.formControlLabel,value:"SAMPLES",control:i.a.createElement(bt.a,null),label:i.a.createElement("div",{className:y.typeTextWrapper},i.a.createElement(va.a,null,"code"),i.a.createElement("div",null,i.a.createElement(d.a,{id:"Apis.Details.Documents.CreateEditForm.document.create.type.sample",defaultMessage:"Sample & SDK"})))}),i.a.createElement(Et.a,{className:y.formControlLabel,value:"PUBLIC_FORUM",control:i.a.createElement(bt.a,null),label:i.a.createElement("div",{className:y.typeTextWrapper},i.a.createElement(va.a,null,"forum"),i.a.createElement("div",null,i.a.createElement(d.a,{id:"Apis.Details.Documents.CreateEditForm.document.create.type.public.forum",defaultMessage:"Public Forum"})))}),i.a.createElement(Et.a,{className:y.formControlLabel,value:"SUPPORT_FORUM",control:i.a.createElement(bt.a,null),label:i.a.createElement("div",{className:y.typeTextWrapper},i.a.createElement(va.a,null,"forum"),i.a.createElement("div",null,i.a.createElement(d.a,{id:"Apis.Details.Documents.CreateEditForm.document.create.type.support.forum",defaultMessage:"Support Forum"})))}),i.a.createElement(Et.a,{className:y.formControlLabel,value:"OTHER",control:i.a.createElement(bt.a,null),label:i.a.createElement("div",{className:y.typeTextWrapper},i.a.createElement(va.a,null,"video_label"),i.a.createElement("div",null,i.a.createElement(d.a,{id:"Apis.Details.Documents.CreateEditForm.document.create.type.other",defaultMessage:"Other"})))}))),"OTHER"===o&&i.a.createElement(wt.a,{margin:"normal",className:y.FormControlOdd},i.a.createElement(he.a,{fullWidth:!0,label:i.a.createElement(d.a,{id:"Apis.Details.Documents.CreateEditForm.document.create.type.other.document.category",defaultMessage:"Other Document Category *"}),helperText:i.a.createElement(d.a,{id:"Apis.Details.Documents.CreateEditForm.document.create.type.other.document.category.helper.text",defaultMessage:"Provide the document category"}),type:"text",name:"otherTypeName",margin:"normal",value:m,variant:"outlined",onChange:this.handleChange("otherTypeName"),InputLabelProps:{shrink:!0}})),i.a.createElement(wt.a,{component:"fieldset",className:y.formControl},i.a.createElement(Ct.a,{component:"legend"},i.a.createElement(d.a,{id:"Apis.Details.Documents.CreateEditForm.source",defaultMessage:"Source"})),i.a.createElement(vt.a,{"aria-label":"Source",name:"sourceType",className:y.group,value:s,onChange:this.changeSource},i.a.createElement(Et.a,{disabled:this.setDisable("INLINE"),value:"INLINE",control:i.a.createElement(bt.a,null),label:i.a.createElement(d.a,{id:"Apis.Details.Documents.CreateEditForm.source.inline",defaultMessage:"Inline"})}),i.a.createElement(Et.a,{disabled:this.setDisable("MARKDOWN"),value:"MARKDOWN",control:i.a.createElement(bt.a,null),label:i.a.createElement(d.a,{id:"Apis.Details.Documents.CreateEditForm.source.markdown",defaultMessage:"Markdown"})}),i.a.createElement(Et.a,{disabled:this.setDisable("URL"),value:"URL",control:i.a.createElement(bt.a,null),label:i.a.createElement(d.a,{id:"Apis.Details.Documents.CreateEditForm.source.url",defaultMessage:"URL"})}),i.a.createElement(Et.a,{disabled:this.setDisable("FILE"),value:"FILE",control:i.a.createElement(bt.a,null),label:i.a.createElement(d.a,{id:"Apis.Details.Documents.CreateEditForm.source.file",defaultMessage:"File"})}))),"URL"===s&&i.a.createElement(wt.a,{margin:"normal",className:y.FormControlOdd},i.a.createElement(he.a,(Ws(t={fullWidth:!0,InputProps:{onBlur:function(e){var t=e.target.value;a.validate("url",t)}},margin:"normal",label:i.a.createElement(d.a,{id:"Apis.Details.Documents.CreateEditForm.source.url.url",defaultMessage:"URL"}),helperText:f?i.a.createElement(d.a,{id:"Apis.Details.Documents.CreateEditForm.source.url.helper.text.error",defaultMessage:"Enter a valid URL to the source"}):i.a.createElement(d.a,{id:"Apis.Details.Documents.CreateEditForm.source.url.helper.text",defaultMessage:"Provide the URL to the source"}),type:"text",name:"sourceUrl"},"margin","normal"),Ws(t,"value",c),Ws(t,"onChange",this.handleChange("sourceUrl")),Ws(t,"InputLabelProps",{shrink:!0}),Ws(t,"error",f),t))),"FILE"===s&&i.a.createElement(St.a,{multiple:!1,accept:"application/msword, application/vnd.openxmlformats-officedocument.wordprocessingml.document, application/pdf",className:y.dropzone,activeClassName:y.acceptDrop,rejectClassName:y.rejectDrop,onDrop:function(e){a.onDrop(e)}},function(e){var t=e.getRootProps,a=e.getInputProps;return i.a.createElement("div",t(),i.a.createElement("input",a()),i.a.createElement("div",{className:y.dropZoneWrapper},i.a.createElement(va.a,{className:y.dropIcon,style:{fontSize:56}},"cloud_upload"),u&&u.length>0&&i.a.createElement("div",{className:y.uploadedFile},i.a.createElement(va.a,null,"file")," ",u[0].name)))}),("INLINE"===s||"MARKDOWN"===s)&&i.a.createElement(si,{type:"info",height:60},i.a.createElement("div",{className:y.contentWrapper},i.a.createElement(h.a,{component:"p",className:y.content},i.a.createElement(d.a,{id:"Apis.Details.Documents.CreateEditForm.document.content.info",defaultMessage:"Please save the document. The content can be edited in the next step."})))))}}])&&js(a.prototype,n),r&&js(a,r),t}();Fs.defaultProps={apiId:null,docId:null},Fs.propTypes={classes:o.a.shape({}).isRequired,intl:o.a.shape({}).isRequired,docId:o.a.shape({}),apiId:o.a.shape({}),apiType:o.a.oneOf([_.CONSTS.API,_.CONSTS.APIProduct]).isRequired};var Bs=Object(d.d)(Object(b.a)(function(e){return{button:{marginLeft:2*e.spacing.unit,textTransform:e.custom.leftMenuTextStyle,color:e.palette.getContrastText(e.palette.primary.main)},contentWrapper:{maxWidth:e.custom.contentAreaWidth},addNewOther:{padding:2*e.spacing.unit},radioGroup:{display:"flex",flexDirection:"row",width:300},expansionPanel:{marginBottom:e.spacing.unit},group:{display:"flex",flexDirection:"row"},formControlFirst:{display:"block"},formControl:{display:"block",marginTop:20},formControlLabel:{background:"#efefef",borderRadius:5,paddingRight:10,marginLeft:0,marginTop:10},typeTextWrapper:{display:"flex",flexDirection:"column",alignItems:"center"},FormControlOdd:{padding:0,backgroundColor:e.palette.background.paper,width:"100%",marginTop:0},acceptDrop:{backgroundColor:qa.a[50]},dropzone:{border:"1px dashed "+e.palette.primary.main,borderRadius:"5px",cursor:"pointer",height:75,padding:"".concat(2*e.spacing.unit,"px 0px"),position:"relative",textAlign:"center",width:"100%",margin:"10px 0"},dropZoneWrapper:{height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center","& span.material-icons":{color:e.palette.primary.main}},uploadedFile:{fontSize:11}}})(Fs));function zs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,i=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){i=!0,r=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw r}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Us(e){var t=e.doc,a=zs(i.a.useState(!0),2),r=a[0],o=a[1],l=Object(n.useContext)(io),s=l.api,c=l.isAPIProduct?"api-products":"apis",u="/".concat(c,"/").concat(s.id,"/documents"),p=null;return t&&t.body&&t.body.documentId&&(p="/".concat(c,"/").concat(s.id,"/documents/").concat(t.body.documentId,"/edit-content")),console.info("printing doc",t),i.a.createElement(Wa.a,{open:r,onClose:function(){o(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},i.a.createElement(Fa.a,{id:"alert-dialog-title"}," ",i.a.createElement(d.a,{id:"Apis.Details.Documents.GoToEdit.title",defaultMessage:"Document Created Successfully"})),i.a.createElement(Ba.a,null,i.a.createElement(za.a,{id:"alert-dialog-description"},i.a.createElement(d.a,{id:"Apis.Details.Documents.GoToEdit.description",defaultMessage:"You can add content to the document or go back to the document listing page."}))),i.a.createElement(Ua.a,null,i.a.createElement(pe.b,{to:{pathname:p,state:{doc:t.body}}},i.a.createElement(ue.a,{color:"primary"},i.a.createElement(d.a,{id:"Apis.Details.Documents.GoToEdit.add.content",defaultMessage:"Add Content"}))),i.a.createElement(pe.b,{to:u},i.a.createElement(ue.a,{color:"primary",autoFocus:!0},i.a.createElement(d.a,{id:"Apis.Details.Documents.GoToEdit.back.to.listing",defaultMessage:"Back to Listing"})))))}Us.propTypes={doc:o.a.shape({}).isRequired};var Vs=Us;function Gs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,i=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){i=!0,r=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw r}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Hs(e){var t=Object(n.useContext)(io),a=t.api,r=t.isAPIProduct,o=Gs(Object(n.useState)(null),2),l=o[0],s=o[1],c=e.classes,u=e.intl,p=e.apiType,m=e.history,f="/".concat(r?"api-products":"apis","/").concat(a.id,"/documents"),g=p===_.CONSTS.APIProduct?new ze:new _,y=Object(n.useRef)(null);return i.a.createElement(i.a.Fragment,null,i.a.createElement(ce.a,{container:!0,spacing:3},i.a.createElement(ce.a,{item:!0,sm:12,md:12}),i.a.createElement(ce.a,{item:!0,sm:0,md:0,lg:2}),i.a.createElement(ce.a,{item:!0,sm:12,md:12,lg:8},i.a.createElement(ce.a,{container:!0,spacing:5},i.a.createElement(ce.a,{item:!0,md:12},i.a.createElement("div",{className:c.titleWrapper},i.a.createElement(pe.b,{to:f,className:c.titleLink},i.a.createElement(h.a,{variant:"h5",align:"left",className:c.mainTitle},i.a.createElement(d.a,{id:"Apis.Details.Documents.Create.heading",defaultMessage:"Documents"}))),i.a.createElement(va.a,null,"keyboard_arrow_right"),i.a.createElement(h.a,{variant:"h5"},i.a.createElement(d.a,{id:"Apis.Details.Documents.Create.title",defaultMessage:"Add New Document"})))),i.a.createElement(ce.a,{item:!0,md:12},i.a.createElement(me.a,{elevation:0},i.a.createElement(Bs,{innerRef:function(e){y=e},apiType:p,apiId:a.id}),i.a.createElement(pi.a,null),i.a.createElement("div",{className:c.addNewOther},i.a.createElement(ue.a,{variant:"contained",color:"primary",onClick:function(){return t=a.id,void(n=y.addDocument(t)).docPromise.then(function(a){var i=a.body,r=i.documentId,o=i.name;n.file&&r?g.addFileToDocument(t,r,n.file[0]).then(function(t){se.info("".concat(o," ").concat(u.formatMessage({id:"Apis.Details.Documents.Create.successful.file.upload.message",defaultMessage:"File uploaded successfully."}))),e.getDocumentsList(),m.push(f)}).catch(function(e){}):(se.info("".concat(a.body.name," ").concat(u.formatMessage({id:"Apis.Details.Documents.Create.markdown.editor.success",defaultMessage:" added successfully."}))),s(a))}).catch(function(e){});var t,n}},i.a.createElement(d.a,{id:"Apis.Details.Documents.Create.markdown.editor.add.document.button",defaultMessage:"Add Document"})),i.a.createElement(ue.a,{className:c.button,onClick:function(){return m.push(f)}},i.a.createElement(d.a,{id:"Apis.Details.Documents.Create.markdown.editor.add.document.cancel.button",defaultMessage:"Cancel"})))))))),l&&i.a.createElement(Vs,{doc:l}))}Hs.propTypes={classes:o.a.shape({}).isRequired,intl:o.a.func.isRequired,apiType:o.a.oneOf([_.CONSTS.API,_.CONSTS.APIProduct]).isRequired};var Ks=Object(d.d)(Object(l.withRouter)(Object(b.a)(function(e){return{root:{flexGrow:1,marginTop:10},titleWrapper:{display:"flex",flexDirection:"row",alignItems:"center"},titleLink:{color:e.palette.primary.main},contentWrapper:{maxWidth:e.custom.contentAreaWidth},addNewWrapper:{backgroundColor:e.palette.background.paper,color:e.palette.getContrastText(e.palette.background.paper),border:"solid 1px "+e.palette.grey[300],borderRadius:e.shape.borderRadius,marginTop:2*e.spacing.unit,marginBottom:3*e.spacing.unit},addNewHeader:{padding:2*e.spacing.unit,backgroundColor:e.palette.grey[300],fontSize:e.typography.h6.fontSize,color:e.typography.h6.color,fontWeight:e.typography.h6.fontWeight},addNewOther:{padding:2*e.spacing.unit},button:{marginLeft:2*e.spacing.unit,textTransform:e.custom.leftMenuTextStyle,color:e.palette.getContrastText(e.palette.primary.main)}}})(Hs))),Js=a(1103),Qs=a.n(Js),Ys=a(765),$s=a.n(Ys);function Zs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,i=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){i=!0,r=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw r}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Xs(){return(Xs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ec(e){return i.a.createElement(Ha.a,Xs({direction:"up"},e))}function tc(e){var t=this,a=e.intl,r=e.showAtOnce,o=e.history,l=Object(n.useContext)(io),s=l.api,c=l.isAPIProduct,u=Zs(Object(n.useState)(r),2),p=u[0],m=u[1],f=Zs(Object(n.useState)(a.formatMessage({id:"documents.markdown.editor.default",defaultMessage:"#Enter your markdown content"})),2),g=f[0],y=f[1],b=function(){if(p||v(),p&&r){var e="/".concat(c?"api-products":"apis","/").concat(s.id,"/documents");o.push(e)}m(!p)},v=function(){(new _).getInlineContentOfDocument(s.id,e.docId).then(function(e){y(e.text)}).catch(function(e){404===e.status&&t.setState({apiNotFound:!0})})},E=e.classes;return i.a.createElement("div",null,i.a.createElement(ue.a,{onClick:b},i.a.createElement(va.a,null,"code"),i.a.createElement(d.a,{id:"Apis.Details.Documents.MarkdownEditor.edit.content",defaultMessage:"Edit Content"})),i.a.createElement(Wa.a,{fullScreen:!0,open:p,onClose:b,TransitionComponent:ec},i.a.createElement(me.a,{square:!0,className:E.popupHeader},i.a.createElement(K.a,{color:"inherit",onClick:b,"aria-label":"Close"},i.a.createElement(va.a,null,"close")),i.a.createElement(h.a,{variant:"h4",className:E.docName},i.a.createElement(d.a,{id:"Apis.Details.Documents.MarkdownEditor.edit.content.of",defaultMessage:"Edit Content of"})," ",'"',e.docName,'"'),i.a.createElement(ue.a,{className:E.button,variant:"contained",color:"primary",onClick:function(){(new _).addInlineContentToDocument(s.id,e.docId,"MARKDOWN",g).then(function(e){se.info("".concat(e.name," ").concat(a.formatMessage({id:"Apis.Details.Documents.MarkdownEditor.update.success.message",defaultMessage:"updated successfully."}))),b()}).catch(function(e){404===e.status&&t.setState({apiNotFound:!0})})}},i.a.createElement(d.a,{id:"Apis.Details.Documents.MarkdownEditor.update.content.button",defaultMessage:"Update Content"})),i.a.createElement(ue.a,{className:E.button,onClick:b},i.a.createElement(d.a,{id:"Apis.Details.Documents.MarkdownEditor.cancel.button",defaultMessage:"Cancel"}))),i.a.createElement("div",{className:E.splitWrapper},i.a.createElement(ce.a,{container:!0,spacing:7},i.a.createElement(ce.a,{item:!0,xs:6},i.a.createElement($s.a,{width:"100%",height:"100vh",language:"markdown",theme:"vs-dark",value:g,options:{selectOnLineNumbers:!0},onChange:function(e){y(e)},editorDidMount:function(e,t){e.focus()}})),i.a.createElement(ce.a,{item:!0,xs:6},i.a.createElement("div",{className:E.markdownViewWrapper},i.a.createElement(Qs.a,{source:g})))))))}tc.propTypes={classes:o.a.shape({}).isRequired,intl:o.a.shape({}).isRequired};var ac=Object(d.d)(Object(l.withRouter)(Object(b.a)({appBar:{position:"relative"},flex:{flex:1},popupHeader:{display:"flex",flexDirection:"row",alignItems:"center"},splitWrapper:{padding:0},docName:{alignItems:"center",display:"flex"},markdownViewWrapper:{height:"100vh",overflowY:"auto"},button:{height:30,marginLeft:30}})(tc))),nc=a(1112),ic=a(1686),rc=a(1687),oc=a.n(rc);function lc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,i=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){i=!0,r=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw r}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function sc(){return(sc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function cc(e){return i.a.createElement(Ha.a,sc({direction:"up"},e))}function uc(e){var t=this,a=e.intl,r=(e.apiType,e.showAtOnce),o=e.history,l=e.docId,s=Object(n.useContext)(io),c=s.api,u=s.isAPIProduct,p=lc(Object(n.useState)(r),2),m=p[0],f=p[1],g=lc(Object(n.useState)(nc.EditorState.createEmpty()),2),y=g[0],b=g[1],v=function(){if(m||E(),m&&r){var e="/".concat(u?"api-products":"apis","/").concat(c.id,"/documents");o.push(e)}f(!m)},E=function(){(u?new ze:new _).getInlineContentOfDocument(c.id,l).then(function(e){var t=Object(nc.convertFromHTML)(e.text),a=nc.ContentState.createFromBlockArray(t.contentBlocks,t.entityMap);b(nc.EditorState.createWithContent(a))}).catch(function(e){404===e.status&&t.setState({apiNotFound:!0})})},w=e.classes;return i.a.createElement("div",null,i.a.createElement(ue.a,{onClick:v},i.a.createElement(va.a,null,"description"),i.a.createElement(d.a,{id:"Apis.Details.Documents.TextEditor.edit.content",defaultMessage:"Edit Content"})),i.a.createElement(Wa.a,{fullScreen:!0,open:m,onClose:v,TransitionComponent:cc},i.a.createElement(me.a,{square:!0,className:w.popupHeader},i.a.createElement(K.a,{color:"inherit",onClick:v,"aria-label":"Close"},i.a.createElement(va.a,null,"close")),i.a.createElement(h.a,{variant:"h4",className:w.docName},i.a.createElement(d.a,{id:"Apis.Details.Documents.TextEditor.edit.content.of",defaultMessage:"Edit Content of"})," ",'"',e.docName,'"'),i.a.createElement(ue.a,{className:w.button,variant:"contained",color:"primary",onClick:function(){var e=u?new ze:new _,t=oc()(Object(nc.convertToRaw)(y.getCurrentContent()));e.addInlineContentToDocument(c.id,l,"INLINE",t).then(function(e){se.info("".concat(e.obj.name," ").concat(a.formatMessage({id:"Apis.Details.Documents.TextEditor.update.success.message",defaultMessage:"updated successfully."}))),v()}).catch(function(e){se.error("".concat(e," ").concat(a.formatMessage({id:"Apis.Details.Documents.TextEditor.update.error.message",defaultMessage:"update failed."})))})}},i.a.createElement(d.a,{id:"Apis.Details.Documents.TextEditor.update.content.button",defaultMessage:"Update Content"})),i.a.createElement(ue.a,{className:w.button,onClick:v},i.a.createElement(d.a,{id:"Apis.Details.Documents.TextEditor.cancel.button",defaultMessage:"Cancel"}))),i.a.createElement("div",{className:w.splitWrapper},i.a.createElement(ic.Editor,{editorState:y,wrapperClassName:"draftjs-wrapper",editorClassName:"draftjs-editor",onEditorStateChange:function(e){b(e)}}))))}uc.propTypes={classes:o.a.shape({}).isRequired,docId:o.a.string.isRequired,apiType:o.a.oneOf([_.CONSTS.API,_.CONSTS.APIProduct]).isRequired,intl:o.a.shape({}).isRequired,showAtOnce:o.a.bool.isRequired};var pc=Object(d.d)(Object(l.withRouter)(Object(b.a)({appBar:{position:"relative"},flex:{flex:1},popupHeader:{display:"flex",flexDirection:"row",alignItems:"center"},splitWrapper:{padding:0},docName:{alignItems:"center",display:"flex"},button:{height:30,marginLeft:30}})(uc)));function dc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,i=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){i=!0,r=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw r}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function mc(){return(mc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function fc(e){return i.a.createElement(Ha.a,mc({direction:"up"},e))}function hc(e){var t=new _,a=e.intl,r=dc(Object(n.useState)(!1),2),o=r[0],l=r[1],s=Object(n.useRef)(null),c=function(){l(!o)},u=e.classes,p=e.docId,m=e.apiId;return i.a.createElement("div",null,i.a.createElement(ue.a,{onClick:c},i.a.createElement(va.a,null,"edit"),i.a.createElement(d.a,{id:"Apis.Details.Documents.Edit.documents.text.editor.edit",defaultMessage:"Edit Meta Data"})),i.a.createElement(Wa.a,{open:o,onClose:c,TransitionComponent:fc,fullScreen:!0},i.a.createElement(me.a,{square:!0,className:u.popupHeader},i.a.createElement(K.a,{color:"inherit",onClick:c,"aria-label":"Close"},i.a.createElement(va.a,null,"close")),i.a.createElement(h.a,{variant:"h4",className:u.docName},i.a.createElement(d.a,{id:"Apis.Details.Documents.Edit.documents.text.editor.edit.content",defaultMessage:"Edit "}),'"',e.docName,'"'),i.a.createElement(ue.a,{className:u.button,variant:"contained",color:"primary",onClick:function(){var n=e.apiId,i=s.updateDocument(n);i.docPromise.then(function(r){var o=r.body,l=o.documentId,s=o.name;i.file&&l?t.addFileToDocument(n,l,i.file[0]).then(function(t){se.info("".concat(s," ").concat(a.formatMessage({id:"Apis.Details.Documents.Edit.markdown.editor.upload.success.message",defaultMessage:"File uploaded successfully."}))),e.getDocumentsList(),c()}).catch(function(e){}):(se.info("".concat(r.name," ").concat(a.formatMessage({id:"Apis.Details.Documents.Edit.markdown.editor.update.success.message",defaultMessage:"Updated successfully."}))),e.getDocumentsList(),c())}).catch(function(e){})}},i.a.createElement(d.a,{id:"Apis.Details.Documents.Edit.documents.text.editor.update.content",defaultMessage:"Save"})),i.a.createElement(ue.a,{className:u.button,onClick:c},i.a.createElement(d.a,{id:"Apis.Details.Documents.Edit.documents.text.editor.cancel",defaultMessage:"Cancel"}))),i.a.createElement("div",{className:u.splitWrapper},i.a.createElement(Bs,{innerRef:function(e){s=e},docId:p,apiId:m}))))}hc.propTypes={classes:o.a.shape({}).isRequired,apiId:o.a.shape({}).isRequired,docId:o.a.shape({}).isRequired,getDocumentsList:o.a.shape({}).isRequired,intl:o.a.shape({}).isRequired};var gc=Object(d.d)(Object(b.a)({appBar:{position:"relative"},flex:{flex:1},popupHeader:{display:"flex",flexDirection:"row",alignItems:"center"},splitWrapper:{padding:0},docName:{alignItems:"center",display:"flex"},button:{height:30,marginLeft:30}})(hc));function yc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,i=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){i=!0,r=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw r}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function bc(e){var t=this,a=e.intl,r=yc(Object(n.useState)(!1),2),o=r[0],l=r[1],s=(Object(n.useRef)(null),function(e){"yes"===e?u():l(!o)}),c=function(){l(!o)},u=function(){var n=e.apiId,i=e.docId,r=e.getDocumentsList;(e.apiType===_.CONSTS.APIProduct?new ze:new _).deleteDocument(n,i).then(function(){se.info("".concat(a.formatMessage({id:"Apis.Details.Documents.Delete.document.delete.successfully",defaultMessage:"deleted successfully."}))),l(!o),r()}).catch(function(e){404===e.status&&t.setState({apiNotFound:!0})})},p=(e.classes,e.docId,e.apiId,e.apiName);return i.a.createElement("div",null,i.a.createElement(ue.a,{onClick:c},i.a.createElement(va.a,null,"delete_forever"),i.a.createElement(d.a,{id:"Apis.Details.Documents.Delete.document.delete",defaultMessage:"Delete"})),i.a.createElement(Wa.a,{open:o,onClose:c,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},i.a.createElement(Fa.a,{id:"alert-dialog-title"},i.a.createElement(d.a,{id:"Apis.Details.Documents.Delete.document.listing.delete.confirm.title",defaultMessage:"Are you sure to delete?"})),i.a.createElement(Ba.a,null,i.a.createElement(za.a,{id:"alert-dialog-description"},i.a.createElement("strong",null,p),i.a.createElement(d.a,{id:"Apis.Details.Documents.Delete.document.listing.delete.confirm.body",defaultMessage:" will be permernently deleted. Are you sure?"}))),i.a.createElement(Ua.a,null,i.a.createElement(ue.a,{onClick:function(){return s("no")},color:"primary"},i.a.createElement(d.a,{id:"Apis.Details.Documents.Delete.document.listing.delete.cancel",defaultMessage:"Cancel"})),i.a.createElement(ue.a,{onClick:function(){return s("yes")},color:"primary",autoFocus:!0},i.a.createElement(d.a,{id:"Apis.Details.Documents.Delete.document.listing.delete.yes",defaultMessage:"Yes. Delete"})))))}bc.propTypes={classes:o.a.shape({}).isRequired,apiId:o.a.shape({}).isRequired,apiType:o.a.string.isRequired,docId:o.a.shape({}).isRequired,getDocumentsList:o.a.shape({}).isRequired,intl:o.a.shape({}).isRequired};var vc=Object(d.d)(Object(b.a)({appBar:{position:"relative"},flex:{flex:1},popupHeader:{display:"flex",flexDirection:"row",alignItems:"center"},splitWrapper:{padding:0},docName:{alignItems:"center",display:"flex"},button:{height:30,marginLeft:30}})(bc));function Ec(e){e.intl;var t=e.docId,a=e.apiId;return i.a.createElement(ue.a,{onClick:function(){(new _).getFileForDocument(a,t).then(function(e){!function(e,t){var a="",n=e.headers["content-disposition"];if(n&&-1!==n.indexOf("attachment")){var i=/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/.exec(n);null!=i&&i[1]&&(a=i[1].replace(/['"]/g,""))}var r=e.headers["content-type"],o=new Blob([e.data],{type:r});if(void 0!==window.navigator.msSaveBlob)window.navigator.msSaveBlob(o,a);else{var l=window.URL||window.webkitURL,s=l.createObjectURL(o);if(a){var c=document.createElement("a");void 0===c.download?window.location=s:(c.href=s,c.download=a,document.body.appendChild(c),c.click())}else window.location=s;setTimeout(function(){l.revokeObjectURL(s)},100)}}(e,document)}).catch(function(e){})}},i.a.createElement(va.a,null,"arrow_downward"),i.a.createElement(d.a,{id:"Apis.Details.Documents.Download.documents.listing.download",defaultMessage:"Download"}))}Ec.propTypes={apiId:o.a.shape({}).isRequired,docId:o.a.shape({}).isRequired,intl:o.a.shape({}).isRequired};var wc=Object(d.d)(Ec);function Cc(e){return(Cc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pc(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Sc(e){return(Sc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ac(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oc(e,t){return(Oc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xc(e){return e.apiType===_.CONSTS.APIProduct?i.a.createElement(pe.b,{to:"/api-products/"+e.apiId+"/documents/"+e.docId+"/view"},e.docName):i.a.createElement(pe.b,{to:"/apis/"+e.apiId+"/documents/"+e.docId+"/view"},e.docName)}var Ic=function(e){function t(e){var a,n,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(a=!(i=Sc(t).call(this,e))||"object"!==Cc(i)&&"function"!=typeof i?Ac(n):i).state={docs:null,showAddDocs:!1},a.apiId=e.api.id,a.toggleAddDocs=a.toggleAddDocs.bind(Ac(a)),a.getDocumentsList=a.getDocumentsList.bind(Ac(a)),a}var a,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oc(e,t)}(t,i.a.Component),a=t,(n=[{key:"componentDidMount",value:function(){this.getDocumentsList()}},{key:"getDocumentsList",value:function(){var e=this,t=this.props,a=t.api,n=t.intl;a.apiType===_.CONSTS.APIProduct?(new ze).getDocuments(a.id).then(function(t){e.setState({docs:t.obj.list})}).catch(function(e){var t=JSON.parse(e.message),a="Error["+t.code+"]: "+t.description+" | "+t.message+".";console.error(a),se.error(n.formatMessage({id:"Apis.Details.Documents.Listing.documents.listing.fetching.error.message.api.product",defaultMessage:"Error in fetching documents list of the API Product"}))}):(new _).getDocuments(this.props.api.id).then(function(t){e.setState({docs:t.obj.list})}).catch(function(e){var t=JSON.parse(e.message),a="Error["+t.code+"]: "+t.description+" | "+t.message+".";console.error(a),se.error(n.formatMessage({id:"Apis.Details.Documents.Listing.documents.listing.fetching.error.message",defaultMessage:"Error in fetching documents list of the API"}))})}},{key:"toggleAddDocs",value:function(){this.setState(function(e){return{showAddDocs:!e.showAddDocs}})}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.api,r=t.isAPIProduct,o=this.state,l=o.docs,s=o.showAddDocs,c="/".concat(r?"api-products":"apis","/").concat(n.id,"/documents/create"),u=[{name:"documentId",options:{display:"excluded",filter:!1}},{name:"name",options:{customBodyRender:function(t,a){if(a.rowData){var r=a.rowData[1],o=a.rowData[0];return i.a.createElement(xc,{docName:r,docId:o,apiId:e.apiId,apiType:n.apiType})}return null},filter:!1,label:i.a.createElement(d.a,{id:"Apis.Details.Documents.Listing.column.header.name",defaultMessage:"name"})}},{name:"sourceType",label:i.a.createElement(d.a,{id:"Apis.Details.Documents.Listing.column.header.source.type",defaultMessage:"sourceType"})},{name:"type",label:i.a.createElement(d.a,{id:"Apis.Details.Documents.Listing.column.header.type",defaultMessage:"type"})},{name:"action",label:i.a.createElement(d.a,{id:"Apis.Details.Documents.Listing.column.header.action",defaultMessage:"action"}),options:{customBodyRender:function(t,r){if(r.rowData){var o=r.rowData[1],l=r.rowData[0],s=r.rowData[2];return"MARKDOWN"===s?i.a.createElement("table",{className:a.actionTable},i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement(ac,{docName:o,docId:l,apiId:e.apiId})),i.a.createElement("td",null,i.a.createElement(gc,{docName:o,docId:l,apiId:e.apiId,getDocumentsList:e.getDocumentsList})),i.a.createElement("td",null,i.a.createElement(vc,{docName:o,docId:l,apiId:e.apiId,getDocumentsList:e.getDocumentsList,apiType:n.apiType})))):"INLINE"===s?i.a.createElement("table",{className:a.actionTable},i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement(pc,{docName:o,docId:l,apiId:e.apiId,apiType:n.apiType})),i.a.createElement("td",null,i.a.createElement(gc,{docName:o,docId:l,apiId:e.apiId,getDocumentsList:e.getDocumentsList})),i.a.createElement("td",null,i.a.createElement(vc,{docName:o,docId:l,apiId:e.apiId,getDocumentsList:e.getDocumentsList,apiType:n.apiType})))):"URL"===s?i.a.createElement("table",{className:a.actionTable},i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement(ue.a,null,i.a.createElement(va.a,null,"open_in_new"),i.a.createElement(d.a,{id:"Apis.Details.Documents.Listing.documents.open",defaultMessage:"Open"}))),i.a.createElement("td",null,i.a.createElement(gc,{docName:o,docId:l,apiId:e.apiId,getDocumentsList:e.getDocumentsList})),i.a.createElement("td",null,i.a.createElement(vc,{docName:o,docId:l,apiId:e.apiId,getDocumentsList:e.getDocumentsList,apiType:n.apiType})))):"FILE"===s?i.a.createElement("table",{className:a.actionTable},i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement(wc,{docId:l,apiId:e.apiId})),i.a.createElement("td",null,i.a.createElement(gc,{docName:o,docId:l,apiId:e.apiId,getDocumentsList:e.getDocumentsList})),i.a.createElement("td",null,i.a.createElement(vc,{docName:o,docId:l,apiId:e.apiId,getDocumentsList:e.getDocumentsList,apiType:n.apiType})))):i.a.createElement("span",null)}return null},filter:!1}}];return i.a.createElement("div",{className:a.root},i.a.createElement("div",{className:a.titleWrapper},i.a.createElement(h.a,{variant:"h4",align:"left",className:a.mainTitle},i.a.createElement(d.a,{id:"Apis.Details.Documents.Listing.documents.listing.title",defaultMessage:"Documents"})),i.a.createElement(pe.b,{to:c},i.a.createElement(ue.a,{size:"small",className:a.button},i.a.createElement(Ms.a,{className:a.buttonIcon}),i.a.createElement(d.a,{id:"Apis.Details.Documents.Listing.add.new.document.button",defaultMessage:"Add New Document"})))),i.a.createElement("div",{className:a.contentWrapper},s&&i.a.createElement(Ks,{toggleAddDocs:this.toggleAddDocs,getDocumentsList:this.getDocumentsList,apiType:n.apiType}),l&&l.length>0?i.a.createElement(ga.a,{title:"",data:l,columns:u,options:{selectableRows:!1,title:!1,filter:!1,print:!1,download:!1,viewColumns:!1,customToolbar:!1,search:!1}}):i.a.createElement(si,{type:"info",height:140},i.a.createElement("div",{className:a.contentWrapper},i.a.createElement(h.a,{variant:"h5",component:"h3",className:a.head},i.a.createElement(d.a,{id:"Apis.Details.Documents.Listing.add.new.msg.title",defaultMessage:"Create Documents"})),i.a.createElement(h.a,{component:"p",className:a.content},i.a.createElement(d.a,{id:"Apis.Details.Documents.Listing.add.new.msg.content",defaultMessage:"You can add different types of documents to an API. Proper documentation helps API publishers to market their  APIs better and sustain competition. "})),i.a.createElement("div",{className:a.actions},i.a.createElement(pe.b,{to:c},i.a.createElement(ue.a,{variant:"contained",color:"primary",className:a.button},i.a.createElement(d.a,{id:"Apis.Details.Documents.Listing.add.new.msg.button",defaultMessage:"Add New Document"}))))))))}}])&&Pc(a.prototype,n),r&&Pc(a,r),t}();Ic.propTypes={classes:o.a.shape({}).isRequired,intl:o.a.shape({}).isRequired,api:o.a.shape({id:o.a.string,apiType:o.a.oneOf([_.CONSTS.API,_.CONSTS.APIProduct])}).isRequired};var Tc=Object(d.d)(no(Object(b.a)(function(e){return{root:{flexGrow:1,marginTop:10},contentWrapper:{maxWidth:e.custom.contentAreaWidth},addNewWrapper:{backgroundColor:e.palette.background.paper,color:e.palette.getContrastText(e.palette.background.paper),border:"solid 1px "+e.palette.grey[300],borderRadius:e.shape.borderRadius,marginTop:2*e.spacing.unit,marginBottom:2*e.spacing.unit},addNewHeader:{padding:2*e.spacing.unit,backgroundColor:e.palette.grey[300],fontSize:e.typography.h6.fontSize,color:e.typography.h6.color,fontWeight:e.typography.h6.fontWeight},addNewOther:{padding:2*e.spacing.unit},titleWrapper:{display:"flex",flexDirection:"row",alignItems:"center",marginBottom:e.spacing.unit},mainTitle:{paddingRight:10},actionTable:{"& td":{width:50},"& td:first-child":{width:130}},messageBox:{marginTop:20},actions:{padding:"20px 0","& button":{marginLeft:0}},head:{fontWeight:200,marginBottom:20}}})(Ic))),kc=a(1688),Dc=a.n(kc);function _c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,i=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){i=!0,r=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw r}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Mc(e){var t=e.classes,a=(e.fullScreen,e.intl,e.match.params.documentId),r=Object(n.useContext)(io),o=r.api,l=r.isAPIProduct,s=_c(Object(n.useState)(""),2),c=s[0],u=s[1],p=_c(Object(n.useState)(null),2),m=p[0],f=p[1],g=l?new ze:new _;Object(n.useEffect)(function(){g.getDocument(o.id,a).then(function(e){var t=e.body;f(t),"MARKDOWN"!==t.sourceType&&"INLINE"!==t.sourceType||y()}).catch(function(e){0})},[a]);var y=function(){g.getInlineContentOfDocument(o.id,a).then(function(e){u(e.text)}).catch(function(e){0})},b="/".concat(l?"api-products":"apis","/").concat(o.id,"/documents");return m&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:t.root},i.a.createElement("div",{className:t.titleWrapper},i.a.createElement(pe.b,{to:b,className:t.titleLink},i.a.createElement(h.a,{variant:"h5",align:"left",className:t.mainTitle},i.a.createElement(d.a,{id:"Apis.Details.Documents.View.heading",defaultMessage:"Documents"}))),i.a.createElement(va.a,null,"keyboard_arrow_right"),i.a.createElement(h.a,{variant:"h5"},m.name)),i.a.createElement(me.a,{className:t.paper},i.a.createElement(yo.a,{className:t.table},i.a.createElement(ws.a,null,i.a.createElement(vo.a,null,i.a.createElement(bo.a,{className:t.leftCell},i.a.createElement(h.a,{variant:"body1"},i.a.createElement(d.a,{id:"Apis.Details.Documents.View.meta.summary",defaultMessage:"Name"}))),i.a.createElement(bo.a,null,i.a.createElement(h.a,{variant:"body1"},m.name))),i.a.createElement(vo.a,null,i.a.createElement(bo.a,null,i.a.createElement(h.a,{variant:"body1"},i.a.createElement(d.a,{id:"Apis.Details.Documents.View.meta.summary",defaultMessage:"Summary"}))),i.a.createElement(bo.a,null,i.a.createElement(h.a,{variant:"body1"},m.summary))),i.a.createElement(vo.a,null,i.a.createElement(bo.a,null,i.a.createElement(h.a,{variant:"body1"},i.a.createElement(d.a,{id:"Apis.Details.Documents.View.meta.catogery",defaultMessage:"Catogoriezed as"}))),i.a.createElement(bo.a,null,i.a.createElement(h.a,{variant:"body1"},"OTHER"===m.type?m.otherTypeName:m.type)," ")),i.a.createElement(vo.a,null,i.a.createElement(bo.a,null,i.a.createElement(h.a,{variant:"body1"},i.a.createElement(d.a,{id:"Apis.Details.Documents.View.meta.source",defaultMessage:"Source Type"}))),i.a.createElement(bo.a,null,i.a.createElement(h.a,{variant:"body1"},m.sourceType)," "))))),i.a.createElement(me.a,{className:t.paper},"MARKDOWN"===m.sourceType&&i.a.createElement(Qs.a,{source:c}),"INLINE"===m.sourceType&&i.a.createElement(Dc.a,{html:c}),"URL"===m.sourceType&&i.a.createElement("a",{className:t.displayURL,href:m.sourceUrl,target:"_blank"},m.sourceUrl,i.a.createElement(va.a,{className:t.displayURLLink},"open_in_new")),"FILE"===m.sourceType&&i.a.createElement(ue.a,{variant:"contained",color:"default",className:t.button,onClick:function(){g.getFileForDocument(o.id,a).then(function(e){!function(e,t){var a="",n=e.headers["content-disposition"];if(n&&-1!==n.indexOf("attachment")){var i=/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/.exec(n);null!=i&&i[1]&&(a=i[1].replace(/['"]/g,""))}var r=e.headers["content-type"],o=new Blob([e.data],{type:r});if(void 0!==window.navigator.msSaveBlob)window.navigator.msSaveBlob(o,a);else{var l=window.URL||window.webkitURL,s=l.createObjectURL(o);if(a){var c=document.createElement("a");void 0===c.download?window.location=s:(c.href=s,c.download=a,document.body.appendChild(c),c.click())}else window.location=s;setTimeout(function(){l.revokeObjectURL(s)},100)}}(e,document)}).catch(function(e){})}},i.a.createElement(d.a,{id:"Apis.Details.Documents.View.btn.download",defaultMessage:"Download"}),i.a.createElement(va.a,null,"arrow_downward")))))}Mc.propTypes={classes:o.a.shape({}).isRequired,doc:o.a.shape({}).isRequired,apiId:o.a.shape({}).isRequired,intl:o.a.shape({formatMessage:o.a.func}).isRequired,fullScreen:o.a.shape({}).isRequired};var Rc=Object(d.d)(Object(b.a)(function(e){return{root:{flexGrow:1,marginTop:10},titleWrapper:{display:"flex",flexDirection:"row",alignItems:"center"},titleLink:{color:e.palette.primary.main},docTitle:{fontWeight:100,fontSize:50,color:e.palette.grey[500]},docBadge:{padding:e.spacing.unit,background:e.palette.primary.main,position:"absolute",top:0,marginTop:-22,color:e.palette.getContrastText(e.palette.primary.main)},button:{padding:2*e.spacing.unit,marginTop:2*e.spacing.unit},displayURL:{padding:2*e.spacing.unit,marginTop:2*e.spacing.unit,background:e.palette.grey[200],color:e.palette.getContrastText(e.palette.grey[200]),display:"flex"},displayURLLink:{paddingLeft:2*e.spacing.unit},paper:{marginTop:20,padding:2*e.spacing.unit,height:"100%"},leftCell:{width:150}}})(Mc)),jc=a(1157),Nc=a.n(jc);function Lc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,i=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){i=!0,r=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw r}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var qc=Object(l.withRouter)(function(e){var t=Lc(Object(n.useState)(null),2),a=t[0],r=t[1],o=e.history,l=o.location,s=l.state;return l.pathname,o.replace,Object(n.useEffect)(function(){if(!Nc()(s)){var e=s.doc;e&&r(e)}},[]),i.a.createElement(i.a.Fragment,null,a&&"MARKDOWN"===a.sourceType&&i.a.createElement(ac,{docName:a.name,docId:a.documentId,showAtOnce:!0}),a&&"INLINE"===a.sourceType&&i.a.createElement(pc,{docName:a.name,docId:a.documentId,showAtOnce:!0}))}),Wc=function(e){var t=Object(n.useContext)(io).isAPIProduct?"api-products":"apis";return i.a.createElement("div",null,i.a.createElement(l.Switch,null,i.a.createElement(l.Route,{exact:!0,path:"/"+t+"/:apiUUID/documents",component:Tc}),"} />",i.a.createElement(l.Route,{exact:!0,path:"/"+t+"/:apiUUID/documents/:documentId/view",component:Rc}),"} />",i.a.createElement(l.Route,{exact:!0,path:"/"+t+"/:apiUUID/documents/:documentId/edit",component:gc}),"} />",i.a.createElement(l.Route,{exact:!0,path:"/"+t+"/:apiUUID/documents/:documentId/edit-content",component:qc}),"} />",i.a.createElement(l.Route,{exact:!0,path:"/"+t+"/:apiUUID/documents/create",component:Ks}),i.a.createElement(l.Route,{component:f})))};Wc.propTypes={api:o.a.shape({}).isRequired};var Fc=Wc;function Bc(e){return(Bc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zc(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Uc(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){Vc(e,t,a[t])})}return e}function Vc(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Gc(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Hc(e){return(Hc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Kc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jc(e,t){return(Jc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Qc=function(e){function t(e){var a,n,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(a=!(i=Hc(t).call(this,e))||"object"!==Bc(i)&&"function"!=typeof i?Kc(n):i).state={isSecurity:!1},a.handleScopeChange=a.handleScopeChange.bind(Kc(a)),a.handlePolicyChange=a.handlePolicyChange.bind(Kc(a)),a.handleChange=a.handleChange.bind(Kc(a)),a}var a,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jc(e,t)}(t,i.a.Component),a=t,(n=[{key:"handleScopeChange",value:function(e){var t=this.props.operation,a=Uc({},t,{scopes:zc(t.scopes)});a.scopes=[e.target.value],this.props.handleUpdateList(a)}},{key:"handlePolicyChange",value:function(e){var t=Uc({},this.props.operation);t.throttlingPolicy=e.target.value,this.props.handleUpdateList(t)}},{key:"handleChange",value:function(e){var t=Uc({},this.props.operation),a=e.target.checked;t.authType=a?"Any":"None",this.setState({isSecurity:a}),this.props.handleUpdateList(t)}},{key:"render",value:function(){var e=this.props,t=e.operation,a=e.theme,n=e.classes,r=e.apiPolicies,o=e.scopes,l=this.state.isSecurity,s=a.custom.operationChipColor?a.custom.operationChipColor[t.verb.toLowerCase()]:null,c="#000000";return s?c=a.palette.getContrastText(a.custom.operationChipColor[t.verb.toLowerCase()]):(console.log("Check the theme settings. The resourceChipColors is not populated properlly"),s="#cccccc"),i.a.createElement(vo.a,{style:{borderStyle:"hidden"}},i.a.createElement(bo.a,null,i.a.createElement(h.a,{variant:"body1"},t.target)),i.a.createElement(bo.a,null,i.a.createElement(Na.a,{label:t.verb.toLowerCase(),style:{backgroundColor:s,color:c,height:20,width:40},className:n.chipActive})),i.a.createElement(bo.a,null,i.a.createElement(mn.a,{className:n.dropDown,value:t.throttlingPolicy,onChange:this.handlePolicyChange,fieldName:"Throttling Policy"},r.map(function(e){return i.a.createElement(Pe.a,{key:e.name,value:e.name},e.displayName)}))),i.a.createElement(bo.a,null,i.a.createElement(mn.a,{className:n.dropDown,value:t.scopes,onChange:this.handleScopeChange,inputProps:{name:"scopes",id:"age-simple"}},o.map(function(e){return i.a.createElement(Pe.a,{key:e.name,value:e.name},e.name)}))),i.a.createElement(bo.a,null,i.a.createElement(il.a,{checked:"None"!==t.authType,onChange:this.handleChange,value:l,color:"primary"})))}}])&&Gc(a.prototype,n),r&&Gc(a,r),t}();Qc.propTypes={classes:o.a.shape({}).isRequired,operation:o.a.shape({target:o.a.string,verb:o.a.string,throttlingPolicy:o.a.string,auth:o.a.string}).isRequired,apiPolicies:o.a.shape({}).isRequired,scopes:o.a.shape({}).isRequired,handleUpdateList:o.a.shape({}).isRequired,theme:o.a.shape({}).isRequired,intl:o.a.shape({formatMessage:o.a.func}).isRequired};var Yc=Object(d.d)(Object(b.a)(function(e){return{root:{flexGrow:1,marginTop:10},container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:400},mainTitle:{paddingLeft:20},scopes:{width:400},dropDown:{width:11.25*e.spacing.unit},divider:{marginTop:20,marginBottom:20},chip:{margin:e.spacing.unit,color:e.palette.text.secondary,minWidth:100},chipActive:{margin:e.spacing.unit,color:e.palette.text.secondary,background:e.palette.background.active,minWidth:100,borderRadius:e.shape.borderRadius,cursor:"pointer"},paper:{padding:20},link:{cursor:"pointer"},listItem:{paddingLeft:0,display:"flex",alignItems:"center"},formControl:{paddingRight:0,marginRight:0},resourceRoot:{background:e.palette.grey[100],paddingLeft:e.spacing.unit,paddingRight:e.spacing.unit,borderRadius:e.shape.borderRadius,marginBottom:e.spacing.unit},deleteButton:{marginLeft:"auto"},pathDisplay:{marginRight:2*e.spacing.unit,marginLeft:2*e.spacing.unit},descriptionWrapper:{paddingTop:e.spacing.unit,paddingBottom:e.spacing.unit},scopeSelect:{width:"100%"},descriptionWrapperUp:{paddingBottom:"0 !important"},addParamRow:{display:"flex",flexDirection:"row",alignItems:"center"},propsForm:{display:"flex",alignItems:"center"},deleteLink:{cursor:"pointer"},row:{"& td":{borderBottom:"none",verticalAlign:"bottom",width:"33%",paddingLeft:0}}}},{withTheme:!0})(Qc));function $c(e){return($c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zc(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Xc(e){return(Xc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tu(e,t){return(tu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var au=function(e){function t(e){var a,n,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(a=!(i=Xc(t).call(this,e))||"object"!==$c(i)&&"function"!=typeof i?eu(n):i).state={notFound:!1,apiPolicies:[],operationList:null},a.newApi=new _,a.handleUpdateList=a.handleUpdateList.bind(eu(a)),a.updateOperations=a.updateOperations.bind(eu(a)),a}var a,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tu(e,t)}(t,i.a.Component),a=t,(n=[{key:"componentDidMount",value:function(){var e=this;this.setState({operationList:this.props.api.operations}),_.policies("api").then(function(t){e.setState({apiPolicies:t.obj.list})}).catch(function(t){var a=t.status.status;404===a?e.setState({notFound:!0}):401===a&&Jr()})}},{key:"handleUpdateList",value:function(e){var t=this.state.operationList.map(function(t){return t.target===e.target?e:t});this.setState({operationList:t})}},{key:"updateOperations",value:function(){var e=this.props,t=e.api,a=e.intl,n=this.state.operationList;t.operations=n,this.newApi.update(JSON.parse(JSON.stringify(t))).then(function(){se.info(a.formatMessage({id:"Apis.Details.Operations.Operations.api.updated.successfully",defaultMessage:"API updated successfully!"}))}).catch(function(){se.error(a.formatMessage({id:"Apis.Details.Operations.Operations.something.went.wrong.while.updating.the.api",defaultMessage:"Error occurred while updating API"}))})}},{key:"render",value:function(){var e=this,t=this.state,a=t.operationList,n=t.apiPolicies;if(this.state.notFound)return i.a.createElement(y,{message:this.props.resourceNotFoundMessage});if(!a)return i.a.createElement(Kn.a,null);var r=this.props.classes;return i.a.createElement("div",{className:r.root},i.a.createElement("div",{className:r.titleWrapper},i.a.createElement(h.a,{variant:"h4",align:"left",className:r.mainTitle},i.a.createElement(d.a,{id:"Apis.Details.Operations.Operations.operation",defaultMessage:"Operations"}))),i.a.createElement("div",{className:r.contentWrapper},i.a.createElement(ci.a,null,i.a.createElement(ce.a,null,i.a.createElement(yo.a,null,i.a.createElement(vo.a,null,i.a.createElement(bo.a,null,i.a.createElement(h.a,{variant:"subtitle2"},i.a.createElement(d.a,{id:"Apis.Details.Resources.Resource.Operation",defaultMessage:"Operation"}))),i.a.createElement(bo.a,null,i.a.createElement(h.a,{variant:"subtitle2"},i.a.createElement(d.a,{id:"Apis.Details.Resources.Resource.OperationType",defaultMessage:"Operation Type"}))),i.a.createElement(bo.a,null,i.a.createElement(h.a,{variant:"subtitle2"},i.a.createElement(d.a,{id:"Apis.Details.Resources.Resource.throttling.policy",defaultMessage:"Throttling Policy"}))),i.a.createElement(bo.a,null,i.a.createElement(h.a,{variant:"subtitle2"},i.a.createElement(d.a,{id:"Apis.Details.Resources.Resource.scopes",defaultMessage:"Scopes"}))),i.a.createElement(bo.a,null,i.a.createElement(h.a,{variant:"subtitle2"},i.a.createElement(d.a,{id:"Apis.Details.Resources.Resource.authType",defaultMessage:"Security Enabled"})))),a.map(function(t){return i.a.createElement(Yc,{operation:t,handleUpdateList:e.handleUpdateList,scopes:e.props.api.scopes,apiPolicies:n})})))),i.a.createElement("div",null,i.a.createElement(ue.a,{variant:"contained",color:"primary",className:r.buttonMain,onClick:this.updateOperations},i.a.createElement(d.a,{id:"Apis.Details.Resources.Resources.save",defaultMessage:"Save"})))))}}])&&Zc(a.prototype,n),r&&Zc(a,r),t}();au.propTypes={classes:o.a.shape({}).isRequired,api:o.a.shape({operations:o.a.array,scopes:o.a.array,updateOperations:o.a.func,policies:o.a.func,id:o.a.string}).isRequired,resourceNotFoundMessage:o.a.shape({}).isRequired,theme:o.a.shape({}).isRequired,intl:o.a.shape({formatMessage:o.a.func}).isRequired};var nu=Object(d.d)(Object(b.a)(function(e){return{root:{flexGrow:1,marginTop:10},container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:400},mainTitle:{paddingLeft:0},scopes:{width:400},titleWrapper:{display:"flex",flexDirection:"row",alignItems:"center"},button:{marginLeft:2*e.spacing.unit,textTransform:e.custom.leftMenuTextStyle,color:e.palette.getContrastText(e.palette.primary.main)},buttonMain:{textTransform:e.custom.leftMenuTextStyle,color:e.palette.getContrastText(e.palette.primary.main)},addNewWrapper:{backgroundColor:e.palette.background.paper,color:e.palette.getContrastText(e.palette.background.paper),border:"solid 1px "+e.palette.grey[300],borderRadius:e.shape.borderRadius,marginTop:2*e.spacing.unit},contentWrapper:{maxWidth:e.custom.contentAreaWidth},addNewHeader:{padding:2*e.spacing.unit,backgroundColor:e.palette.grey[300],fontSize:e.typography.h6.fontSize,color:e.typography.h6.color,fontWeight:e.typography.h6.fontWeight},addNewOther:{padding:2*e.spacing.unit},radioGroup:{display:"flex",flexDirection:"row",width:300},addResource:{width:600,marginTop:0},buttonIcon:{marginRight:10},expansionPanel:{marginBottom:e.spacing.unit},expansionPanelDetails:{flexDirection:"column"}}})(au)),iu=a(1302),ru=a(955),ou=a(954),lu=a(704),su=a.n(lu),cu=a(545),uu=a.n(cu),pu=a(1158),du=a.n(pu),mu=a(1307),fu=Array([691]);function hu(e){return(hu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gu(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function yu(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function bu(e){return(bu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Eu(e,t){return(Eu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wu(){return(wu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Cu(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){Pu(e,t,a[t])})}return e}function Pu(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Su(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}fu[0]={label:"application/vnd.hzn-3d-crossword"},fu[1]={label:"video/3gpp"},fu[2]={label:"video/3gpp2"},fu[3]={label:"application/vnd.mseq"},fu[4]={label:"application/vnd.3m.post-it-notes"},fu[5]={label:"application/vnd.3gpp.pic-bw-large"},fu[6]={label:"application/vnd.3gpp.pic-bw-small"},fu[7]={label:"application/vnd.3gpp.pic-bw-var"},fu[8]={label:"application/vnd.3gpp2.tcap"},fu[9]={label:"application/x-7z-compressed"},fu[10]={label:"application/x-abiword"},fu[11]={label:"application/x-ace-compressed"},fu[12]={label:"application/vnd.americandynamics.acc"},fu[13]={label:"application/vnd.acucobol"},fu[14]={label:"application/vnd.acucorp"},fu[15]={label:"audio/adpcm"},fu[16]={label:"application/x-authorware-bin"},fu[17]={label:"application/x-authorware-map"},fu[18]={label:"application/x-authorware-seg"},fu[19]={label:"application/vnd.adobe.air-application-installer-package+zip"},fu[20]={label:"application/x-shockwave-flash"},fu[21]={label:"application/vnd.adobe.fxp"},fu[22]={label:"application/pdf"},fu[23]={label:"application/vnd.cups-ppd"},fu[24]={label:"application/x-director"},fu[25]={label:"application/vnd.adobe.xdp+xml"},fu[26]={label:"application/vnd.adobe.xfdf"},fu[27]={label:"audio/x-aac"},fu[28]={label:"application/vnd.ahead.space"},fu[29]={label:"application/vnd.airzip.filesecure.azf"},fu[30]={label:"application/vnd.airzip.filesecure.azs"},fu[31]={label:"application/vnd.amazon.ebook"},fu[32]={label:"application/vnd.amiga.ami"},fu[33]={label:"application/andrew-inset"},fu[34]={label:"application/vnd.android.package-archive"},fu[35]={label:"application/vnd.anser-web-certificate-issue-initiation"},fu[36]={label:"application/vnd.anser-web-funds-transfer-initiation"},fu[37]={label:"application/vnd.antix.game-component"},fu[38]={label:"application/x-apple-diskimage"},fu[39]={label:"application/vnd.apple.installer+xml"},fu[40]={label:"application/applixware"},fu[41]={label:"application/vnd.hhe.lesson-player"},fu[42]={label:"application/vnd.aristanetworks.swi"},fu[43]={label:"text/x-asm"},fu[44]={label:"application/atomcat+xml"},fu[45]={label:"application/atomsvc+xml"},fu[46]={label:"application/atom+xml"},fu[47]={label:"application/pkix-attr-cert"},fu[48]={label:"audio/x-aiff"},fu[49]={label:"video/x-msvideo"},fu[50]={label:"application/vnd.audiograph"},fu[51]={label:"image/vnd.dxf"},fu[52]={label:"model/vnd.dwf"},fu[53]={label:"text/plain-bas"},fu[54]={label:"application/x-bcpio"},fu[55]={label:"application/octet-stream"},fu[56]={label:"image/bmp"},fu[57]={label:"application/x-bittorrent"},fu[58]={label:"application/vnd.rim.cod"},fu[59]={label:"application/vnd.blueice.multipass"},fu[60]={label:"application/vnd.bmi"},fu[61]={label:"application/x-sh"},fu[62]={label:"image/prs.btif"},fu[63]={label:"application/vnd.businessobjects"},fu[64]={label:"application/x-bzip"},fu[65]={label:"application/x-bzip2"},fu[66]={label:"application/x-csh"},fu[67]={label:"text/x-c"},fu[68]={label:"application/vnd.chemdraw+xml"},fu[69]={label:"text/css"},fu[70]={label:"chemical/x-cdx"},fu[71]={label:"chemical/x-cml"},fu[72]={label:"chemical/x-csml"},fu[73]={label:"application/vnd.contact.cmsg"},fu[74]={label:"application/vnd.claymore"},fu[75]={label:"application/vnd.clonk.c4group"},fu[76]={label:"image/vnd.dvb.subtitle"},fu[77]={label:"application/cdmi-capability"},fu[78]={label:"application/cdmi-container"},fu[79]={label:"application/cdmi-domain"},fu[80]={label:"application/cdmi-object"},fu[81]={label:"application/cdmi-queue"},fu[82]={label:"application/vnd.cluetrust.cartomobile-config"},fu[83]={label:"application/vnd.cluetrust.cartomobile-config-pkg"},fu[84]={label:"image/x-cmu-raster"},fu[85]={label:"model/vnd.collada+xml"},fu[86]={label:"text/csv"},fu[87]={label:"application/mac-compactpro"},fu[88]={label:"application/vnd.wap.wmlc"},fu[89]={label:"image/cgm"},fu[90]={label:"x-conference/x-cooltalk"},fu[91]={label:"image/x-cmx"},fu[92]={label:"application/vnd.xara"},fu[93]={label:"application/vnd.cosmocaller"},fu[94]={label:"application/x-cpio"},fu[95]={label:"application/vnd.crick.clicker"},fu[96]={label:"application/vnd.crick.clicker.keyboard"},fu[97]={label:"application/vnd.crick.clicker.palette"},fu[98]={label:"application/vnd.crick.clicker.template"},fu[99]={label:"application/vnd.crick.clicker.wordbank"},fu[100]={label:"application/vnd.criticaltools.wbs+xml"},fu[101]={label:"application/vnd.rig.cryptonote"},fu[102]={label:"chemical/x-cif"},fu[103]={label:"chemical/x-cmdf"},fu[104]={label:"application/cu-seeme"},fu[105]={label:"application/prs.cww"},fu[106]={label:"text/vnd.curl"},fu[107]={label:"text/vnd.curl.dcurl"},fu[108]={label:"text/vnd.curl.mcurl"},fu[109]={label:"text/vnd.curl.scurl"},fu[110]={label:"application/vnd.curl.car"},fu[111]={label:"application/vnd.curl.pcurl"},fu[112]={label:"application/vnd.yellowriver-custom-menu"},fu[113]={label:"application/dssc+der"},fu[114]={label:"application/dssc+xml"},fu[115]={label:"application/x-debian-package"},fu[116]={label:"audio/vnd.dece.audio"},fu[117]={label:"image/vnd.dece.graphic"},fu[118]={label:"video/vnd.dece.hd"},fu[119]={label:"video/vnd.dece.mobile"},fu[120]={label:"video/vnd.uvvu.mp4"},fu[121]={label:"video/vnd.dece.pd"},fu[122]={label:"video/vnd.dece.sd"},fu[123]={label:"video/vnd.dece.video"},fu[124]={label:"application/x-dvi"},fu[125]={label:"application/vnd.fdsn.seed"},fu[126]={label:"application/x-dtbook+xml"},fu[127]={label:"application/x-dtbresource+xml"},fu[128]={label:"application/vnd.dvb.ait"},fu[129]={label:"application/vnd.dvb.service"},fu[130]={label:"audio/vnd.digital-winds"},fu[131]={label:"image/vnd.djvu"},fu[132]={label:"application/xml-dtd"},fu[133]={label:"application/vnd.dolby.mlp"},fu[134]={label:"application/x-doom"},fu[135]={label:"application/vnd.dpgraph"},fu[136]={label:"audio/vnd.dra"},fu[137]={label:"application/vnd.dreamfactory"},fu[138]={label:"audio/vnd.dts"},fu[139]={label:"audio/vnd.dts.hd"},fu[140]={label:"image/vnd.dwg"},fu[141]={label:"application/vnd.dynageo"},fu[142]={label:"application/ecmascript"},fu[143]={label:"application/vnd.ecowin.chart"},fu[144]={label:"image/vnd.fujixerox.edmics-mmr"},fu[145]={label:"image/vnd.fujixerox.edmics-rlc"},fu[146]={label:"application/exi"},fu[147]={label:"application/vnd.proteus.magazine"},fu[148]={label:"application/epub+zip"},fu[149]={label:"message/rfc822"},fu[150]={label:"application/vnd.enliven"},fu[151]={label:"application/vnd.is-xpr"},fu[152]={label:"image/vnd.xiff"},fu[153]={label:"application/vnd.xfdl"},fu[154]={label:"application/emma+xml"},fu[155]={label:"application/vnd.ezpix-album"},fu[156]={label:"application/vnd.ezpix-package"},fu[157]={label:"image/vnd.fst"},fu[158]={label:"video/vnd.fvt"},fu[159]={label:"image/vnd.fastbidsheet"},fu[160]={label:"application/vnd.denovo.fcselayout-link"},fu[161]={label:"video/x-f4v"},fu[162]={label:"video/x-flv"},fu[163]={label:"image/vnd.fpx"},fu[164]={label:"image/vnd.net-fpx"},fu[165]={label:"text/vnd.fmi.flexstor"},fu[166]={label:"video/x-fli"},fu[167]={label:"application/vnd.fluxtime.clip"},fu[168]={label:"application/vnd.fdf"},fu[169]={label:"text/x-fortran"},fu[170]={label:"application/vnd.mif"},fu[171]={label:"application/vnd.framemaker"},fu[172]={label:"image/x-freehand"},fu[173]={label:"application/vnd.fsc.weblaunch"},fu[174]={label:"application/vnd.frogans.fnc"},fu[175]={label:"application/vnd.frogans.ltf"},fu[176]={label:"application/vnd.fujixerox.ddd"},fu[177]={label:"application/vnd.fujixerox.docuworks"},fu[178]={label:"application/vnd.fujixerox.docuworks.binder"},fu[179]={label:"application/vnd.fujitsu.oasys"},fu[180]={label:"application/vnd.fujitsu.oasys2"},fu[181]={label:"application/vnd.fujitsu.oasys3"},fu[182]={label:"application/vnd.fujitsu.oasysgp"},fu[183]={label:"application/vnd.fujitsu.oasysprs"},fu[184]={label:"application/x-futuresplash"},fu[185]={label:"application/vnd.fuzzysheet"},fu[186]={label:"image/g3fax"},fu[187]={label:"application/vnd.gmx"},fu[188]={label:"model/vnd.gtw"},fu[189]={label:"application/vnd.genomatix.tuxedo"},fu[190]={label:"application/vnd.geogebra.file"},fu[191]={label:"application/vnd.geogebra.tool"},fu[192]={label:"model/vnd.gdl"},fu[193]={label:"application/vnd.geometry-explorer"},fu[194]={label:"application/vnd.geonext"},fu[195]={label:"application/vnd.geoplan"},fu[196]={label:"application/vnd.geospace"},fu[197]={label:"application/x-font-ghostscript"},fu[198]={label:"application/x-font-bdf"},fu[199]={label:"application/x-gtar"},fu[200]={label:"application/x-texinfo"},fu[201]={label:"application/x-gnumeric"},fu[202]={label:"application/vnd.google-earth.kml+xml"},fu[203]={label:"application/vnd.google-earth.kmz"},fu[204]={label:"application/vnd.grafeq"},fu[205]={label:"image/gif"},fu[206]={label:"text/vnd.graphviz"},fu[207]={label:"application/vnd.groove-account"},fu[208]={label:"application/vnd.groove-help"},fu[209]={label:"application/vnd.groove-identity-message"},fu[210]={label:"application/vnd.groove-injector"},fu[211]={label:"application/vnd.groove-tool-message"},fu[212]={label:"application/vnd.groove-tool-template"},fu[213]={label:"application/vnd.groove-vcard"},fu[214]={label:"video/h261"},fu[215]={label:"video/h263"},fu[216]={label:"video/h264"},fu[217]={label:"application/vnd.hp-hpid"},fu[218]={label:"application/vnd.hp-hps"},fu[219]={label:"application/x-hdf"},fu[220]={label:"audio/vnd.rip"},fu[221]={label:"application/vnd.hbci"},fu[222]={label:"application/vnd.hp-jlyt"},fu[223]={label:"application/vnd.hp-pcl"},fu[224]={label:"application/vnd.hp-hpgl"},fu[225]={label:"application/vnd.yamaha.hv-script"},fu[226]={label:"application/vnd.yamaha.hv-dic"},fu[227]={label:"application/vnd.yamaha.hv-voice"},fu[228]={label:"application/vnd.hydrostatix.sof-data"},fu[229]={label:"application/hyperstudio"},fu[230]={label:"application/vnd.hal+xml"},fu[231]={label:"text/html"},fu[232]={label:"application/vnd.ibm.rights-management"},fu[233]={label:"application/vnd.ibm.secure-container"},fu[234]={label:"text/calendar"},fu[235]={label:"application/vnd.iccprofile"},fu[236]={label:"image/x-icon"},fu[237]={label:"application/vnd.igloader"},fu[238]={label:"image/ief"},fu[239]={label:"application/vnd.immervision-ivp"},fu[240]={label:"application/vnd.immervision-ivu"},fu[241]={label:"application/reginfo+xml"},fu[242]={label:"text/vnd.in3d.3dml"},fu[243]={label:"text/vnd.in3d.spot"},fu[244]={label:"model/iges"},fu[245]={label:"application/vnd.intergeo"},fu[246]={label:"application/vnd.cinderella"},fu[247]={label:"application/vnd.intercon.formnet"},fu[248]={label:"application/vnd.isac.fcs"},fu[249]={label:"application/ipfix"},fu[250]={label:"application/pkix-cert"},fu[251]={label:"application/pkixcmp"},fu[252]={label:"application/pkix-crl"},fu[253]={label:"application/pkix-pkipath"},fu[254]={label:"application/vnd.insors.igm"},fu[255]={label:"application/vnd.ipunplugged.rcprofile"},fu[256]={label:"application/vnd.irepository.package+xml"},fu[257]={label:"text/vnd.sun.j2me.app-descriptor"},fu[258]={label:"application/java-archive"},fu[259]={label:"application/java-vm"},fu[260]={label:"application/x-java-jnlp-file"},fu[261]={label:"application/java-serialized-object"},fu[262]={label:"text/x-java-source,java"},fu[263]={label:"application/javascript"},fu[264]={label:"application/json"},fu[265]={label:"application/vnd.joost.joda-archive"},fu[266]={label:"video/jpm"},fu[267]={label:"image/jpeg"},fu[268]={label:"image/x-citrix-jpeg"},fu[269]={label:"image/pjpeg"},fu[270]={label:"video/jpeg"},fu[271]={label:"application/vnd.kahootz"},fu[272]={label:"application/vnd.chipnuts.karaoke-mmd"},fu[273]={label:"application/vnd.kde.karbon"},fu[274]={label:"application/vnd.kde.kchart"},fu[275]={label:"application/vnd.kde.kformula"},fu[276]={label:"application/vnd.kde.kivio"},fu[277]={label:"application/vnd.kde.kontour"},fu[278]={label:"application/vnd.kde.kpresenter"},fu[279]={label:"application/vnd.kde.kspread"},fu[280]={label:"application/vnd.kde.kword"},fu[281]={label:"application/vnd.kenameaapp"},fu[282]={label:"application/vnd.kidspiration"},fu[283]={label:"application/vnd.kinar"},fu[284]={label:"application/vnd.kodak-descriptor"},fu[285]={label:"application/vnd.las.las+xml"},fu[286]={label:"application/x-latex"},fu[287]={label:"application/vnd.llamagraphics.life-balance.desktop"},fu[288]={label:"application/vnd.llamagraphics.life-balance.exchange+xml"},fu[289]={label:"application/vnd.jam"},fu[290]={label:"application/vnd.lotus-1-2-3"},fu[291]={label:"application/vnd.lotus-approach"},fu[292]={label:"application/vnd.lotus-freelance"},fu[293]={label:"application/vnd.lotus-notes"},fu[294]={label:"application/vnd.lotus-organizer"},fu[295]={label:"application/vnd.lotus-screencam"},fu[296]={label:"application/vnd.lotus-wordpro"},fu[297]={label:"audio/vnd.lucent.voice"},fu[298]={label:"audio/x-mpegurl"},fu[299]={label:"video/x-m4v"},fu[300]={label:"application/mac-binhex40"},fu[301]={label:"application/vnd.macports.portpkg"},fu[302]={label:"application/vnd.osgeo.mapguide.package"},fu[303]={label:"application/marc"},fu[304]={label:"application/marcxml+xml"},fu[305]={label:"application/mxf"},fu[306]={label:"application/vnd.wolfram.player"},fu[307]={label:"application/mathematica"},fu[308]={label:"application/mathml+xml"},fu[309]={label:"application/mbox"},fu[310]={label:"application/vnd.medcalcdata"},fu[311]={label:"application/mediaservercontrol+xml"},fu[312]={label:"application/vnd.mediastation.cdkey"},fu[313]={label:"application/vnd.mfer"},fu[314]={label:"application/vnd.mfmp"},fu[315]={label:"model/mesh"},fu[316]={label:"application/mads+xml"},fu[317]={label:"application/mets+xml"},fu[318]={label:"application/mods+xml"},fu[319]={label:"application/metalink4+xml"},fu[320]={label:"application/vnd.mcd"},fu[321]={label:"application/vnd.micrografx.flo"},fu[322]={label:"application/vnd.micrografx.igx"},fu[323]={label:"application/vnd.eszigno3+xml"},fu[324]={label:"application/x-msaccess"},fu[325]={label:"video/x-ms-asf"},fu[326]={label:"application/x-msdownload"},fu[327]={label:"application/vnd.ms-artgalry"},fu[328]={label:"application/vnd.ms-cab-compressed"},fu[329]={label:"application/vnd.ms-ims"},fu[330]={label:"application/x-ms-application"},fu[331]={label:"application/x-msclip"},fu[332]={label:"image/vnd.ms-modi"},fu[333]={label:"application/vnd.ms-fontobject"},fu[334]={label:"application/vnd.ms-excel"},fu[335]={label:"application/vnd.ms-excel.addin.macroenabled.12"},fu[336]={label:"application/vnd.ms-excel.sheet.binary.macroenabled.12"},fu[337]={label:"application/vnd.ms-excel.template.macroenabled.12"},fu[338]={label:"application/vnd.ms-excel.sheet.macroenabled.12"},fu[339]={label:"application/vnd.ms-htmlhelp"},fu[340]={label:"application/x-mscardfile"},fu[341]={label:"application/vnd.ms-lrm"},fu[342]={label:"application/x-msmediaview"},fu[343]={label:"application/x-msmoney"},fu[344]={label:"application/vnd.openxmlformats-officedocument.presentationml.presentation"},fu[345]={label:"application/vnd.openxmlformats-officedocument.presentationml.slide"},fu[346]={label:"application/vnd.openxmlformats-officedocument.presentationml.slideshow"},fu[347]={label:"application/vnd.openxmlformats-officedocument.presentationml.template"},fu[348]={label:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},fu[349]={label:"application/vnd.openxmlformats-officedocument.spreadsheetml.template"},fu[350]={label:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"},fu[351]={label:"application/vnd.openxmlformats-officedocument.wordprocessingml.template"},fu[352]={label:"application/x-msbinder"},fu[353]={label:"application/vnd.ms-officetheme"},fu[354]={label:"application/onenote"},fu[355]={label:"audio/vnd.ms-playready.media.pya"},fu[356]={label:"video/vnd.ms-playready.media.pyv"},fu[357]={label:"application/vnd.ms-powerpoint"},fu[358]={label:"application/vnd.ms-powerpoint.addin.macroenabled.12"},fu[359]={label:"application/vnd.ms-powerpoint.slide.macroenabled.12"},fu[360]={label:"application/vnd.ms-powerpoint.presentation.macroenabled.12"},fu[361]={label:"application/vnd.ms-powerpoint.slideshow.macroenabled.12"},fu[362]={label:"application/vnd.ms-powerpoint.template.macroenabled.12"},fu[363]={label:"application/vnd.ms-project"},fu[364]={label:"application/x-mspublisher"},fu[365]={label:"application/x-msschedule"},fu[366]={label:"application/x-silverlight-app"},fu[367]={label:"application/vnd.ms-pki.stl"},fu[368]={label:"application/vnd.ms-pki.seccat"},fu[369]={label:"application/vnd.visio"},fu[370]={label:"application/vnd.visio2013"},fu[371]={label:"video/x-ms-wm"},fu[372]={label:"audio/x-ms-wma"},fu[373]={label:"audio/x-ms-wax"},fu[374]={label:"video/x-ms-wmx"},fu[375]={label:"application/x-ms-wmd"},fu[376]={label:"application/vnd.ms-wpl"},fu[377]={label:"application/x-ms-wmz"},fu[378]={label:"video/x-ms-wmv"},fu[379]={label:"video/x-ms-wvx"},fu[380]={label:"application/x-msmetafile"},fu[381]={label:"application/x-msterminal"},fu[382]={label:"application/msword"},fu[383]={label:"application/vnd.ms-word.document.macroenabled.12"},fu[384]={label:"application/vnd.ms-word.template.macroenabled.12"},fu[385]={label:"application/x-mswrite"},fu[386]={label:"application/vnd.ms-works"},fu[387]={label:"application/x-ms-xbap"},fu[388]={label:"application/vnd.ms-xpsdocument"},fu[389]={label:"audio/midi"},fu[390]={label:"application/vnd.ibm.minipay"},fu[391]={label:"application/vnd.ibm.modcap"},fu[392]={label:"application/vnd.jcp.javame.midlet-rms"},fu[393]={label:"application/vnd.tmobile-livetv"},fu[394]={label:"application/x-mobipocket-ebook"},fu[395]={label:"application/vnd.mobius.mbk"},fu[396]={label:"application/vnd.mobius.dis"},fu[397]={label:"application/vnd.mobius.plc"},fu[398]={label:"application/vnd.mobius.mqy"},fu[399]={label:"application/vnd.mobius.msl"},fu[400]={label:"application/vnd.mobius.txf"},fu[401]={label:"application/vnd.mobius.daf"},fu[402]={label:"text/vnd.fly"},fu[403]={label:"application/vnd.mophun.certificate"},fu[404]={label:"application/vnd.mophun.application"},fu[405]={label:"video/mj2"},fu[406]={label:"audio/mpeg"},fu[407]={label:"video/vnd.mpegurl"},fu[408]={label:"video/mpeg"},fu[409]={label:"application/mp21"},fu[410]={label:"audio/mp4"},fu[411]={label:"video/mp4"},fu[412]={label:"application/mp4"},fu[413]={label:"application/vnd.apple.mpegurl"},fu[414]={label:"application/vnd.musician"},fu[415]={label:"application/vnd.muvee.style"},fu[416]={label:"application/xv+xml"},fu[417]={label:"application/vnd.nokia.n-gage.data"},fu[418]={label:"application/vnd.nokia.n-gage.symbian.install"},fu[419]={label:"application/x-dtbncx+xml"},fu[420]={label:"application/x-netcdf"},fu[421]={label:"application/vnd.neurolanguage.nlu"},fu[422]={label:"application/vnd.dna"},fu[423]={label:"application/vnd.noblenet-directory"},fu[424]={label:"application/vnd.noblenet-sealer"},fu[425]={label:"application/vnd.noblenet-web"},fu[426]={label:"application/vnd.nokia.radio-preset"},fu[427]={label:"application/vnd.nokia.radio-presets"},fu[428]={label:"text/n3"},fu[429]={label:"application/vnd.novadigm.edm"},fu[430]={label:"application/vnd.novadigm.edx"},fu[431]={label:"application/vnd.novadigm.ext"},fu[432]={label:"application/vnd.flographit"},fu[433]={label:"audio/vnd.nuera.ecelp4800"},fu[434]={label:"audio/vnd.nuera.ecelp7470"},fu[435]={label:"audio/vnd.nuera.ecelp9600"},fu[436]={label:"application/oda"},fu[437]={label:"application/ogg"},fu[438]={label:"audio/ogg"},fu[439]={label:"video/ogg"},fu[440]={label:"application/vnd.oma.dd2+xml"},fu[441]={label:"application/vnd.oasis.opendocument.text-web"},fu[442]={label:"application/oebps-package+xml"},fu[443]={label:"application/vnd.intu.qbo"},fu[444]={label:"application/vnd.openofficeorg.extension"},fu[445]={label:"application/vnd.yamaha.openscoreformat"},fu[446]={label:"audio/webm"},fu[447]={label:"video/webm"},fu[448]={label:"application/vnd.oasis.opendocument.chart"},fu[449]={label:"application/vnd.oasis.opendocument.chart-template"},fu[450]={label:"application/vnd.oasis.opendocument.database"},fu[451]={label:"application/vnd.oasis.opendocument.formula"},fu[452]={label:"application/vnd.oasis.opendocument.formula-template"},fu[453]={label:"application/vnd.oasis.opendocument.graphics"},fu[454]={label:"application/vnd.oasis.opendocument.graphics-template"},fu[455]={label:"application/vnd.oasis.opendocument.image"},fu[456]={label:"application/vnd.oasis.opendocument.image-template"},fu[457]={label:"application/vnd.oasis.opendocument.presentation"},fu[458]={label:"application/vnd.oasis.opendocument.presentation-template"},fu[459]={label:"application/vnd.oasis.opendocument.spreadsheet"},fu[460]={label:"application/vnd.oasis.opendocument.spreadsheet-template"},fu[461]={label:"application/vnd.oasis.opendocument.text"},fu[462]={label:"application/vnd.oasis.opendocument.text-master"},fu[463]={label:"application/vnd.oasis.opendocument.text-template"},fu[464]={label:"image/ktx"},fu[465]={label:"application/vnd.sun.xml.calc"},fu[466]={label:"application/vnd.sun.xml.calc.template"},fu[467]={label:"application/vnd.sun.xml.draw"},fu[468]={label:"application/vnd.sun.xml.draw.template"},fu[469]={label:"application/vnd.sun.xml.impress"},fu[470]={label:"application/vnd.sun.xml.impress.template"},fu[471]={label:"application/vnd.sun.xml.math"},fu[472]={label:"application/vnd.sun.xml.writer"},fu[473]={label:"application/vnd.sun.xml.writer.global"},fu[474]={label:"application/vnd.sun.xml.writer.template"},fu[475]={label:"application/x-font-otf"},fu[476]={label:"application/vnd.yamaha.openscoreformat.osfpvg+xml"},fu[477]={label:"application/vnd.osgi.dp"},fu[478]={label:"application/vnd.palm"},fu[479]={label:"text/x-pascal"},fu[480]={label:"application/vnd.pawaafile"},fu[481]={label:"application/vnd.hp-pclxl"},fu[482]={label:"application/vnd.picsel"},fu[483]={label:"image/x-pcx"},fu[484]={label:"image/vnd.adobe.photoshop"},fu[485]={label:"application/pics-rules"},fu[486]={label:"image/x-pict"},fu[487]={label:"application/x-chat"},fu[488]={label:"application/pkcs10"},fu[489]={label:"application/x-pkcs12"},fu[490]={label:"application/pkcs7-mime"},fu[491]={label:"application/pkcs7-signature"},fu[492]={label:"application/x-pkcs7-certreqresp"},fu[493]={label:"application/x-pkcs7-certificates"},fu[494]={label:"application/pkcs8"},fu[495]={label:"application/vnd.pocketlearn"},fu[496]={label:"image/x-portable-anymap"},fu[497]={label:"image/x-portable-bitmap"},fu[498]={label:"application/x-font-pcf"},fu[499]={label:"application/font-tdpfr"},fu[500]={label:"application/x-chess-pgn"},fu[501]={label:"image/x-portable-graymap"},fu[502]={label:"image/png"},fu[503]={label:"image/x-citrix-png"},fu[504]={label:"image/x-png"},fu[505]={label:"image/x-portable-pixmap"},fu[506]={label:"application/pskc+xml"},fu[507]={label:"application/vnd.ctc-posml"},fu[508]={label:"application/postscript"},fu[509]={label:"application/x-font-type1"},fu[510]={label:"application/vnd.powerbuilder6"},fu[511]={label:"application/pgp-encrypted"},fu[512]={label:"application/pgp-signature"},fu[513]={label:"application/vnd.previewsystems.box"},fu[514]={label:"application/vnd.pvi.ptid1"},fu[515]={label:"application/pls+xml"},fu[516]={label:"application/vnd.pg.format"},fu[517]={label:"application/vnd.pg.osasli"},fu[518]={label:"text/prs.lines.tag"},fu[519]={label:"application/x-font-linux-psf"},fu[520]={label:"application/vnd.publishare-delta-tree"},fu[521]={label:"application/vnd.pmi.widget"},fu[522]={label:"application/vnd.quark.quarkxpress"},fu[523]={label:"application/vnd.epson.esf"},fu[524]={label:"application/vnd.epson.msf"},fu[525]={label:"application/vnd.epson.ssf"},fu[526]={label:"application/vnd.epson.quickanime"},fu[527]={label:"application/vnd.intu.qfx"},fu[528]={label:"video/quicktime"},fu[529]={label:"application/x-rar-compressed"},fu[530]={label:"audio/x-pn-realaudio"},fu[531]={label:"audio/x-pn-realaudio-plugin"},fu[532]={label:"application/rsd+xml"},fu[533]={label:"application/vnd.rn-realmedia"},fu[534]={label:"application/vnd.realvnc.bed"},fu[535]={label:"application/vnd.recordare.musicxml"},fu[536]={label:"application/vnd.recordare.musicxml+xml"},fu[537]={label:"application/relax-ng-compact-syntax"},fu[538]={label:"application/vnd.data-vision.rdz"},fu[539]={label:"application/rdf+xml"},fu[540]={label:"application/vnd.cloanto.rp9"},fu[541]={label:"application/vnd.jisp"},fu[542]={label:"application/rtf"},fu[543]={label:"text/richtext"},fu[544]={label:"application/vnd.route66.link66+xml"},fu[545]={label:"application/rss+xml"},fu[546]={label:"application/shf+xml"},fu[547]={label:"application/vnd.sailingtracker.track"},fu[548]={label:"image/svg+xml"},fu[549]={label:"application/vnd.sus-calendar"},fu[550]={label:"application/sru+xml"},fu[551]={label:"application/set-payment-initiation"},fu[552]={label:"application/set-registration-initiation"},fu[553]={label:"application/vnd.sema"},fu[554]={label:"application/vnd.semd"},fu[555]={label:"application/vnd.semf"},fu[556]={label:"application/vnd.seemail"},fu[557]={label:"application/x-font-snf"},fu[558]={label:"application/scvp-vp-request"},fu[559]={label:"application/scvp-vp-response"},fu[560]={label:"application/scvp-cv-request"},fu[561]={label:"application/scvp-cv-response"},fu[562]={label:"application/sdp"},fu[563]={label:"text/x-setext"},fu[564]={label:"video/x-sgi-movie"},fu[565]={label:"application/vnd.shana.informed.formdata"},fu[566]={label:"application/vnd.shana.informed.formtemplate"},fu[567]={label:"application/vnd.shana.informed.interchange"},fu[568]={label:"application/vnd.shana.informed.package"},fu[569]={label:"application/thraud+xml"},fu[570]={label:"application/x-shar"},fu[571]={label:"image/x-rgb"},fu[572]={label:"application/vnd.epson.salt"},fu[573]={label:"application/vnd.accpac.simply.aso"},fu[574]={label:"application/vnd.accpac.simply.imp"},fu[575]={label:"application/vnd.simtech-mindmapper"},fu[576]={label:"application/vnd.commonspace"},fu[577]={label:"application/vnd.yamaha.smaf-audio"},fu[578]={label:"application/vnd.smaf"},fu[579]={label:"application/vnd.yamaha.smaf-phrase"},fu[580]={label:"application/vnd.smart.teacher"},fu[581]={label:"application/vnd.svd"},fu[582]={label:"application/sparql-query"},fu[583]={label:"application/sparql-results+xml"},fu[584]={label:"application/srgs"},fu[585]={label:"application/srgs+xml"},fu[586]={label:"application/ssml+xml"},fu[587]={label:"application/vnd.koan"},fu[588]={label:"text/sgml"},fu[589]={label:"application/vnd.stardivision.calc"},fu[590]={label:"application/vnd.stardivision.draw"},fu[591]={label:"application/vnd.stardivision.impress"},fu[592]={label:"application/vnd.stardivision.math"},fu[593]={label:"application/vnd.stardivision.writer"},fu[594]={label:"application/vnd.stardivision.writer-global"},fu[595]={label:"application/vnd.stepmania.stepchart"},fu[596]={label:"application/x-stuffit"},fu[597]={label:"application/x-stuffitx"},fu[598]={label:"application/vnd.solent.sdkm+xml"},fu[599]={label:"application/vnd.olpc-sugar"},fu[600]={label:"audio/basic"},fu[601]={label:"application/vnd.wqd"},fu[602]={label:"application/vnd.symbian.install"},fu[603]={label:"application/smil+xml"},fu[604]={label:"application/vnd.syncml+xml"},fu[605]={label:"application/vnd.syncml.dm+wbxml"},fu[606]={label:"application/vnd.syncml.dm+xml"},fu[607]={label:"application/x-sv4cpio"},fu[608]={label:"application/x-sv4crc"},fu[609]={label:"application/sbml+xml"},fu[610]={label:"text/tab-separated-values"},fu[611]={label:"image/tiff"},fu[612]={label:"application/vnd.tao.intent-module-archive"},fu[613]={label:"application/x-tar"},fu[614]={label:"application/x-tcl"},fu[615]={label:"application/x-tex"},fu[616]={label:"application/x-tex-tfm"},fu[617]={label:"application/tei+xml"},fu[618]={label:"text/plain"},fu[619]={label:"application/vnd.spotfire.dxp"},fu[620]={label:"application/vnd.spotfire.sfs"},fu[621]={label:"application/timestamped-data"},fu[622]={label:"application/vnd.trid.tpt"},fu[623]={label:"application/vnd.triscape.mxs"},fu[624]={label:"text/troff"},fu[625]={label:"application/vnd.trueapp"},fu[626]={label:"application/x-font-ttf"},fu[627]={label:"text/turtle"},fu[628]={label:"application/vnd.umajin"},fu[629]={label:"application/vnd.uoml+xml"},fu[630]={label:"application/vnd.unity"},fu[631]={label:"application/vnd.ufdl"},fu[632]={label:"text/uri-list"},fu[633]={label:"application/vnd.uiq.theme"},fu[634]={label:"application/x-ustar"},fu[635]={label:"text/x-uuencode"},fu[636]={label:"text/x-vcalendar"},fu[637]={label:"text/x-vcard"},fu[638]={label:"application/x-cdlink"},fu[639]={label:"application/vnd.vsf"},fu[640]={label:"model/vrml"},fu[641]={label:"application/vnd.vcx"},fu[642]={label:"model/vnd.mts"},fu[643]={label:"model/vnd.vtu"},fu[644]={label:"application/vnd.visionary"},fu[645]={label:"video/vnd.vivo"},fu[646]={label:"application/ccxml+xml,"},fu[647]={label:"application/voicexml+xml"},fu[648]={label:"application/x-wais-source"},fu[649]={label:"application/vnd.wap.wbxml"},fu[650]={label:"image/vnd.wap.wbmp"},fu[651]={label:"audio/x-wav"},fu[652]={label:"application/davmount+xml"},fu[653]={label:"application/x-font-woff"},fu[654]={label:"application/wspolicy+xml"},fu[655]={label:"image/webp"},fu[656]={label:"application/vnd.webturbo"},fu[657]={label:"application/widget"},fu[658]={label:"application/winhlp"},fu[659]={label:"text/vnd.wap.wml"},fu[660]={label:"text/vnd.wap.wmlscript"},fu[661]={label:"application/vnd.wap.wmlscriptc"},fu[662]={label:"application/vnd.wordperfect"},fu[663]={label:"application/vnd.wt.stf"},fu[664]={label:"application/wsdl+xml"},fu[665]={label:"image/x-xbitmap"},fu[666]={label:"image/x-xpixmap"},fu[667]={label:"image/x-xwindowdump"},fu[668]={label:"application/x-x509-ca-cert"},fu[669]={label:"application/x-xfig"},fu[670]={label:"application/xhtml+xml"},fu[671]={label:"application/xml"},fu[672]={label:"application/xcap-diff+xml"},fu[673]={label:"application/xenc+xml"},fu[674]={label:"application/patch-ops-error+xml"},fu[675]={label:"application/resource-lists+xml"},fu[676]={label:"application/rls-services+xml"},fu[677]={label:"application/resource-lists-diff+xml"},fu[678]={label:"application/xslt+xml"},fu[679]={label:"application/xop+xml"},fu[680]={label:"application/x-xpinstall"},fu[681]={label:"application/xspf+xml"},fu[682]={label:"application/vnd.mozilla.xul+xml"},fu[683]={label:"chemical/x-xyz"},fu[684]={label:"text/yaml"},fu[685]={label:"application/yang"},fu[686]={label:"application/yin+xml"},fu[687]={label:"application/vnd.zul"},fu[688]={label:"application/zip"},fu[689]={label:"application/vnd.handheld-entertainment+xml"},fu[690]={label:"application/vnd.zzazz.deck+xml"};var Au=fu;function Ou(e){var t=e.suggestion,a=e.index,n=e.itemProps,r=e.highlightedIndex===a,o=(e.selectedItem||"").indexOf(t.label)>-1;return i.a.createElement(Pe.a,wu({},n,{key:t.label,selected:r,component:"div",style:{fontWeight:o?500:400}}),t.label)}Ou.propTypes={highlightedIndex:o.a.number,index:o.a.number,itemProps:o.a.object,selectedItem:o.a.string,suggestion:o.a.shape({label:o.a.string}).isRequired};var xu=function(e){function t(e){var a,n,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,i=bu(t).call(this,e),a=!i||"object"!==hu(i)&&"function"!=typeof i?vu(n):i,Pu(vu(a),"state",{inputValue:"",selectedItem:[]}),Pu(vu(a),"handleKeyDown",function(e){var t=a.state,n=t.inputValue,i=t.selectedItem;i.length&&!n.length&&8===e.keyCode&&a.setState({selectedItem:i.slice(0,i.length-1)})}),Pu(vu(a),"handleInputChange",function(e){a.setState({inputValue:e.target.value})}),Pu(vu(a),"handleChange",function(e){var t=a.state.selectedItem;-1===t.indexOf(e)&&(t=[].concat(gu(t),[e])),a.props.onChange(t,a.props.fieldName),a.setState({inputValue:"",selectedItem:t})}),Pu(vu(a),"handleDelete",function(e){return function(){a.setState(function(t){var a=gu(t.selectedItem);return a.splice(a.indexOf(e),1),{selectedItem:a}})}}),a.isNotCreator=Ka.a.isNotCreator(),a}var a,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Eu(e,t)}(t,i.a.Component),a=t,(n=[{key:"componentDidMount",value:function(){this.props.value&&this.setState({selectedItem:this.props.value})}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.value,r=this.state,o=r.inputValue,l=r.selectedItem;return i.a.createElement(mu.a,{id:"downshift-multiple",inputValue:o,onChange:this.handleChange,selectedItem:n},function(t){var n=t.getInputProps,r=t.getItemProps,o=t.isOpen,s=t.inputValue,c=t.selectedItem,u=t.highlightedIndex;return i.a.createElement("div",{className:a.container},function(e){var t=e.InputProps,a=e.classes,n=e.ref,r=Su(e,["InputProps","classes","ref"]),o=Ka.a.isNotCreator();return i.a.createElement(he.a,wu({disabled:o,InputProps:Cu({inputRef:n,classes:{root:a.inputRoot,input:a.inputInput}},t)},r))}({fullWidth:!0,classes:a,InputProps:n({startAdornment:l.map(function(t){return i.a.createElement(Na.a,{key:t,tabIndex:-1,label:t,className:a.chip,clickable:e.isNotCreator})}),onChange:e.handleInputChange,onKeyDown:e.handleKeyDown})}),o?i.a.createElement(me.a,{className:a.paper,square:!0},function(e){var t=du()(e.trim()).toLowerCase(),a=t.length,n=0;return 0===a?[]:Au.filter(function(e){var i=n<5&&e.label.slice(0,a).toLowerCase()===t;return i&&(n+=1),i})}(s).map(function(e,t){return Ou({suggestion:e,index:t,itemProps:r({item:e.label}),highlightedIndex:u,selectedItem:c})})):null)})}}])&&yu(a.prototype,n),r&&yu(a,r),t}();xu.propTypes={classes:o.a.object.isRequired};var Iu=Object(b.a)(function(e){return{root:{flexGrow:1,height:250},container:{flexGrow:1,position:"relative"},paper:{position:"absolute",zIndex:1,marginTop:e.spacing.unit,left:0,right:0},chip:{margin:"".concat(e.spacing.unit/2,"px ").concat(e.spacing.unit/4,"px")},inputRoot:{flexWrap:"wrap"},inputInput:{width:"auto",flexGrow:1},divider:{height:2*e.spacing.unit}}})(xu),Tu=a(1742),ku=a.n(Tu);function Du(e){return(Du="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _u(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Mu(e){return(Mu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ru(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ju(e,t){return(ju=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Nu(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Lu=function(e){function t(e){var a,n,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,i=Mu(t).call(this,e),a=!i||"object"!==Du(i)&&"function"!=typeof i?Ru(n):i,Nu(Ru(a),"handleChange",function(e){return function(t){a.setState(Nu({},e,t.target.value))}}),a.state={editable:!1,newValue:null,initValue:null},a.editInlineToggle=a.editInlineToggle.bind(Ru(a)),a.saveField=a.saveField.bind(Ru(a)),a.isNotCreator=Ka.a.isNotCreator(),a}var a,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ju(e,t)}(t,i.a.Component),a=t,r=[{key:"getDerivedStateFromProps",value:function(e,t){return t.initValue!==e.fieldValue?{newValue:e.fieldValue}:null}}],(n=[{key:"editInlineToggle",value:function(){this.setState({editable:!this.state.editable,newValue:this.props.fieldValue})}},{key:"componentDidMount",value:function(){this.setState({newValue:this.props.fieldValue,initValue:this.props.fieldValue})}},{key:"saveField",value:function(){this.setState({editable:!1}),this.props.saveFieldCallback(this.props.fieldName,this.state.newValue,this.fieldIndex)}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.intl;return this.state.editable?("number"==typeof this.props.fieldIndex?this.fieldIndex=this.props.fieldIndex:this.fieldIndex=!1,i.a.createElement("form",{className:t.container,noValidate:!0,autoComplete:"off",onSubmit:this.saveField},"select"===this.props.type&&i.a.createElement(mn.a,{native:!0,value:this.state.newValue,onChange:this.handleChange("newValue"),disabled:this.isNotCreator,inputProps:{name:"newValue",id:"newValue-native-simple"}},this.props.defaultValues.map(function(e){return i.a.createElement("option",{value:e},e)})),"input"===this.props.type&&i.a.createElement("input",{type:"text",onChange:this.handleChange("newValue"),value:this.state.newValue,disabled:this.isNotCreator}),"textarea"===this.props.type&&i.a.createElement(he.a,{id:"standard-textarea",placeholder:a.formatMessage({id:"Apis.Details.Resources.InlineEditableField.placeholder",defaultMessage:"Placeholder"}),multiline:!0,className:t.textArea,margin:"normal",onChange:this.handleChange("newValue"),value:this.state.newValue,disabled:this.isNotCreator}),i.a.createElement(ue.a,{className:t.button,onClick:this.saveField,disabled:this.isNotCreator},i.a.createElement(q.a,null)),i.a.createElement(ue.a,{className:t.button,onClick:this.editInlineToggle,disabled:this.isNotCreator},i.a.createElement(ku.a,null)))):i.a.createElement("span",{onClick:this.editInlineToggle,className:"fieldView"},this.state.newValue?i.a.createElement("span",null,this.state.newValue):this.props.initText?i.a.createElement("span",null,this.props.initText):i.a.createElement("span",null,i.a.createElement(d.a,{id:"Apis.Details.Resources.InlineEditableField.click.to.add",defaultMessage:"Click to add"})))}}])&&_u(a.prototype,n),r&&_u(a,r),t}();Lu.propTypes={classes:o.a.object.isRequired};var qu=Object(d.d)(Object(b.a)(function(e){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit},dense:{marginTop:e.spacing.unit},menu:{width:200},button:{minWidth:2*e.spacing.unit,padding:0},textArea:{flex:1}}})(Lu));function Wu(e){return(Wu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fu(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Bu(e){return(Bu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Uu(e,t){return(Uu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Vu(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Gu=function(e){function t(e){var a,n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,i=Bu(t).call(this,e),a=!i||"object"!==Wu(i)&&"function"!=typeof i?zu(n):i,Vu(zu(a),"onChangePropName",function(e){a.setState({newPropName:e.target.value})}),Vu(zu(a),"handleDeleteCheck",function(e,t){return function(n){a.setState({deleteChecked:n.target.checked}),a.props.addRemoveToDeleteList(e,t)}});return a.props.methodData.security&&0!==a.props.methodData.security.length&&a.props.methodData.security.map(function(e,t){e.OAuth2Security&&e.OAuth2Security}),a.state={visible:!1,method:a.props.methodData,scopes:null,deleteChecked:!1,newPropName:""},a.propsSubmitHandler=a.propsSubmitHandler.bind(zu(a)),a.saveFieldCallback=a.saveFieldCallback.bind(zu(a)),a.toggleMethodData=a.toggleMethodData.bind(zu(a)),a.deleteResource=a.deleteResource.bind(zu(a)),a.handleScopeChange=a.handleScopeChange.bind(zu(a)),a.changeContentTypes=a.changeContentTypes.bind(zu(a)),a.handlePolicyChange=a.handlePolicyChange.bind(zu(a)),a.handleAuthTypeChange=a.handleAuthTypeChange.bind(zu(a)),a.isNotCreator=Ka.a.isNotCreator(),a}var a,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Uu(e,t)}(t,i.a.Component),a=t,(n=[{key:"componentDidMount",value:function(){this.props.onRef(this)}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"handleScopeChange",value:function(e){this.handleMethodChangeInSwaggerRoot("x-scope",e.target.value)}},{key:"handlePolicyChange",value:function(e){this.handleMethodChangeInSwaggerRoot("x-throttling-tier",e.target.value)}},{key:"handleAuthTypeChange",value:function(e){this.handleMethodChangeInSwaggerRoot("x-auth-type",e.target.value)}},{key:"handleMethodChangeInSwaggerRoot",value:function(e,t){var a=this.state.method;a[e]=t,this.setState({method:a}),this.props.updatePath(this.props.path,this.props.method,this.state.method)}},{key:"propsSubmitHandler",value:function(e){e.preventDefault();var t={name:this.state.newPropName,description:"",required:!1,in:"query",type:"string"};this.state.method.parameters||(this.state.method.parameters=[]),this.state.method.parameters.push(t),this.props.updatePath(this.props.path,this.props.method,this.state.method)}},{key:"deleteParam",value:function(e){e>-1&&this.setState(function(t,a){var n=JSON.parse(JSON.stringify(t.method));return n.parameters.splice(e,1),a.updatePath(a.path,a.method,n),{method:n}})}},{key:"saveFieldCallback",value:function(e,t,a){if(-1!==e.indexOf(".")){var n=e.split("param.")[1],i=this.state.method;i.parameters[a][n]=t,this.setState({method:i})}else{var r=this.state.method;r[e]=t,this.setState({method:r})}this.props.updatePath(this.props.path,this.props.method,this.state.method)}},{key:"toggleMethodData",value:function(){this.setState({visible:!this.state.visible})}},{key:"deleteResource",value:function(){this.props.updatePath(this.props.path,this.props.method,null)}},{key:"toggleDeleteCheck",value:function(e){this.setState({deleteChecked:e}),this.forceUpdate()}},{key:"changeContentTypes",value:function(e,t){e&&e.length>0&&this.setState(function(a,n){return a.method[t]=e,n.updatePath(n.path,n.method,a.method),{method:a.method}})}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.method,n=e.path,r=e.scopes,o=e.theme,l=e.intl,s=e.policyLevel,c=e.isAPIProduct,u=this.state.method,p=o.custom.resourceChipColors?o.custom.resourceChipColors[a]:null,m="#000000";return p?m=o.palette.getContrastText(o.custom.resourceChipColors[a]):(console.log("Check the theme settings. The resourceChipColors is not populated properlly"),p="#cccccc"),i.a.createElement("div",{className:t.resourceRoot},i.a.createElement("div",{className:t.listItem},!0!==c&&i.a.createElement(Et.a,{control:i.a.createElement(Ae.a,{checked:this.state.deleteChecked,onChange:this.handleDeleteCheck(n,a),value:""}),label:"",className:t.formControl}),i.a.createElement("a",{onClick:this.toggleMethodData,className:t.link},i.a.createElement(Na.a,{label:a,style:{backgroundColor:p,color:m},className:t.chipActive})),i.a.createElement("a",{onClick:this.toggleMethodData},i.a.createElement(h.a,{variant:"h6",className:t.pathDisplay},n)),!0!==c&&i.a.createElement("div",null,i.a.createElement(qu,{saveFieldCallback:this.saveFieldCallback,initText:l.formatMessage({id:"Apis.Details.Resources.Resource.click.here.to.add.summary",defaultMessage:"Click here to add summary"}),fieldValue:u.summery,type:"textarea",fieldName:"summery"}),i.a.createElement(K.a,{onClick:this.deleteResource,className:t.deleteButton,disabled:this.isNotCreator},i.a.createElement(va.a,null,"delete")))),this.state.visible&&i.a.createElement("div",null,i.a.createElement(ce.a,{container:!0,spacing:7},i.a.createElement(ce.a,{item:!0,xs:12,className:t.descriptionWrapperUp},i.a.createElement(h.a,{variant:"caption",className:t.descriptionWrapper},!0!==c&&i.a.createElement(qu,{saveFieldCallback:this.saveFieldCallback,initText:l.formatMessage({id:"Apis.Details.Resources.Resource.click.here.to.add.description",defaultMessage:"Click here to add description"}),fieldValue:u.description,type:"textarea",fieldName:"description"}))),i.a.createElement(ce.a,{item:!0,xs:12},i.a.createElement(yo.a,null,i.a.createElement(vo.a,{className:t.row},i.a.createElement(bo.a,null,i.a.createElement(h.a,{variant:"subtitle2"},i.a.createElement(d.a,{id:"Apis.Details.Resources.Resource.produces",defaultMessage:"Produces"}))),i.a.createElement(bo.a,null,i.a.createElement(h.a,{variant:"subtitle2"},i.a.createElement(d.a,{id:"Apis.Details.Resources.Resource.consumes",defaultMessage:"Consumes"}))),i.a.createElement(bo.a,null,i.a.createElement(h.a,{variant:"subtitle2"},i.a.createElement(d.a,{id:"Apis.Details.Resources.Resource.scopes",defaultMessage:"Scopes"})))),i.a.createElement(vo.a,{className:t.row},i.a.createElement(bo.a,null,i.a.createElement(Iu,{value:u.produces,onChange:this.changeContentTypes,fieldName:"produces"})),i.a.createElement(bo.a,null,i.a.createElement(Iu,{value:u.consumes,onChange:this.changeContentTypes,fieldName:"consumes"})),i.a.createElement(bo.a,null,i.a.createElement(mn.a,{className:t.selectWidth,disabled:this.isNotCreator,value:u["x-scope"],onChange:this.handleScopeChange,inputProps:{name:"scopes",id:"age-simple"}},r.map(function(e){return i.a.createElement(Pe.a,{key:e.name,value:e.name},e.name)})))))),i.a.createElement(ce.a,{item:!0,xs:12},i.a.createElement(yo.a,null,i.a.createElement(vo.a,{className:t.row},i.a.createElement(bo.a,null,i.a.createElement(h.a,{variant:"subtitle2"},i.a.createElement(d.a,{id:"Apis.Details.Resources.Resource.authtype",defaultMessage:"Auth Type"}))),"perResource"===s&&i.a.createElement(bo.a,null,i.a.createElement(h.a,{variant:"subtitle2"},i.a.createElement(d.a,{id:"Apis.Details.Resources.Resource.throttling.policy",defaultMessage:"Throttling Policy"})))),i.a.createElement(vo.a,{className:t.row},i.a.createElement(bo.a,null,i.a.createElement(mn.a,{className:t.selectWidth,value:u["x-auth-type"],onChange:this.handleAuthTypeChange,fieldName:"Auth Type",disabled:this.isNotCreator},i.a.createElement(Pe.a,{key:"None",value:"None"},i.a.createElement(d.a,{id:"Apis.Details.Resources.Resource.authType.none",defaultMessage:"None"})),i.a.createElement(Pe.a,{key:"Application",value:"Application"},i.a.createElement(d.a,{id:"Apis.Details.Resources.Resource.authType.application",defaultMessage:"Application"})),i.a.createElement(Pe.a,{key:"Application User",value:"Application User"},i.a.createElement(d.a,{id:"Apis.Details.Resources.Resource.authType.application_user",defaultMessage:"Application User"})),i.a.createElement(Pe.a,{key:"Application & Application User",value:"Application & Application User"},i.a.createElement(d.a,{id:"Apis.Details.Resources.Resource.authType.application_and_user",defaultMessage:"Application & Application User"})))),"perResource"===s&&i.a.createElement(bo.a,null,i.a.createElement(mn.a,{className:t.selectWidth,value:u["x-throttling-tier"],onChange:this.handlePolicyChange,fieldName:"Throttling Policy"},this.props.apiPolicies.map(function(e){return i.a.createElement(Pe.a,{key:e.name,value:e.name},e.displayName)})))))),!0!==c&&i.a.createElement(ce.a,{item:!0,xs:12,className:t.addParamRow},i.a.createElement(h.a,{variant:"subtitle2"},i.a.createElement(d.a,{id:"Apis.Details.Resources.Resource.parameters",defaultMessage:"Parameters"})),i.a.createElement("form",{onSubmit:this.propsSubmitHandler,className:t.propsForm},i.a.createElement(he.a,{id:"outlined-dense",label:"Parameter Name",className:Vn()(t.textField,t.dense),margin:"dense",variant:"outlined",value:this.state.newPropName,onChange:this.onChangePropName,disabled:this.isNotCreator}),i.a.createElement(ue.a,{variant:"contained",className:t.button,onClick:this.propsSubmitHandler,disabled:this.isNotCreator},i.a.createElement(d.a,{id:"Apis.Details.Resources.Resource.add",defaultMessage:"Add"})))),i.a.createElement(ce.a,{item:!0,xs:12},u.parameters&&u.parameters.length>0&&i.a.createElement(yo.a,null,i.a.createElement(Cs.a,null,i.a.createElement(vo.a,null,i.a.createElement(bo.a,null,i.a.createElement(d.a,{id:"Apis.Details.Resources.Resource.parameter.name",defaultMessage:"Parameter Name"})),i.a.createElement(bo.a,null,i.a.createElement(d.a,{id:"Apis.Details.Resources.Resource.description",defaultMessage:"Description"})),i.a.createElement(bo.a,null,i.a.createElement(d.a,{id:"Apis.Details.Resources.Resource.parameter.type",defaultMessage:"Parameter Type"})),i.a.createElement(bo.a,null,i.a.createElement(d.a,{id:"Apis.Details.Resources.Resource.data.type",defaultMessage:"Data Type"})),i.a.createElement(bo.a,null,i.a.createElement(d.a,{id:"Apis.Details.Resources.Resource.required",defaultMessage:"Required"})),i.a.createElement(bo.a,null,i.a.createElement(d.a,{id:"Apis.Details.Resources.Resource.delete",defaultMessage:"Delete"})))),i.a.createElement(ws.a,null,u.parameters.map(function(e,a){var n=this;return i.a.createElement(vo.a,{key:a},i.a.createElement(bo.a,null,i.a.createElement(qu,{type:"input",saveFieldCallback:this.saveFieldCallback,fieldIndex:a,fieldValue:e.name,fieldName:"param.name"})),i.a.createElement(bo.a,null,i.a.createElement(qu,{type:"input",saveFieldCallback:this.saveFieldCallback,fieldIndex:a,fieldValue:e.description,fieldName:"param.description"})),i.a.createElement(bo.a,null,i.a.createElement(qu,{type:"select",saveFieldCallback:this.saveFieldCallback,fieldIndex:a,fieldValue:e.in,defaultValues:["body","query","header","formData"],fieldName:"param.in"})),i.a.createElement(bo.a,null,i.a.createElement(qu,{type:"input",saveFieldCallback:this.saveFieldCallback,fieldIndex:a,fieldValue:e.type,fieldName:"param.type"})),i.a.createElement(bo.a,null,i.a.createElement(qu,{type:"select",saveFieldCallback:this.saveFieldCallback,fieldIndex:a,fieldValue:e.required,defaultValues:["true","false"],fieldName:"param.required"})),i.a.createElement(bo.a,null,this.isNotCreator?i.a.createElement(Ga.a,{color:"disabled"}):i.a.createElement("a",{onClick:function(){return n.deleteParam(a)},className:t.deleteLink},i.a.createElement(Ga.a,null))))},this)))))))}}])&&Fu(a.prototype,n),r&&Fu(a,r),t}();Gu.propTypes={classes:o.a.object.isRequired,theme:o.a.object.isRequired};var Hu=Object(d.d)(Object(b.a)(function(e){return{root:{flexGrow:1,marginTop:10},container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:400},mainTitle:{paddingLeft:20},scopes:{width:400},divider:{marginTop:20,marginBottom:20},chip:{margin:e.spacing.unit,color:e.palette.text.secondary,minWidth:100},chipActive:{margin:e.spacing.unit,color:e.palette.text.secondary,background:e.palette.background.active,minWidth:100,borderRadius:e.shape.borderRadius,cursor:"pointer"},paper:{padding:20},link:{cursor:"pointer"},listItem:{paddingLeft:0,display:"flex",alignItems:"center"},formControl:{paddingRight:0,marginRight:0},resourceRoot:{background:e.palette.grey[100],paddingLeft:e.spacing.unit,paddingRight:e.spacing.unit,borderRadius:e.shape.borderRadius,marginBottom:e.spacing.unit},deleteButton:{marginLeft:"auto"},pathDisplay:{marginRight:2*e.spacing.unit,marginLeft:2*e.spacing.unit},descriptionWrapper:{paddingTop:e.spacing.unit,paddingBottom:e.spacing.unit},scopeSelect:{width:"100%"},selectWidth:{margin:1*e.spacing.unit,minWidth:120},descriptionWrapperUp:{paddingBottom:"0 !important"},addParamRow:{display:"flex",flexDirection:"row",alignItems:"center"},propsForm:{display:"flex",alignItems:"center"},deleteLink:{cursor:"pointer"},row:{"& td":{borderBottom:"none",verticalAlign:"bottom",width:"33%",paddingLeft:0}}}},{withTheme:!0})(Gu));function Ku(e){return(Ku="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ju(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Qu(e){return(Qu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $u(e,t){return($u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Zu(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Xu=function(e){function t(e){var a,n,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,i=Qu(t).call(this,e),a=!i||"object"!==Ku(i)&&"function"!=typeof i?Yu(n):i,Zu(Yu(a),"handleChange",function(e){return function(t){var n=a.state.tmpMethods,i=n.indexOf(e);t.target.checked?-1===i&&n.push(e):i>-1&&n.splice(i,1),a.setState({tmpMethods:n})}}),Zu(Yu(a),"onChangeInput",function(e){return function(t){var n=t.target.value;-1===n.indexOf("/")&&(n="/"+n),a.setState(Zu({},e,n))}}),Zu(Yu(a),"handleCheckAll",function(e){var t=a.state.paths,n=[];if(e.target.checked){for(var i=0;i<a.childResources.length;i++)a.childResources[i]&&a.childResources[i].toggleDeleteCheck(!0);for(var r in t)if(t.hasOwnProperty(r))if(Object.keys(r)&&Object.keys(r).length>0){var o=t[r];for(var l in o)o.hasOwnProperty(l)&&n.push({path:r,method:l})}else console.debug("Error with path object");a.setState({allChecked:!0}),a.setState({pathDeleteList:n})}else{for(var s=0;s<a.childResources.length;s++)a.childResources[s]&&a.childResources[s].toggleDeleteCheck(!1);a.setState({allChecked:!1}),a.setState({pathDeleteList:[]})}}),Zu(Yu(a),"deleteSelected",function(){for(var e=a.state.paths,t=a.state.pathDeleteList,n=0;n<t.length;n++){delete e[t[n].path][t[n].method];for(var i=[],r=0;r<a.childResources.length;r++)a.childResources[r]&&a.childResources[r].props.path===t[n].path&&a.childResources[r].props.method===t[n].method&&i.push(r);for(var o=0;o<i.length;o++)a.childResources.splice(o,1)}for(var l=0;l<t.length;l++)t.splice(l,1);a.setState({pathDeleteList:t}),a.setState({path:e});for(var s=0;s<a.childResources.length;s++)a.childResources[s]&&a.childResources[s].toggleDeleteCheck(!1)}),Zu(Yu(a),"toggleAddResource",function(){a.setState({showAddResource:!a.state.showAddResource})}),Zu(Yu(a),"toggleAssignPolicy",function(){a.setState({showPolicy:!a.state.showPolicy,showAddResource:!1})}),Zu(Yu(a),"advancedPolicyTypeChange",function(e){var t=a.props.api.apiThrottlingPolicy;"perAPI"===e.target.value&&a.setState({selectedPolicy:t}),a.setState({policyLevel:e.target.value})}),Zu(Yu(a),"handlePolicyChange",function(e){a.setState({selectedPolicy:e.target.value})}),a.state={tmpMethods:[],tmpResourceName:"",paths:{},swagger:{},scopes:[],pathDeleteList:[],allChecked:!1,notFound:!1,showAddResource:!1,showPolicy:!1,apiPolicies:[],selectedPolicy:e.api.apiThrottlingPolicy,policyLevel:e.api.apiThrottlingPolicy?"perAPI":"perResource"},a.api=new _,a.api_uuid=e.api.id,a.addResources=a.addResources.bind(Yu(a)),a.onChange=a.onChange.bind(Yu(a)),a.onChangeInput=a.onChangeInput.bind(Yu(a)),a.updatePath=a.updatePath.bind(Yu(a)),a.addRemoveToDeleteList=a.addRemoveToDeleteList.bind(Yu(a)),a.updateResources=a.updateResources.bind(Yu(a)),a.handleScopeChange=a.handleScopeChange.bind(Yu(a)),a.handleCheckAll=a.handleCheckAll.bind(Yu(a)),a.deleteSelected=a.deleteSelected.bind(Yu(a)),a.advancedPolicyTypeChange=a.advancedPolicyTypeChange.bind(Yu(a)),a.handlePolicyChange=a.handlePolicyChange.bind(Yu(a)),a.updateAPI=a.updateAPI.bind(Yu(a)),a.childResources=[],a.isNotCreator=Ka.a.isNotCreator(),a}var a,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$u(e,t)}(t,i.a.Component),a=t,(n=[{key:"onChange",value:function(e){this.setState({tmpMethods:e})}},{key:"handleScopeChange",value:function(e){this.setState({scopes:e.target.value}),this.handleScopeChangeInSwaggerRoot(e.target.value)}},{key:"handleScopeChangeInSwaggerRoot",value:function(e){var t=this.state.swagger;t.security?t.security.map(function(t,a){t.OAuth2Security&&(t.OAuth2Security=e)}):t.security=[{OAuth2Security:e}],this.setState({swagger:t})}},{key:"componentDidMount",value:function(){var e=this;new _;_.get(this.api_uuid).then(function(t){e.setState({api:t,scopes:t.scopes})}).catch(function(t){var a=t.status;404===a?e.setState({notFound:!0}):401===a&&Jr()}),_.policies("api").then(function(t){e.setState({apiPolicies:t.obj.list})}).catch(function(t){var a=t.status;404===a?e.setState({notFound:!0}):401===a&&Jr()}),this.api.getSwagger(this.api_uuid).then(function(t){var a=[];t.obj.security&&0!==t.obj.security.length&&t.obj.security.map(function(e,t){e.OAuth2Security&&(a=e.OAuth2Security)}),e.setState({swagger:t.obj,scopes:a}),void 0!==t.obj.paths&&e.setState({paths:t.obj.paths})}).catch(function(t){var a=t.status;404===a?e.setState({notFound:!0}):401===a&&e.setState({isAuthorize:!1})})}},{key:"addResources",value:function(){var e=this,t={description:"",parameters:[],"x-auth-type":"Application & Application User","x-throttling-tier":"Unlimited",responses:{200:{description:""}}},a={description:"","x-auth-type":"Application & Application User","x-throttling-tier":"Unlimited",responses:{200:{description:""}},parameters:[{name:"Payload",description:"Request Body",required:!1,in:"body",schema:{type:"object",properties:{payload:{type:"string"}}}}]},n={description:"","x-auth-type":"Application & Application User","x-throttling-tier":"Unlimited",responses:{200:{description:""}},parameters:[]},i={"x-auth-type":"Application & Application User","x-throttling-tier":"Unlimited",responses:{200:{description:""}},parameters:[]},r={},o={},l=this.state.paths;Object.keys(l).length>0&&this.state.tmpResourceName in l&&(o=l[this.state.tmpResourceName]),oo.a.HTTP_METHODS.map(function(l){switch(l){case"get":"get"in o?r.get=o.get:-1!==e.state.tmpMethods.indexOf("get")&&(r.get=t);break;case"post":"post"in o&&(r.post=o.post),-1!==e.state.tmpMethods.indexOf("post")&&(r.post=a);break;case"put":"put"in o&&(r.put=o.put),-1!==e.state.tmpMethods.indexOf("put")&&(r.put=a);break;case"patch":"patch"in o&&(r.patch=o.patch),-1!==e.state.tmpMethods.indexOf("patch")&&(r.patch=a);break;case"delete":"delete"in o&&(r.delete=o.delete),-1!==e.state.tmpMethods.indexOf("delete")&&(r.delete=n);break;case"head":"head"in o&&(r.head=o.head),-1!==e.state.tmpMethods.indexOf("head")&&(r.head=i)}}),l[this.state.tmpResourceName]=r,this.setState({paths:l})}},{key:"updatePath",value:function(e,t,a){var n=this.state.paths,i=uu()(n);null===a?delete i[e][t]:i[e][t]=a,this.setState({paths:i})}},{key:"updateResources",value:function(){var e=this,t=this.state,a=t.swagger,n=t.paths,i=t.api,r=this.props.intl,o=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){Zu(e,t,a[t])})}return e}({},a,{paths:uu()(n)}),l=Object.keys(n).filter(function(e){return!Lr()(n[e])}).reduce(function(e,t){return e[t]=n[t],e},{});o.paths=l,i.updateSwagger(o).then(function(){se.info(r.formatMessage({id:"Apis.Details.Resources.Resources.api.path.updated.successfully",defaultMessage:"API Resources updated successfully!"})),e.updateAPI()}).catch(function(t){var a=t.status;404===a?e.setState({notFound:!0}):401===a&&e.setState({isAuthorize:!1})})}},{key:"updateAPI",value:function(){var e=this,t=this.props,a=t.intl,n=t.api,i=t.api.id,r=this.state,o=r.policyLevel,l=r.selectedPolicy;n.get(i).then(function(t){var r;r="perAPI"===o?l:null;var s=t.body;s.apiThrottlingPolicy=r,n.update(s).then(function(){return se.info(a.formatMessage({id:"Apis.Details.Resources.Resources.api.updated.successfully",defaultMessage:"API updated successfully!"})),e.api.getSwagger(i)}).then(function(t){void 0!==t.obj.paths&&e.setState({paths:t.obj.paths})}).catch(function(e){console.error(e),se.error(a.formatMessage({id:"Apis.Details.Resources.Resources.something.went.wrong.while.updating.the.api",defaultMessage:"Error occurred while updating API"}))})}).catch(function(e){console.error(e),se.error(a.formatMessage({id:"Apis.Details.Resources.Resources.something.went.wrong.while.getting.the.api",defaultMessage:"Error occurred while retrieving API"}))})}},{key:"addRemoveToDeleteList",value:function(e,t){for(var a=this.state.pathDeleteList,n={path:e,method:t},i=!1,r=0;r<a.length;r++)a[r].path===e&&a[r].method===t&&(a.splice(r,1),i=!0);i||a.push(n),this.setState({pathDeleteList:a})}},{key:"render",value:function(){var e,t=this,a=this.state,n=a.api,r=a.showAddResource,o=a.showPolicy,l=a.policyLevel,s=a.apiPolicies,c=a.selectedPolicy;if(this.state.notFound)return i.a.createElement(y,{message:this.props.resourceNotFountMessage});if(!n)return i.a.createElement(Kn.a,null);var u=this.state.paths,p=this.props,m=p.classes,f=p.intl;return i.a.createElement("div",{className:m.root},i.a.createElement("div",{className:m.titleWrapper},i.a.createElement(h.a,{variant:"h4",align:"left",className:m.mainTitle},i.a.createElement(d.a,{id:"Apis.Details.Resources.Resources.resources",defaultMessage:"Resources"})),i.a.createElement(ue.a,{size:"small",className:m.button,onClick:this.toggleAddResource,disabled:this.isNotCreator},i.a.createElement(Ms.a,{className:m.buttonIcon}),i.a.createElement(d.a,{id:"Apis.Details.Resources.Resources.add.new.resource.button",defaultMessage:"Add New Resource"})),i.a.createElement(ue.a,{size:"small",className:m.button,onClick:this.toggleAssignPolicy,disabled:this.isNotCreator},i.a.createElement(wr.a,{className:m.buttonIcon}),i.a.createElement(d.a,{id:"Apis.Details.Resources.Resources.assign.policies",defaultMessage:"Assign Advanced Throttling Policies"}))),i.a.createElement("div",{className:m.contentWrapper},r&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:m.addNewWrapper},i.a.createElement(h.a,{className:m.addNewHeader},i.a.createElement(d.a,{id:"Apis.Details.Resources.Resources.add.new.resource.title",defaultMessage:"Add New Resource"})),i.a.createElement(pi.a,{className:m.divider}),i.a.createElement("div",{className:m.addNewOther},i.a.createElement(he.a,(Zu(e={required:!0,id:"outlined-required",label:f.formatMessage({id:"Apis.Details.Resources.Resources.url.pattern",defaultMessage:"URL Pattern"}),margin:"normal",variant:"outlined"},"id","tmpResourceName"),Zu(e,"className",m.addResource),Zu(e,"value",this.state.tmpResourceName),Zu(e,"onChange",this.onChangeInput("tmpResourceName")),e)),i.a.createElement("div",{className:m.radioGroup},["get","post","put","delete","patch","head","options"].map(function(e,a){return i.a.createElement(ol.a,{key:a,row:!0},i.a.createElement(Et.a,{control:i.a.createElement(Ae.a,{checked:t.state.tmpMethods.indexOf(e)>-1,onChange:t.handleChange(e),value:e}),label:e.toUpperCase()}))}))),i.a.createElement(pi.a,{className:m.divider}),i.a.createElement("div",{className:m.addNewOther},i.a.createElement(ue.a,{variant:"contained",color:"primary",onClick:this.addResources},i.a.createElement(d.a,{id:"Apis.Details.Resources.Resources.add.resources.to.path",defaultMessage:"Add Resources to Path"})),i.a.createElement(ue.a,{className:m.button,onClick:this.toggleAddResource},i.a.createElement(d.a,{id:"Apis.Details.Resources.Resources.cancel",defaultMessage:"Cancel"}))))),o&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:m.addNewWrapper},i.a.createElement(h.a,{className:m.addNewHeader},i.a.createElement(d.a,{id:"Apis.Details.Resources.Resources.assign.advanced.throttling.policies",defaultMessage:"Assign advanced throttling policies"})),i.a.createElement(pi.a,{className:m.divider}),i.a.createElement("div",{className:m.addNewOther},i.a.createElement(wt.a,{component:"fieldset",className:m.formControl},i.a.createElement(vt.a,{"aria-label":"advancedPolicyType",name:"advancedPolicyType",className:m.group,value:l,onChange:this.advancedPolicyTypeChange},i.a.createElement(Et.a,{value:"perAPI",control:i.a.createElement(bt.a,null),label:f.formatMessage({id:"Apis.Details.Resources.Resources.assign.advanced.throttling.perApi",defaultMessage:"Apply per API"})}),i.a.createElement(Et.a,{value:"perResource",control:i.a.createElement(bt.a,null),label:f.formatMessage({id:"Apis.Details.Resources.Resources.assign.advanced.throttling.Resource",defaultMessage:"Apply per Resource"})}))),i.a.createElement("div",{className:m.rightDataColum},"perAPI"===l&&i.a.createElement(mn.a,{className:m.selectWidth,value:c,onChange:this.handlePolicyChange,fieldName:"Throttling Policy"},s.map(function(e){return i.a.createElement(Pe.a,{key:e.name,value:e.name},e.displayName)})))))),i.a.createElement(ci.a,null,this.state.paths&&i.a.createElement(ui.a,null,i.a.createElement(Et.a,{control:i.a.createElement(Ae.a,{checked:this.state.allChecked,onChange:this.handleCheckAll,value:"",disabled:this.isNotCreator}),label:"Check All"}),0!==Object.keys(this.state.pathDeleteList).length&&i.a.createElement(jl.a,null,i.a.createElement(ue.a,{className:m.button,color:"secondary",onClick:this.deleteSelected,disabled:this.isNotCreator},i.a.createElement(d.a,{id:"Apis.Details.Resources.Resources.delete.selected",defaultMessage:"Delete Selected"})))),Object.keys(u).map(function(e){var a=u[e],r=t;return i.a.createElement("div",null,i.a.createElement(iu.a,{defaultExpanded:!0,className:m.expansionPanel},i.a.createElement(ru.a,{expandIcon:i.a.createElement(su.a,null)},i.a.createElement(h.a,{className:m.heading,variant:"h6"},e)),i.a.createElement(ou.a,{className:m.expansionPanelDetails},Object.keys(a).map(function(o){return oo.a.HTTP_METHODS.includes(o)?i.a.createElement(Hu,{path:e,method:o,methodData:a[o],updatePath:r.updatePath,scopes:n.scopes,apiPolicies:s,isAPIProduct:!1,addRemoveToDeleteList:r.addRemoveToDeleteList,onRef:function(e){return t.childResources.push(e)},policyLevel:l}):null}))))})),i.a.createElement(ce.a,{container:!0,direction:"row",alignItems:"center",spacing:4},i.a.createElement(ce.a,{item:!0},i.a.createElement(ue.a,{variant:"contained",color:"primary",className:m.buttonMain,onClick:this.updateResources,disabled:this.isNotCreator},i.a.createElement(d.a,{id:"Apis.Details.Resources.Resources.save",defaultMessage:"Save"}))),this.isNotCreator&&i.a.createElement(ce.a,{item:!0},i.a.createElement(h.a,{variant:"body2",color:"primary"},i.a.createElement(d.a,{id:"Apis.Details.Resources.Resources.update.not.allowed",defaultMessage:"*You are not authorized to update API resources due to insufficient permissions"}))))))}}])&&Ju(a.prototype,n),r&&Ju(a,r),t}();Xu.propTypes={classes:o.a.object.isRequired};var ep=Object(d.d)(Object(b.a)(function(e){return{root:{flexGrow:1,marginTop:10},container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:400},mainTitle:{paddingLeft:0},scopes:{width:400},titleWrapper:{display:"flex",flexDirection:"row",alignItems:"center"},button:{marginLeft:2*e.spacing.unit,textTransform:e.custom.leftMenuTextStyle,color:e.palette.getContrastText(e.palette.primary.main)},buttonMain:{textTransform:e.custom.leftMenuTextStyle,color:e.palette.getContrastText(e.palette.primary.main)},addNewWrapper:{backgroundColor:e.palette.background.paper,color:e.palette.getContrastText(e.palette.background.paper),border:"solid 1px "+e.palette.grey[300],borderRadius:e.shape.borderRadius,marginTop:2*e.spacing.unit},contentWrapper:{maxWidth:e.custom.contentAreaWidth},addNewHeader:{padding:2*e.spacing.unit,backgroundColor:e.palette.grey[300],fontSize:e.typography.h6.fontSize,color:e.typography.h6.color,fontWeight:e.typography.h6.fontWeight},addNewOther:{padding:2*e.spacing.unit},radioGroup:{display:"flex",flexDirection:"row",width:300},addResource:{width:600,marginTop:0},buttonIcon:{marginRight:10},expansionPanel:{marginBottom:e.spacing.unit},expansionPanelDetails:{flexDirection:"column"},imageContainer:{display:"flex"},formControl:{margin:3*e.unit},group:{margin:3*e.unit},selectWidth:{margin:1*e.spacing.unit,minWidth:120}}})(Xu));function tp(e){return(tp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ap(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function np(e,t){return!t||"object"!==tp(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ip(e){return(ip=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rp(e,t){return(rp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var op=function(e){function t(e){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(a=np(this,ip(t).call(this,e))).state={paths:null,scopes:[],notFound:!1,showAddResource:!1,showPolicy:!1,apiPolicies:[],selectedPolicy:e.api.apiThrottlingPolicy,policyLevel:e.api.apiThrottlingPolicy?"perAPI":"perResource"},a.api_uuid=e.api.id,a.childResources=[],a}var a,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rp(e,t)}(t,i.a.Component),a=t,(n=[{key:"componentDidMount",value:function(){var e=this;(new ze).getSwagger(this.api_uuid).then(function(t){void 0!==t.obj.paths&&e.setState({paths:t.obj.paths})}).catch(function(t){var a=t.status;404===a?e.setState({notFound:!0}):401===a&&e.setState({isAuthorize:!1})})}},{key:"render",value:function(){var e=this,t=this.state,a=t.policyLevel,n=t.apiPolicies,r=t.scopes,o=t.paths,l=this.props,s=l.classes,c=l.api;if(this.state.notFound)return i.a.createElement(ResourceNotFound,{message:this.props.resourceNotFountMessage});if(null===o)return i.a.createElement(Kn.a,null);var u=c.apis.map(function(e){var t=e.operations.map(function(e){return e.target}),a=Object.keys(o).filter(function(e){return t.includes(e)}).reduce(function(e,t){return e[t]=o[t],e},{});return{name:e.name,paths:a}});return console.log("**",u),i.a.createElement("div",{className:s.root},i.a.createElement("div",{className:s.titleWrapper},i.a.createElement(h.a,{variant:"h4",align:"left",className:s.mainTitle},i.a.createElement(d.a,{id:"Apis.Details.Resources.Resources.resources",defaultMessage:"Resources"})),i.a.createElement(pe.b,{to:"/api-products/"+c.id+"/resources/edit"},i.a.createElement(ue.a,{size:"small",className:s.button},i.a.createElement(va.a,{className:s.buttonIcon},"edit"),i.a.createElement(d.a,{id:"Apis.Details.Resources.Resources.edit.resources.button",defaultMessage:"Edit Resources"})))),i.a.createElement("div",{className:s.contentWrapper},i.a.createElement(ci.a,null,Object.keys(u).map(function(t){var o=u[t];return i.a.createElement("div",{className:s.root},i.a.createElement(h.a,{className:s.heading,variant:"h5"},o.name),i.a.createElement("div",{className:s.root},Object.keys(o.paths).map(function(t){var l=o.paths[t],c=e;return i.a.createElement("div",null,i.a.createElement(iu.a,{defaultExpanded:!0,className:s.expansionPanel},i.a.createElement(ru.a,{expandIcon:i.a.createElement(su.a,null)},i.a.createElement(h.a,{className:s.heading,variant:"h6"},t)),i.a.createElement(ou.a,{className:s.expansionPanelDetails},Object.keys(l).map(function(o){return oo.a.HTTP_METHODS.includes(o)?i.a.createElement(Hu,{path:t,method:o,methodData:l[o],updatePath:c.updatePath,scopes:r,apiPolicies:n,isAPIProduct:!0,onRef:function(t){return e.childResources.push(t)},policyLevel:a}):null}))))})))}))))}}])&&ap(a.prototype,n),r&&ap(a,r),t}();op.propTypes={classes:o.a.shape({}).isRequired,theme:o.a.shape({}).isRequired,history:o.a.shape({push:o.a.shape({})}).isRequired,location:o.a.shape({pathname:o.a.shape({})}).isRequired,parentClasses:o.a.shape({}).isRequired,api:o.a.shape({id:o.a.string}).isRequired};var lp=Object(b.a)(function(e){return{root:{flexGrow:1,marginTop:10},container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:400},mainTitle:{paddingLeft:0},scopes:{width:400},titleWrapper:{display:"flex",flexDirection:"row",alignItems:"center"},button:{marginLeft:2*e.spacing.unit,textTransform:e.custom.leftMenuTextStyle,color:e.palette.getContrastText(e.palette.primary.main)},buttonMain:{textTransform:e.custom.leftMenuTextStyle,color:e.palette.getContrastText(e.palette.primary.main)},addNewWrapper:{backgroundColor:e.palette.background.paper,color:e.palette.getContrastText(e.palette.background.paper),border:"solid 1px "+e.palette.grey[300],borderRadius:e.shape.borderRadius,marginTop:2*e.spacing.unit},contentWrapper:{maxWidth:e.custom.contentAreaWidth},addNewHeader:{padding:2*e.spacing.unit,backgroundColor:e.palette.grey[300],fontSize:e.typography.h6.fontSize,color:e.typography.h6.color,fontWeight:e.typography.h6.fontWeight},addNewOther:{padding:2*e.spacing.unit},radioGroup:{display:"flex",flexDirection:"row",width:300},addResource:{width:600,marginTop:0},buttonIcon:{marginRight:10},expansionPanel:{marginBottom:e.spacing.unit},expansionPanelDetails:{flexDirection:"column"}}})(op),sp=a(960);function cp(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var up=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,a,n;return t=e,n=[{key:"parse",value:function(e){for(var t,a="",n=/(\S+:'(?:[^'\\]|\\.)*')|(\S+:"(?:[^"\\]|\\.)*")|(-?"(?:[^"\\]|\\.)*")|(-?'(?:[^'\\]|\\.)*')|\S+|\S+:\S+/g,i=[];null!==(t=n.exec(e));){var r=t[0],o=r.indexOf(":");if(-1!==o){var l=r.slice(0,o),s=r.slice(o+1);if(s=(s+"").replace(/\\(.?)/g,function(e,t){switch(t){case"\\":return"\\";case"0":return"\0";case"":return"";default:return t}}),!l||!s)return"";a+=l+":"+s+" "}else r=(r+"").replace(/\\(.?)/g,function(e,t){switch(t){case"\\":return"\\";case"0":return"\0";case"":return"";default:return t}}),i.push(r)}return i.length>0&&(a="content:"+i.join(" ")+" "+a),a.trim()}}],(a=null)&&cp(t.prototype,a),n&&cp(t,n),e}(),pp=a(846);function dp(e){var t=Object(pp.a)(),a=e.method,n=e.className,r=t.custom.resourceChipColors?t.custom.resourceChipColors[a.toLowerCase()]:null,o="#000000";return r?o=t.palette.getContrastText(t.custom.resourceChipColors[a.toLowerCase()]):(console.log("Check the theme settings. The resourceChipColors is not populated properly"),r="#cccccc"),i.a.createElement(Na.a,{label:a,className:n||"",style:{backgroundColor:r,color:o,height:20}})}dp.propTypes={className:o.a.string.isRequired,method:o.a.string.isRequired};var mp=dp;function fp(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function hp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,i=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){i=!0,r=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw r}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var gp=Object(Z.a)(function(e){return{root:{flexGrow:1,marginTop:10},searchWrapper:{padding:0,marginTop:e.spacing.unit},titleWrapper:{display:"flex",flexDirection:"row",alignItems:"center",paddingBottom:2*e.spacing.unit},paper:{height:"100%",borderRadius:0},apiWrapper:{overflowY:"auto",height:400},leftMost:{background:e.palette.grey[700],color:e.palette.getContrastText(e.palette.grey[700]),padding:e.spacing.unit},rightMost:{background:e.palette.grey[600],color:e.palette.getContrastText(e.palette.grey[600]),padding:e.spacing.unit},colTitle:{background:e.palette.grey[400],color:e.palette.getContrastText(e.palette.grey[400]),padding:e.spacing.unit,fontWeight:200,minHeight:25},treeItemMain:{background:e.palette.grey[100],color:e.palette.getContrastText(e.palette.grey[100]),padding:e.spacing.unit},treeItemMainWrapper:{paddingLeft:4*e.spacing.unit},treeItem:{"& .material-icons":{fontSize:2*e.spacing.unit,cursor:"pointer",marginRight:e.spacing.unit},display:"flex",alignItems:"center",padding:"6px 0"},hr:{flex:1,marginLeft:e.spacing.unit,marginRight:e.spacing.unit,color:e.palette.getContrastText(e.palette.grey[100])},methodView:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit},middleText:{flex:1},selectedApi:{background:e.palette.grey[100]},selectedTitle:{padding:2*e.spacing.unit},buttonWrapper:{marginTop:2*e.spacing.unit,textDecorate:"none"},selectedApiDescription:{padding:2*e.spacing.unit},messageWrapper:{padding:3*e.spacing.unit},tootBar:{display:"flex",justifyContent:"flex-end",alignItems:"center",margin:"0 16px",background:e.palette.grey[100],color:e.palette.getContrastText(e.palette.grey[100]),padding:5,borderRadius:5,"& a":{cursor:"pointer",display:"flex",justifyContent:"flex-end",alignItems:"center"}},inactiveIcon:{color:e.palette.grey[300]}}});var yp=function(){var e=gp(),t=Object(n.useContext)(io),a=t.api,r=t.updateAPI,o=uu()(a),l=o.apis,s=hp(Object(n.useState)([]),2),c=s[0],u=s[1],p=hp(Object(n.useState)(!1),2),m=p[0],f=p[1],g=hp(Object(n.useState)(""),2),b=g[0],v=g[1],E=hp(Object(n.useState)([]),2),w=E[0],C=E[1],P=hp(Object(n.useState)(null),2),S=P[0],A=P[1],O=hp(Object(n.useState)(l),2),x=O[0],I=O[1],T=hp(Object(n.useState)(!1),2),k=T[0],D=T[1],M=new _,R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e){var t=e.trim().toLowerCase(),a=up.parse(t);a="?query="+a;var n=ba.a.parse(a);return n.limit=100,n.offset=0,_.search(n)}return _.all({})},j=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:x;Object.keys(e).map(function(n){var i=e[n];Object.keys(i).map(function(e){i[e].checked=!1;var r=n,o=e,l=!1;a&&Object.keys(a).map(function(e){var n=a[e];n&&t===n.apiId&&Object.keys(n.operations).map(function(e){var t=n.operations[e];t&&t.target===r&&t.verb.toLowerCase()===o.toLowerCase()&&(l=!0)})}),i[e].allreadyAdded=!!l})}),C(e)},N=function(e){var t=e.id;M.getSwagger(t).then(function(a){void 0!==a.obj.paths&&(j(a.obj.paths,t),A(e))}).catch(function(e){var t=e.status;404===t?f(!0):401===t&&Jr()})},L=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=!1,i=null;a?i=a:(i=uu()(x),n=!0);var r=e.target,o=e.verb,l=e.apiId,s=e.name,c={id:null,target:r,verb:o.toUpperCase(),authType:null,throttlingPolicy:null,scopes:[]},u=!1;return Object.keys(i).map(function(e,a){var n=i[e];if(n&&l===n.apiId){u=!0;var s=!1;Object.keys(n.operations).map(function(e,l){var c=n.operations[e];c&&c.target===r&&c.verb.toLowerCase()===o.toLowerCase()&&(s=!0,"remove"===t&&(n.operations.length>1?n.operations.splice(l,1):i.splice(a,1)))}),s||"add"!==t||n.operations.push(c)}}),u||i.push({name:s,apiId:l,operations:[c]}),n&&(I(i),l===S.id&&j(uu()(w),l,i)),i},q=function(e,t){var a=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){fp(e,t,a[t])})}return e}({},w);a[e][t].checked=!a[e][t].checked,C(a)},W=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=uu()(x);Object.keys(w).map(function(a){var n=w[a];Object.keys(n).map(function(i){(n[i].checked||e)&&L({target:a,verb:i,apiId:S.id,name:S.name},"add",t)})}),I(t),j(uu()(w),S.id,t)};return Object(n.useEffect)(function(){R().then(function(e){var t=e.body.list;u(t),t.length>0&&(A(t[0]),N(t[0]))}).catch(function(e){var t=e.status;404===t?f(!0):401===t&&Jr()})},[]),m?i.a.createElement(y,{message:this.props.resourceNotFountMessage}):i.a.createElement("div",{className:e.root},i.a.createElement("div",{className:e.titleWrapper},i.a.createElement(h.a,{variant:"h4",align:"left",className:e.mainTitle},i.a.createElement(d.a,{id:"Apis.Details.ProductResources.ProductResourcesEdit.title",defaultMessage:"Manage Resources"}))),i.a.createElement("div",{className:e.contentWrapper},i.a.createElement(ce.a,{container:!0},i.a.createElement(ce.a,{item:!0,xs:7,className:e.leftMost},i.a.createElement(d.a,{id:"Apis.Details.ProductResources.ProductResourcesEdit.find.and.select",defaultMessage:"Find and select resources for the API Product"})),i.a.createElement(ce.a,{item:!0,xs:5,className:e.rightMost},i.a.createElement(d.a,{id:"Apis.Details.ProductResources.ProductResourcesEdit.find.and.select",defaultMessage:"Find and select resources for the API Product"}),i.a.createElement("div",null))),i.a.createElement(ce.a,{container:!0},i.a.createElement(ce.a,{item:!0,xs:3},i.a.createElement("div",{className:e.colTitle},i.a.createElement(d.a,{id:"Apis.Details.ProductResources.ProductResourcesEdit.select.an.api",defaultMessage:"Select an API"})),i.a.createElement(me.a,null,i.a.createElement(ui.a,{className:e.searchWrapper},i.a.createElement(he.a,{id:"outlined-full-width",label:"API",style:{margin:8},placeholder:"Filter APIs",helperText:"Filter the visible APIs",onChange:function(e){R(e.target.value).then(function(e){var t=e.body.list;t.length>0&&A(t[0]),u(t)}).catch(function(e){var t=e.status;404===t?f(!0):401===t&&Jr()}),v(e.target.value)},value:b,fullWidth:!0,margin:"normal",variant:"outlined",InputLabelProps:{shrink:!0}})),i.a.createElement("div",{className:e.apiWrapper},i.a.createElement(ci.a,{dense:!0},c.map(function(t){var a="checkbox-list-label-".concat(t.id);return i.a.createElement(ui.a,{key:t.id,role:void 0,dense:!0,button:!0,className:S&&t.id===S.id&&e.selectedApi},i.a.createElement(Se.a,{id:a,primary:t.name,secondary:"".concat(t.version," - ").concat(t.context),onClick:function(){return N(t)}}))}))))),i.a.createElement(ce.a,{item:!0,xs:4},i.a.createElement(me.a,{className:e.paper},i.a.createElement("div",{className:e.colTitle},i.a.createElement(d.a,{id:"Apis.Details.ProductResources.ProductResourcesEdit.api.resources",defaultMessage:"API Resources"})),S&&i.a.createElement(i.a.Fragment,null,i.a.createElement(h.a,{variant:"h5",className:e.selectedTitle},S.name),i.a.createElement(h.a,{variant:"caption",className:e.selectedApiDescription,component:"div"},i.a.createElement(d.a,{id:"Apis.Details.ProductResources.ProductResourcesEdit.api.all.resources",defaultMessage:"All resources available with the API are displayed bellow.Click the right hand side arrow to add them to the api product."}))),i.a.createElement("div",{className:e.tootBar},i.a.createElement("a",{onClick:function(){return W()},onKeyDown:function(){return W()}},i.a.createElement(h.a,{variant:"body2"},i.a.createElement(d.a,{id:"Apis.Details.ProductResources.ProductResourcesEdit.toolbar.add.selected",defaultMessage:"Add Selected"})),i.a.createElement(va.a,null,"fast_forward")),i.a.createElement(nt,null),i.a.createElement("a",{onClick:function(){return W(!0)},onKeyDown:function(){return W(!0)}},i.a.createElement(h.a,{variant:"body2"},i.a.createElement(d.a,{id:"Apis.Details.ProductResources.ProductResourcesEdit.toolbar.add.all",defaultMessage:"Add All"})),i.a.createElement(va.a,null,"fast_forward"))),i.a.createElement(ci.a,{dense:!0},Object.keys(w).map(function(t){var a=w[t],n="checkbox-list-label-".concat(t);return Object.keys(a).map(function(r){var o=a[r];return oo.a.HTTP_METHODS.includes(r)&&i.a.createElement(ui.a,{key:"".concat(r," - ").concat(t),role:void 0,dense:!0},i.a.createElement(sp.a,null,i.a.createElement(Ae.a,{edge:"start",checked:o.checked,tabIndex:-1,disableRipple:!0,onChange:function(){return q(t,r)}})),i.a.createElement(Se.a,{id:n,primary:i.a.createElement("div",null,i.a.createElement("span",null,t),i.a.createElement(mp,{method:r,className:e.methodView})),secondary:o["x-auth-type"]&&o["x-throttling-tier"]&&"".concat(o["x-auth-type"]," - ").concat(o["x-throttling-tier"]),onClick:function(){return L({target:t,verb:r,apiId:S.id,name:S.name},"add")},className:e.middleText}),i.a.createElement(jl.a,null,o.allreadyAdded&&i.a.createElement(va.a,{className:e.inactiveIcon},"chevron_right"),!o.allreadyAdded&&i.a.createElement(K.a,{edge:"end","aria-label":"comments",onClick:function(){return L({target:t,verb:r,apiId:S.id,name:S.name},"add")}},i.a.createElement(va.a,null,"chevron_right"))))})})))),i.a.createElement(ce.a,{item:!0,xs:5},i.a.createElement(me.a,{className:e.paper},i.a.createElement("div",{className:e.colTitle}),i.a.createElement("div",{className:e.treeViewRoot},x&&0===x.length&&i.a.createElement("div",{className:e.messageWrapper},i.a.createElement(h.a,{variant:"h5",component:"h3"},i.a.createElement(d.a,{id:"Apis.Details.ProductResources.ProductResourcesEdit.empty.title",defaultMessage:"No resources are available"})),i.a.createElement(h.a,{component:"p"},i.a.createElement(d.a,{id:"Apis.Details.ProductResources.ProductResourcesEdit.empty.content",defaultMessage:"Use the left side panel to add resources"}))),x&&x.length>0&&Object.keys(x).map(function(t){var a=x[t];return i.a.createElement("div",{key:a.name},i.a.createElement("div",{className:e.treeItemMain},a.name),i.a.createElement("div",{className:e.treeItemMainWrapper},Object.keys(a.operations).map(function(t){var n=a.operations[t],r=n.target,o=n.verb;return i.a.createElement("div",{key:o,className:e.treeItem},i.a.createElement(h.a,{variant:"body2"},r),i.a.createElement(mp,{method:o,className:e.methodView}),i.a.createElement("hr",{className:e.hr}),i.a.createElement(va.a,{onClick:function(){return L({target:r,verb:o,apiId:a.apiId,name:a.name},"remove")}},"delete"))})))}))))),i.a.createElement("div",{className:e.buttonWrapper},i.a.createElement(ce.a,{container:!0,direction:"row",alignItems:"flex-start",spacing:4},i.a.createElement(ce.a,{item:!0},i.a.createElement("div",null,i.a.createElement(ue.a,{variant:"contained",color:"primary",onClick:function(){o.apis=x,o.apis.map(function(e){var t=e.operations;t&&t.map(function(e){Object.keys(e).map(function(t){"verb"!==t&&"target"!==t&&delete e[t]})})}),D(!0),r(o,!0).then(function(){D(!1)}).catch(function(e){D(!1),401===e.status&&Jr()})},disabled:k},k&&i.a.createElement(d.a,{id:"Apis.Details.ProductResources.ProductResourcesEdit.updating",defaultMessage:"Updating ..."}),!k&&i.a.createElement(d.a,{id:"Apis.Details.ProductResources.ProductResourcesEdit.save",defaultMessage:"Save"})))),i.a.createElement(ce.a,{item:!0},i.a.createElement(pe.b,{to:"/apis/"+a.id+"/overview"},i.a.createElement(ue.a,null,i.a.createElement(d.a,{id:"Apis.Details.ProductResources.ProductResourcesEdit.cancel",defaultMessage:"Cancel"}))))))))};function bp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,i=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){i=!0,r=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw r}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function vp(e){var t=e.classes,a=e.intl,r=e.generateEndpointConfig,o=bp(Object(n.useState)("mock"),2),l=o[0],s=o[1],c=[{type:"http",name:a.formatMessage({id:"Apis.Details.Endpoints.NewEndpointCreate.create.http.endpoint",defaultMessage:"HTTP/ REST Endpoint"}),description:a.formatMessage({id:"Apis.Details.Endpoints.NewEndpointCreate.create.http.endpoint.description",defaultMessage:"A REST API endpoint based on a URI template."}),options:null},{type:"address",name:a.formatMessage({id:"Apis.Details.Endpoints.NewEndpointCreate.create.soap.endpoint",defaultMessage:"HTTP/ SOAP Endpoint"}),description:a.formatMessage({id:"Apis.Details.Endpoints.NewEndpointCreate.create.soap.endpoint.description",defaultMessage:"The direct URI of the web service."}),options:null},{type:"prototyped",name:a.formatMessage({id:"Apis.Details.Endpoints.NewEndpointCreate.create.prototype.endpoint",defaultMessage:"Prototype Endpoint"}),description:a.formatMessage({id:"Apis.Details.Endpoints.NewEndpointCreate.create.prototype.endpoint.description",defaultMessage:"Use the inbuilt JavaScript engine to prototype the API or provide an endpoint to a prototype API. The inbuilt JavaScript engine does not have support to prototype SOAP APIs"}),options:[{type:"mock",name:a.formatMessage({id:"Apis.Details.Endpoints.NewEndpointCreate.mock.endpoints",defaultMessage:"Mock Endpoint"})},{type:"prototyped",name:a.formatMessage({id:"Apis.Details.Endpoints.NewEndpointCreate.default.prototype.endpoints",defaultMessage:"Prototype Endpoint"})}]},{type:"dynamic",name:a.formatMessage({id:"Apis.Details.Endpoints.NewEndpointCreate.create.dynamic.endpoint",defaultMessage:"Dynamic Endpoint"}),description:a.formatMessage({id:"Apis.Details.Endpoints.NewEndpointCreate.create.dynamic.endpoint.description",defaultMessage:"If you need to send the request to the URI specified in the TO header."}),options:null},{type:"awslambda",name:a.formatMessage({id:"Apis.Details.Endpoints.NewEndpointCreate.create.aws.endpoint",defaultMessage:"AWS Lambda Endpoint"}),description:a.formatMessage({id:"Apis.Details.Endpoints.NewEndpointCreate.create.aws.endpoint.description",defaultMessage:"If you need to invoke AWS Lambda functions through WSO2 API gateway."}),options:null}];return i.a.createElement(i.a.Fragment,null,i.a.createElement(h.a,{variant:"h4",align:"left",className:t.titleWrapper},i.a.createElement(d.a,{id:"Apis.Details.Endpoints.NewEndpointCreate.add.endpoints.header",defaultMessage:"Select an Endpoint Type to Add"})),i.a.createElement(ce.a,{container:!0,justify:"flex-start",spacing:2},c.map(function(e){return i.a.createElement(ce.a,{item:!0,className:t.inlineMessageContainer},i.a.createElement(_a.a,{className:t.endpointTypeCard},i.a.createElement(Ra.a,{className:t.cardContent},i.a.createElement(h.a,{variant:"h5",component:"h3",className:t.head},e.name),i.a.createElement(pi.a,null),i.a.createElement(h.a,{component:"p",className:t.content},e.description),e.options?i.a.createElement("div",null,i.a.createElement(wt.a,{component:"fieldset",className:t.formControl},i.a.createElement(vt.a,{"aria-label":"EndpointType",name:"endpointType",className:t.radioGroup,value:l,onChange:function(e){s(e.target.value)}},e.options.map(function(e){return i.a.createElement(Et.a,{value:e.type,control:i.a.createElement(bt.a,null),label:e.name})})))):i.a.createElement("div",null)),i.a.createElement(Ma.a,{className:t.cardActions},i.a.createElement(ue.a,{color:"primary",className:t.button,onClick:function(){return r(e.type,l)}},i.a.createElement(d.a,{id:"Apis.Details.Endpoints.NewEndpointCreate.create.button",defaultMessage:"Add"})))))})))}vp.propTypes={classes:o.a.shape({}).isRequired,intl:o.a.shape({}).isRequired,generateEndpointConfig:o.a.func.isRequired};var Ep=Object(b.a)(function(e){return{inlineMessageContainer:{marginBottom:e.spacing()},endpointTypeCard:{margin:e.spacing(),maxWidth:e.spacing(32),transition:"box-shadow 0.3s ease-in-out",height:e.spacing(40),display:"flex",flexDirection:"column"},cardContent:{height:e.spacing(40)},content:{marginTop:e.spacing()},cardActions:{justifyContent:"flex-end",borderTop:"solid #e0e0e0 thin"}}})(Object(d.d)(vp));function wp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,i=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){i=!0,r=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw r}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Cp(e){var t=e.category,a=e.endpointURL,r=e.editEndpoint,o=e.classes,l=e.type,s=e.setAdvancedConfigOpen,c=e.deleteEndpoint,u=e.index,p=e.readOnly,m=wp(Object(n.useState)(a),2),f=m[0],h=m[1],g=Object(n.useContext)(io).api;return Object(n.useEffect)(function(){h(a)},[a]),i.a.createElement(i.a.Fragment,{className:o.endpointInputWrapper},i.a.createElement(he.a,{disabled:Object(Ka.b)(["apim:api_create"],g),label:i.a.createElement(d.a,{id:"Apis.Details.Endpoints.GenericEndpoint.service.url.input",defaultMessage:"Service URL"}),className:o.textField,value:f,placeholder:f?"":"http://appserver/resource",onChange:function(e){return h(e.target.value)},onBlur:function(){return r(u,t,f)},variant:"outlined",margin:"normal",required:!0,InputProps:{readOnly:p,endAdornment:i.a.createElement(Pt.a,{position:"end"},"prototyped"===l?i.a.createElement("div",null):i.a.createElement(K.a,{className:o.iconButton,"aria-label":"Settings",onClick:function(){return s(u,l,t)}},i.a.createElement(va.a,null,"settings")),u>0?i.a.createElement(pi.a,{className:o.divider}):i.a.createElement("div",null),"load_balance"===l||"failover"===l?i.a.createElement(K.a,{className:o.iconButton,"aria-label":"Delete",color:"secondary",onClick:function(){return c(u,l,t)}},i.a.createElement(va.a,null,"delete")):i.a.createElement("div",null))}}))}Cp.defaultProps={readOnly:!1},Cp.propTypes={endpointURL:o.a.string.isRequired,deleteEndpoint:o.a.func.isRequired,classes:o.a.shape({}).isRequired,type:o.a.string.isRequired,setAdvancedConfigOpen:o.a.func.isRequired,index:o.a.number.isRequired,editEndpoint:o.a.func.isRequired,category:o.a.string.isRequired,readOnly:o.a.bool};var Pp=Object(b.a)(function(e){return{endpointInputWrapper:{width:"100%",display:"flex",justifyContent:"space-between"},textField:{width:"100%"},input:{marginLeft:e.spacing(),flex:1},iconButton:{padding:e.spacing()},divider:{width:1,height:28,margin:4}}})(Cp);function Sp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,i=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){i=!0,r=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw r}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Ap(e){var t=e.classes,a=e.addEndpoint,r=Sp(Object(n.useState)(""),2),o=r[0],l=r[1],s=Sp(Object(n.useState)(!1),2),c=s[0],u=s[1],p=Object(n.useContext)(io).api;return i.a.createElement(i.a.Fragment,{className:t.endpointInputWrapper},i.a.createElement(he.a,{label:i.a.createElement(d.a,{id:"Apis.Details.Endpoints.GenericEndpoint.service.url.input",defaultMessage:"Service URL"}),disabled:Object(Ka.b)(["apim:api_create"],p),className:t.textField,value:o,onChange:function(e){return l(e.target.value)},onBlur:function(e){return u(""===e.target.value)},variant:"outlined",margin:"normal",placeholder:"Add new endpoint",error:c,required:!0,InputProps:{endAdornment:i.a.createElement(Pt.a,{position:"end"},i.a.createElement(K.a,{onClick:function(){l(""),a(o)},color:"green",className:t.iconButton,"aria-label":"Search",disabled:""===o},i.a.createElement(va.a,null,"add")))}}))}Ap.propTypes={classes:o.a.shape({}).isRequired,addEndpoint:o.a.func.isRequired};var Op=Object(b.a)(function(e){return{endpointInputWrapper:{width:"100%",display:"flex",justifyContent:"space-between"},textField:{width:"100%"},input:{marginLeft:e.spacing(),flex:1},iconButton:{padding:e.spacing()}}})(Ap);function xp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,i=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){i=!0,r=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw r}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Ip(e){var t=e.classes,a=e.category,r=e.apiEndpoints,o=e.epType,l=e.failOvers,s=e.editEndpoint,c=e.addNewEndpoint,u=e.removeEndpoint,p=e.setAdvancedConfigOpen,d=xp(Object(n.useState)(o),2),m=d[0],f=d[1],h=xp(Object(n.useState)([{url:"http://myservice/endpoint"}]),2),g=h[0],y=h[1],b=Object(n.useRef)(null);return Object(n.useEffect)(function(){f(o),y(function(){return null!==r&&"failover"===o?[r].concat(l):void 0!==r?Array.isArray(r)?r:[r]:[{url:"http://myservice/"}]})},[e]),i.a.createElement(i.a.Fragment,{className:t.listingWrapper,ref:b},i.a.createElement(ce.a,{container:!0,direction:"column",xs:12},i.a.createElement(ce.a,{xs:12},"failover"===m||"load_balance"===m?i.a.createElement(Op,{addEndpoint:function(e){c(a,o,e)}}):i.a.createElement("div",null)),i.a.createElement(ce.a,{xs:12},g.map(function(e,t){return t>0?i.a.createElement(Pp,{readOnly:!0,endpointURL:g[t]?g[t].url:"",type:m,index:t,category:a,editEndpoint:s,deleteEndpoint:u,setAdvancedConfigOpen:p}):i.a.createElement("div",null)}))))}Ip.propTypes={classes:o.a.shape({epTypeWrapper:o.a.shape({}),epTypeName:o.a.shape({}),listingWrapper:o.a.shape({}),epConfig:o.a.shape({})}).isRequired,epType:o.a.string.isRequired,category:o.a.string.isRequired,apiEndpoints:o.a.shape({}).isRequired,failOvers:o.a.shape({}).isRequired,addNewEndpoint:o.a.func.isRequired,removeEndpoint:o.a.func.isRequired,editEndpoint:o.a.func.isRequired,setAdvancedConfigOpen:o.a.func.isRequired};var Tp=Object(d.d)(Object(b.a)(function(e){return{endpointInputWrapper:{display:"flex"},epInput:{width:"100%"},epTypeWrapper:{display:"flex",padding:"5px"},epTypeName:{paddingTop:"10px",fontWeight:600},epConfig:{justifyContent:"flex-end"},leftArrow:{paddingTop:"6px"},leftArrowLight:{color:"#c5c5c5",paddingTop:"6px"},dialogHeader:{fontWeight:600},listItemOdd:{background:"#ececec",borderRadius:"5px","&:hover":{backgroundColor:e.palette.grey[300]},"&:focus":{backgroundColor:e.palette.grey[400]}},listItem:{borderRadius:"5px","&:hover":{backgroundColor:e.palette.grey[300]},"&:focus":{backgroundColor:e.palette.grey[400]}}}})(Ip));function kp(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Dp(e,t){return"failover"!==e?t:"sandbox_endpoints"===t?"sandbox_failovers":"production_failovers"}function _p(e){var t={};switch(e){case"http":t.endpoint_type="http",t.production_endpoints={url:""},t.sandbox_endpoints={url:""},t.failOver="False";break;case"address":t.endpoint_type="address",t.production_endpoints={url:"",endpoint_type:"address",template_not_supported:!1},t.sandbox_endpoints={url:"",endpoint_type:"address",template_not_supported:!1},t.failOver="False";break;case"prototyped":t.implementation_status="prototyped",t.endpoint_type="http",t.production_endpoints={config:null,url:"http://localhost"},t.sandbox_endpoints={config:null,url:"http://localhost"};break;case"awslambda":t.endpoint_type="awslambda",t.accessKey="",t.secretKey="";break;default:t.endpoint_type="default",t.production_endpoints={url:"default"},t.sandbox_endpoints={url:"default"},t.failOver="False"}return t}var Mp=a(946);function Rp(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){jp(e,t,a[t])})}return e}function jp(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Np(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,i=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){i=!0,r=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw r}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Lp(e){var t=Object(n.useContext)(io).api,a=e.intl,r=e.securityInfo,o=e.onChangeEndpointAuth,l=Np(Object(n.useState)({type:"BASIC",username:"",password:""}),2),s=l[0],c=l[1],u=[{key:"BASIC",value:a.formatMessage({id:"Apis.Details.Endpoints.GeneralConfiguration.EndpointSecurity.basic",defaultMessage:"Basic Auth"})},{key:"DIGEST",value:a.formatMessage({id:"Apis.Details.Endpoints.GeneralConfiguration.EndpointSecurity.digest.auth",defaultMessage:"Digest Auth"})}];return Object(n.useEffect)(function(){c(null!==r?r:s)},[e]),i.a.createElement(ce.a,{container:!0,direction:"column"},i.a.createElement(ce.a,{item:!0,xs:12},i.a.createElement(wt.a,null,i.a.createElement(pl.a,{htmlFor:"auth-type-select"},i.a.createElement(d.a,{id:"Apis.Details.Endpoints.GeneralConfiguration.EndpointSecurity.auth.type",defaultMessage:"Auth Type"})),i.a.createElement(mn.a,{disabled:Object(Ka.b)(["apim:api_create"],t),fullwidth:!0,value:s.type,onChange:function(e){o(e,"type")},inputProps:{name:"key",id:"auth-type-select"}},u.map(function(e){return i.a.createElement(Pe.a,{value:e.key},e.value)})))),i.a.createElement(ce.a,{item:!0,container:!0,xs:12},i.a.createElement(ce.a,{item:!0,xs:!0},i.a.createElement(he.a,{disabled:Object(Ka.b)(["apim:api_create"],t),required:!0,id:"auth-userName",label:i.a.createElement(d.a,{id:"Apis.Details.Endpoints.GeneralConfiguration.EndpointSecurity.user.name.input",defaultMessage:"User Name"}),onChange:function(e){return c(Rp({},s,{username:e.target.value}))},value:s.username,onBlur:function(e){o(e,"username")}})),i.a.createElement(ce.a,{item:!0,xs:!0},i.a.createElement(he.a,{disabled:Object(Ka.b)(["apim:api_create"],t),required:!0,type:"password",id:"auth-password",label:i.a.createElement(d.a,{id:"Apis.Details.Endpoints.GeneralConfiguration.EndpointSecurity.password.input",defaultMessage:"Password"}),value:s.password,onChange:function(e){return c(Rp({},s,{password:e.target.value}))},onBlur:function(e){o(e,"password")}}))))}Lp.propTypes={classes:o.a.shape({advancedConfigWrapper:o.a.shape({}),textField:o.a.shape({}),menu:o.a.shape({}),credentialsContainer:o.a.shape({})}).isRequired,intl:o.a.func.isRequired,securityInfo:o.a.shape({}).isRequired,onChangeEndpointAuth:o.a.func.isRequired};var qp=Object(d.d)(Lp);function Wp(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Fp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,i=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){i=!0,r=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw r}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Bp=[{key:"http",value:"HTTP/REST Endpoint"},{key:"address",value:"HTTP/SOAP Endpoint"},{key:"default",value:"Dynamic Endpoints"},{key:"awslambda",value:"AWS Lambda Endpoint"}];function zp(e){var t=e.intl,a=e.epConfig,r=e.endpointSecurityInfo,o=e.handleToggleEndpointSecurity,l=e.handleEndpointSecurityChange,s=e.handleEndpointTypeSelect,c=e.endpointType,u=e.classes,p=e.apiType,m=Fp(Object(n.useState)(!0),2),f=m[0],g=m[1],y=Fp(Object(n.useState)([]),2),b=y[0],v=y[1],E=Fp(Object(n.useState)("Single HTTP/ REST"),2),w=E[0],C=E[1],P=Object(n.useContext)(io).api;return Object(n.useEffect)(function(){var e=function(){var e="",t=a.endpoint_type,n=c.key;if("default"===n)return"Dynamic Endpoints";if("awslambda"===n)return"AWS Lambda Endpoint";switch(t){case"load_balance":e="Load Balance";break;case"failover":e="Fail Over";break;default:e="Single"}return e="address"===n?e.concat(" HTTP/ SOAP"):e.concat(" HTTP/ REST")}();C(e)},[e]),Object(n.useEffect)(function(){_.getEndpointCertificates().then(function(e){var t=e.obj.certificates,n=function(e){var t=uu()(e),a=[];return Array.isArray(t.production_endpoints)?a.concat(t.production_endpoints):a.push(t.production_endpoints),Array.isArray(t.sandbox_endpoints)?a.concat(t.sandbox_endpoints):a.push(t.sandbox_endpoints),"failover"===t.endpoint_type&&(a.push.apply(a,kp(t.sandbox_failovers)),a.push.apply(a,kp(t.production_failovers))),a}(a),i=t.filter(function(e){var t=!0,a=!1,i=void 0;try{for(var r,o=n[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){if(-1!==r.value.url.indexOf(e.endpoint))return!0}}catch(e){a=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(a)throw i}}return!1});v(i)}).catch(function(e){console.error(e),v([])})},[]),i.a.createElement(i.a.Fragment,null,i.a.createElement(iu.a,{expanded:f,onChange:function(){return g(!f)},className:u.generalConfigPanel},i.a.createElement(ru.a,{expandIcon:i.a.createElement(su.a,null),"aria-controls":"panel1bh-content",id:"panel1bh-header",className:u.configHeaderContainer},i.a.createElement(h.a,{className:u.heading},i.a.createElement(d.a,{id:"Apis.Details.Endpoints.GeneralConfiguration.general.configuration.heading",defaultMessage:"General Configuration"})),"HTTP"!==p?i.a.createElement("div",null):i.a.createElement(h.a,{className:u.secondaryHeading},i.a.createElement(d.a,{id:"Apis.Details.Endpoints.GeneralConfiguration.endpoint.type.sub.heading",defaultMessage:"Endpoint Type"})," ",": ",w," | "),"HTTP"!==p||"awslambda"===c.key?i.a.createElement("div",null):i.a.createElement(h.a,{className:u.secondaryHeading,hidden:"HTTP"!==p||"default"===c.key||"awslambda"===c.key},i.a.createElement(d.a,{id:"Apis.Details.Endpoints.GeneralConfiguration.endpoint.security.sub.heading",defaultMessage:"Endpoint Security"}),": ",null!==r?r.type:"None"," | "),"HTTP"!==p||"default"===c.key||"awslambda"===c.key?i.a.createElement("div",null):i.a.createElement(h.a,{className:u.secondaryHeading,hidden:"HTTP"!==p||"default"===c.key||"awslambda"===c.key},i.a.createElement(d.a,{id:"Apis.Details.Endpoints.GeneralConfiguration.certificates.sub.heading",defaultMessage:"Certificates"}),": ",b.length)),i.a.createElement(ou.a,{className:u.generalConfigContent},i.a.createElement(ce.a,{container:!0,direction:"row",xs:12},"HTTP"!==p?i.a.createElement("div",null):i.a.createElement(ce.a,{container:!0,item:!0,xs:8},i.a.createElement(ce.a,{item:!0,xs:!0,className:u.endpointConfigSection},i.a.createElement(wt.a,{className:u.endpointTypeSelect},i.a.createElement(pl.a,{htmlFor:"endpoint-type-select"},i.a.createElement(d.a,{id:"Apis.Details.Endpoints.EndpointOverview.endpointType",defaultMessage:"Endpoint Type"})),i.a.createElement(mn.a,{disabled:Object(Ka.b)(["apim:api_create"],P),value:c.key,onChange:s,inputProps:{name:"key",id:"endpoint-type-select"}},Bp.map(function(e){return i.a.createElement(Pe.a,{value:e.key},e.value)})))),"HTTP"!==p?i.a.createElement("div",null):i.a.createElement(ce.a,{item:!0,xs:!0,className:u.endpointConfigSection,hidden:"awslambda"===c.key},i.a.createElement(Et.a,{value:"start",checked:null!==r,control:i.a.createElement(il.a,{color:"primary",disabled:Object(Ka.b)(["apim:api_create"],P)}),label:i.a.createElement(d.a,{id:"Apis.Details.Endpoints.EndpointOverview.endpoint.security.enable.switch",defaultMessage:"Endpoint Security"}),labelPlacement:"start",onChange:o}),i.a.createElement(Mp.a,{in:null!==r},i.a.createElement(qp,{securityInfo:r,onChangeEndpointAuth:l})))),i.a.createElement(ce.a,{item:!0,xs:!0,className:u.endpointConfigSection,hidden:"default"===c.key||"awslambda"===c.key},i.a.createElement(Wl,{certificates:b,uploadCertificate:function(e,a,n){_.addCertificate(e,a,n).then(function(e){if(201===e.status){se.info(t.formatMessage({id:"Apis.Details.Endpoints.GeneralConfiguration.Certificates.certificate.add.success",defaultMessage:"Certificate added successfully"}));var a=Wp(b);a.push({alias:e.obj.alias,endpoint:e.obj.endpoint}),v(a)}}).catch(function(e){console.error(e.message),"Conflict"===e.message&&se.error(t.formatMessage({id:"Apis.Details.Endpoints.GeneralConfiguration.Certificates.certificate.alias.exist",defaultMessage:"Adding Certificate Failed. Certificate alias exists."}))})},deleteCertificate:function(e){_.deleteEndpointCertificate(e).then(function(a){v(function(){return 200===a.status?b.filter(function(t){return t.alias!==e}):-1}),se.info(t.formatMessage({id:"Apis.Details.Endpoints.GeneralConfiguration.Certificates.certificate.delete.success",defaultMessage:"Certificate Deleted Successfully"}))}).catch(function(e){console.log(e),se.info(t.formatMessage({id:"Apis.Details.Endpoints.GeneralConfiguration.Certificates.certificate.delete.error",defaultMessage:"Error Deleting Certificate"}))})}}))))))}zp.propTypes={epConfig:o.a.shape({}).isRequired,endpointSecurityInfo:o.a.shape({}).isRequired,handleToggleEndpointSecurity:o.a.func.isRequired,handleEndpointSecurityChange:o.a.func.isRequired,handleEndpointTypeSelect:o.a.func.isRequired,endpointType:o.a.shape({}).isRequired,classes:o.a.shape({}).isRequired,intl:o.a.shape({}).isRequired,apiType:o.a.string.isRequired};var Up=Object(d.d)(Object(b.a)(function(e){return{endpointTypeSelect:{width:"50%"},configHeaderContainer:{display:"flex",justifyContent:"space-between"},generalConfigContent:{boxShadow:"inset -1px 2px 3px 0px #c3c3c3"},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary,display:"flex"},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0,fontWeight:"900"},endpointConfigSection:{padding:"10px"},generalConfigPanel:{width:"100%"}}})(zp));function Vp(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){Gp(e,t,a[t])})}return e}function Gp(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Hp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,i=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){i=!0,r=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw r}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Kp=[{key:"org.apache.synapse.endpoints.algorithms.RoundRobin",value:"Round-Robbin"},{key:"other",value:"other"}],Jp=[{key:"http",value:"Transport"},{key:"soap",value:"SOAP"},{key:"simpleClientSession",value:"Client Id"},{key:"none",value:"None"}],Qp={algoClassName:Kp[0].key,algoCombo:Kp[0].key,sessionManagement:Jp[0].key,sessionTimeOut:300};function Yp(e){var t=e.algoClassName,a=e.algoCombo,r=e.sessionManagement,o=e.sessionTimeOut,l=e.handleLBConfigChange,s=e.closeLBConfigDialog,c=e.classes,u=Hp(Object(n.useState)(Qp),2),p=u[0],m=u[1],f=Hp(Object(n.useState)(!1),2),h=f[0],g=f[1],y=Object(n.useContext)(io).api;Object(n.useEffect)(function(){m(function(){var e=Vp({},Qp);return a&&(e.algoCombo=a),r&&(e.sessionManagement=r),t&&(e.algoClassName=t),o&&(e.sessionTimeOut=o),e})},[e]);var b=function(e,t){m(Vp({},p,Gp({},t,e.target.value)))};return i.a.createElement(i.a.Fragment,null,i.a.createElement(ce.a,{container:!0,direction:"column"},i.a.createElement(he.a,{id:"algorithmSelect",select:!0,label:i.a.createElement(d.a,{id:"Apis.Details.Endpoints.LoadBalanceConfig.algorithm",defaultMessage:"Algorithm"}),value:p.algoCombo,onChange:function(e){var t=e.target.value;m(Vp({},p,{algoCombo:t,algoClassName:"other"===t?"":Qp.algoClassName}))},helperText:"Please select the Loadbalance Algorithm.",margin:"normal",disabled:Object(Ka.b)(["apim:api_create"],y)},Kp.map(function(e){return i.a.createElement(Pe.a,{key:e.key,value:e.key,selected:p.algoCombo},e.value)})),"other"===p.algoCombo?i.a.createElement(he.a,{id:"customAlgoInput",label:i.a.createElement(d.a,{id:"Apis.Details.Endpoints.LoadBalanceConfig.class.name.for.algorithm",defaultMessage:"Class Name for Algorithm"}),required:!0,error:h,value:p.algoClassName,onChange:function(e){return b(e,"algoClassName")},onBlur:function(){return g(""===p.algoClassName)},helperText:"Enter the class name of the loadbalance algorithm",disabled:Object(Ka.b)(["apim:api_create"],y),margin:"normal"}):i.a.createElement("div",null),i.a.createElement(he.a,{id:"sessionMgtSelect",select:!0,label:i.a.createElement(d.a,{id:"Apis.Details.Endpoints.LoadBalanceConfig.session.management",defaultMessage:"Session Management"}),value:p.sessionManagement,onChange:function(e){return b(e,"sessionManagement")},helperText:"Please select the Session Management mechanism.",margin:"normal",disabled:Object(Ka.b)(["apim:api_create"],y)},Jp.map(function(e){return i.a.createElement(Pe.a,{key:e.key,value:e.key},e.value)})),i.a.createElement(he.a,{id:"sessionTimeout",label:i.a.createElement(d.a,{id:"Apis.Details.Endpoints.LoadBalanceConfig.session.timeout",defaultMessage:"Session Timeout (Millis)"}),value:p.sessionTimeOut,onChange:function(e){return b(e,"sessionTimeOut")},type:"number",placeholder:"300",margin:"normal",disabled:Object(Ka.b)(["apim:api_create"],y)})),i.a.createElement(ce.a,{className:c.configButtonContainer},i.a.createElement(ue.a,{color:"primary",autoFocus:!0,onClick:function(){l(p)},disabled:""===p.algoClassName||Object(Ka.b)(["apim:api_create"],y)},i.a.createElement(d.a,{id:"Apis.Details.Endpoints.EndpointOverview.loadbalance.config.save.button",defaultMessage:"Save"})),i.a.createElement(ue.a,{color:"secondary",onClick:s},i.a.createElement(d.a,{id:"Apis.Details.Endpoints.EndpointOverview.loadbalance.config.cancel.button",defaultMessage:"Close"}))))}Yp.propTypes={api:o.a.shape({}).isRequired,classes:o.a.shape({}).isRequired,algoClassName:o.a.string.isRequired,algoCombo:o.a.string.isRequired,sessionManagement:o.a.string.isRequired,sessionTimeOut:o.a.string.isRequired,handleLBConfigChange:o.a.func.isRequired,closeLBConfigDialog:o.a.func.isRequired};var $p=Object(d.d)(Object(b.a)(function(e){return{configButtonContainer:{display:"flex",justifyContent:"flex-end",paddingTop:e.spacing()}}})(Yp));function Zp(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){Xp(e,t,a[t])})}return e}function Xp(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ed(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,i=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){i=!0,r=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw r}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var td={PaperProps:{style:{maxHeight:224,width:250}}};function ad(e){var t=Object(n.useContext)(io).api,a=e.classes,r=e.intl,o=e.advanceConfig,l=e.isSOAPEndpoint,s=e.onSaveAdvanceConfig,c=e.onCancel,u=ed(Object(n.useState)(function(){var e={};return l&&(e.format="soap11",e.optimize="SWA"),e.actionDuration="300",e.actionSelect="fault",e.factor="",e.retryDelay="",e.retryErroCode=[],e.retryTimeOut="",e.suspendDuration="",e.suspendErrorCode=[],e.suspendMaxDuration="",e}),2),p=u[0],m=u[1],f=[{key:"101001",value:"101001 : "+r.formatMessage({id:"Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.receiver.io.error.receiving",defaultMessage:"Receiver IO error receiving"})},{key:"101500",value:"101500 : "+r.formatMessage({id:"Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.sender.io.error.sending",defaultMessage:"Sender IO Error Sending"})},{key:"101000",value:"101000 : "+r.formatMessage({id:"Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.receiver.io.error.sending",defaultMessage:"Retriever IO Error Sending"})},{key:"101501",value:"101501 : "+r.formatMessage({id:"Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.sender.io.error.receiving",defaultMessage:"Sender IO Error Receiving"})},{key:"101503",value:"101503 : "+r.formatMessage({id:"Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.connection.failed",defaultMessage:"Connection Failed"})},{key:"101504",value:"101504 : "+r.formatMessage({id:"Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.connection.timed.out",defaultMessage:"Connection Timed Out"})},{key:"101505",value:"101505 : "+r.formatMessage({id:"Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.connection.closed",defaultMessage:"Connection Closed"})},{key:"101506",value:"101506 : "+r.formatMessage({id:"Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.tpp.protocol.violation",defaultMessage:"TTP Protocol Violation"})},{key:"101507",value:"101507 : "+r.formatMessage({id:"Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.connect.cancel",defaultMessage:"Connect Cancel"})},{key:"101508",value:"101508 : "+r.formatMessage({id:"Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.connect.timeout",defaultMessage:"Connect Timeout"})},{key:"101509",value:"101509 : "+r.formatMessage({id:"Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.send.abort",defaultMessage:"Send Abort"})},{key:"101510",value:"101510 : "+r.formatMessage({id:"Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.response.processing.failure",defaultMessage:"Response Processing Failure"})}],g=[{key:"fault",value:r.formatMessage({id:"Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.execute.fault.sequence",defaultMessage:"Execute Fault Sequence"})},{key:"discard",value:r.formatMessage({id:"Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.discard.message",defaultMessage:"Discard Message"})}],y=[{key:"soap11",value:"SOAP 1.1"},{key:"soap12",value:"SOAP 1.2"},{key:"POX",value:r.formatMessage({id:"Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.plain.old.xml",defaultMessage:"Plain Old XML (POX)"})},{key:"REST",value:r.formatMessage({id:"Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.representational.state.transfer",defaultMessage:"Representational State Transer (REST)"})},{key:"GET",value:"GET"},{key:"leave-as-is",value:r.formatMessage({id:"Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.leave.as.is",defaultMessage:"Leave As-Is"})}],b=[{key:"SWA",value:"SWA"},{key:"MTOM",value:"MTOM"},{key:"leave-as-is",value:r.formatMessage({id:"Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.leave.as.is",defaultMessage:"Leave As-Is"})}];Object(n.useEffect)(function(){m(function(){return o==={}?Zp({},p):Zp({},p,o)})},[e]);var v=function(e,t){var a=Zp({},p,Xp({},t,e.target.value));m(a)};return i.a.createElement(ce.a,{container:!0,direction:"column",className:a.configContainer},l?i.a.createElement(ce.a,{item:!0,container:!0,className:a.configSubContainer},i.a.createElement(h.a,{className:a.subTitle},i.a.createElement(d.a,{id:"Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.message.content",defaultMessage:"Message Content"})),i.a.createElement(wt.a,{className:a.formControl},i.a.createElement(pl.a,{htmlFor:"err-code-select"},i.a.createElement(d.a,{id:"Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.format.select",defaultMessage:"Format"})),i.a.createElement(mn.a,{autoWidth:!1,value:p.format,onChange:function(e){return v(e,"format")},input:i.a.createElement(ul.a,{id:"err-code-select"}),MenuProps:td},y.map(function(e){return i.a.createElement(Pe.a,{key:e.key,value:e.key},e.value)}))),i.a.createElement(wt.a,{className:a.formControl},i.a.createElement(pl.a,{htmlFor:"err-code-select"},i.a.createElement(d.a,{id:"Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.optimize.select",defaultMessage:"Optimize"})),i.a.createElement(mn.a,{autoWidth:!1,value:p.optimize,onChange:function(e){return v(e,"optimize")},input:i.a.createElement(ul.a,{id:"err-code-select"}),MenuProps:td},b.map(function(e){return i.a.createElement(Pe.a,{key:e.key,value:e.key},e.value)}))),i.a.createElement(pi.a,null)):i.a.createElement("div",null),i.a.createElement(ce.a,{item:!0,container:!0,className:a.configSubContainer},i.a.createElement(h.a,{className:a.subTitle},i.a.createElement(d.a,{id:"Endpoint.Suspension.State",defaultMessage:"Endpoint Suspension State"})),i.a.createElement(wt.a,{className:a.formControl},i.a.createElement(pl.a,{htmlFor:"err-code-select"},i.a.createElement(d.a,{id:"Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.error.code",defaultMessage:"Error Code"})),i.a.createElement(mn.a,{multiple:!0,autoWidth:!1,value:p.suspendErrorCode,onChange:function(e){return v(e,"suspendErrorCode")},input:i.a.createElement(ul.a,{id:"err-code-select"}),MenuProps:td,variant:"outlined"},f.map(function(e){return i.a.createElement(Pe.a,{key:e.key,value:e.key},e.value)}))),i.a.createElement(he.a,{className:a.textField,id:"initial-duration-input",value:p.suspendDuration,onChange:function(e){return v(e,"suspendDuration")},label:i.a.createElement(d.a,{id:"Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.initial.duration.ms",defaultMessage:"Initial Duration (ms)"}),margin:"normal",type:"number"}),i.a.createElement(he.a,{className:a.textField,id:"max-duration-input",value:p.suspendMaxDuration,onChange:function(e){return v(e,"suspendMaxDuration")},label:i.a.createElement(d.a,{id:"Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.max.duration.ms",defaultMessage:"Max Duration (ms)"}),margin:"normal",type:"number"}),i.a.createElement(he.a,{className:a.textField,value:p.factor,onChange:function(e){return v(e,"factor")},id:"factor-input",label:i.a.createElement(d.a,{id:"Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.factor",defaultMessage:"Factor"}),margin:"normal"})),i.a.createElement(pi.a,null),i.a.createElement(ce.a,{item:!0,container:!0,className:a.configSubContainer},i.a.createElement(h.a,{className:a.subTitle},i.a.createElement(d.a,{id:"Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.endpoint.timeout.state",defaultMessage:"Endpoint Timeout State"})),i.a.createElement(wt.a,{className:a.formControl},i.a.createElement(pl.a,{htmlFor:"err-code-select"},i.a.createElement(d.a,{id:"Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.error.code",defaultMessage:"Error Code"})),i.a.createElement(mn.a,{multiple:!0,autoWidth:!1,value:p.retryErroCode,onChange:function(e){return v(e,"retryErroCode")},input:i.a.createElement(ul.a,{id:"err-code-select"}),MenuProps:td},f.map(function(e){return i.a.createElement(Pe.a,{key:e.key,value:e.key},e.value)}))),i.a.createElement(he.a,{className:a.textField,id:"retries-input",value:p.retryTimeOut,onChange:function(e){return v(e,"retryTimeOut")},label:i.a.createElement(d.a,{id:"Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.retries.before.suspension",defaultMessage:"Retries Before Suspension"}),type:"number",margin:"normal"}),i.a.createElement(he.a,{className:a.textField,id:"retry-delay-input",value:p.retryDelay,onChange:function(e){return v(e,"retryDelay")},label:i.a.createElement(d.a,{id:"Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.retry.delay.ms",defaultMessage:"Retry Delay (ms)"}),type:"number",margin:"normal"})),i.a.createElement(pi.a,null),i.a.createElement(ce.a,{item:!0,container:!0,className:a.configSubContainer},i.a.createElement(h.a,{className:a.subTitle},i.a.createElement(d.a,{id:"Connection.Timeout",defaultMessage:"Connection Timeout"})),i.a.createElement(wt.a,{className:a.formControl},i.a.createElement(pl.a,{htmlFor:"err-code-select"},i.a.createElement(d.a,{id:"Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.action",defaultMessage:"Action"})),i.a.createElement(mn.a,{autoWidth:!1,value:p.actionSelect,onChange:function(e){return v(e,"actionSelect")},input:i.a.createElement(ul.a,{id:"err-code-select"}),MenuProps:td},g.map(function(e){return i.a.createElement(Pe.a,{key:e.key,value:e.key},e.value)}))),i.a.createElement(he.a,{className:a.textField,id:"duration-input",value:p.actionDuration,onChange:function(e){return v(e,"actionDuration")},label:i.a.createElement(d.a,{id:"Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.duration.ms",defaultMessage:"Duration (ms)"}),type:"number",margin:"normal"})),i.a.createElement(ce.a,{className:a.advanceDialogActions},i.a.createElement(ue.a,{onClick:function(){return s(p)},color:"primary",autoFocus:!0,disabled:Object(Ka.b)(["apim:api_create"],t)},i.a.createElement(d.a,{id:"Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.config.save.button",defaultMessage:"Save"})),i.a.createElement(ue.a,{onClick:c,color:"secondary"},i.a.createElement(d.a,{id:"Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.cancel.button",defaultMessage:"Close"}))))}ad.propTypes={classes:o.a.shape({configContainer:o.a.shape({}),configSubContainer:o.a.shape({}),subTitle:o.a.shape({}),formControl:o.a.shape({})}).isRequired,intl:o.a.shape({formatMessage:o.a.func}).isRequired,advanceConfig:o.a.shape({}).isRequired,isSOAPEndpoint:o.a.bool.isRequired,onSaveAdvanceConfig:o.a.func.isRequired,onCancel:o.a.func.isRequired};var nd=Object(d.d)(Object(b.a)(function(e){return{formControl:{width:"500px"},subTitle:{fontSize:"1rem",paddingTop:e.spacing(),paddingBottom:e.spacing(),marginBottom:e.spacing()},configContainer:{paddingTop:"10px"},configSubContainer:{paddingBottom:"10px",marginTop:"5px",padding:"5px"},textField:{marginRight:e.spacing(),width:"45%"},advanceDialogActions:{display:"flex",justifyContent:"flex-end"}}},{withTheme:!0})(ad));function id(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){rd(e,t,a[t])})}return e}function rd(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function od(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,i=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){i=!0,r=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw r}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var ld=[{key:"http",value:"HTTP/REST Endpoint"},{key:"address",value:"HTTP/SOAP Endpoint"},{key:"default",value:"Dynamic Endpoints"},{key:"awslambda",value:"AWS Lambda Endpoint"}];function sd(e){var t=e.classes,a=e.api,r=e.onChangeAPI,o=a.endpointConfig,l=a.endpointSecurity,s=od(Object(n.useState)(ld[0]),2),c=s[0],u=s[1],p=od(Object(n.useState)(o),2),m=p[0],f=p[1],g=od(Object(n.useState)(null),2),y=g[0],b=g[1],v=od(Object(n.useState)(!1),2),E=v[0],w=v[1],C=od(Object(n.useState)({open:!1,index:0,type:"",category:"",config:void 0}),2),P=C[0],S=C[1];Object(n.useEffect)(function(){u(function(e){if("http"===e)return ld[0];if("address"===e)return ld[1];if("default"===e)return ld[2];if("awslambda"===e)return ld[3];var t=o.production_endpoints;return Array.isArray(t)?void 0!==t[0].endpoint_type?ld[1]:ld[0]:void 0!==t.endpoint_type?ld[1]:ld[0]}(o.endpoint_type)),b(l)},[]),Object(n.useEffect)(function(){r(id({},a,{endpointSecurity:y}))},[y]),Object(n.useEffect)(function(){r(id({},a,{endpointConfig:m}))},[m]),Object(n.useEffect)(function(){},[c]);var A=function(e,t,a){var n=null,i=uu()(m);if(e>0){var r=Dp(i.endpoint_type,t);n=i[r],"failover"===i.endpoint_type?n[e-1].url=a:n[e].url=a,i[r]=n}else n=i[t],Array.isArray(n)?n[0].url=a:n.url=a,i[t]=n;f(i)},O=function(e,t,a){var n=uu()(m),i={};i="address"===c.key||"failover"===t?{endpoint_type:c.key,template_not_supported:!1,url:a}:{url:a};var r=Dp(t,e),o=n[r];o=o?Array.isArray(o)?o.concat(i):[o].concat(i):[i],n[r]=o,f(n)},x=function(e){var t=function(e,t,a){var n={};return"failover"===e?(n.endpoint_type=e,n.production_failovers=a.production_failovers?a.production_failovers:[],n.sandbox_failovers=a.sandbox_failovers?a.sandbox_failovers:[],n.production_endpoints=Array.isArray(a.production_endpoints)?a.production_endpoints[0]:a.production_endpoints,n.sandbox_endpoints=Array.isArray(a.sandbox_endpoints)?a.sandbox_endpoints[0]:a.sandbox_endpoints,n.failOver="True"):"load_balance"===e?(n.endpoint_type=e,n.algoClassName="org.apache.synapse.endpoints.algorithms.RoundRobin",n.algoCombo="org.apache.synapse.endpoints.algorithms.RoundRobin",n.sessionManagement="",n.sessionTimeOut="",n.production_endpoints=Array.isArray(a.production_endpoints)?a.production_endpoints:[a.production_endpoints],n.sandbox_endpoints=Array.isArray(a.sandbox_endpoints)?a.sandbox_endpoints:[a.sandbox_endpoints],n.failOver="False"):(n.endpoint_type=!0===t?"address":e,n.production_endpoints=Array.isArray(a.production_endpoints)?a.production_endpoints[0]:a.production_endpoints,n.sandbox_endpoints=Array.isArray(a.sandbox_endpoints)?a.sandbox_endpoints[0]:a.sandbox_endpoints,n.failOver="False"),n}(e.target.value,"address"===c.key,m);f(id({},t))},I=function(e,t,a){var n=function(e,t,a){var n=Dp(t,a),i={};if(e>0)i="failover"===m.endpoint_type?m[n][e-1].config:m[n][e].config;else{var r=m[n];i=Array.isArray(r)?r[0].config:r.config}return i}(e,t,a);S(function(){return{open:!P.open,index:e,type:t,category:a,config:void 0===n?{}:n}})},T=function(e,t,a){var n=Dp(t,a),i="failover"===t?e-1:e,r=m[n];r.splice(i,1),f(id({},m,rd({},n,r)))};return i.a.createElement(i.a.Fragment,{className:t.overviewWrapper},i.a.createElement(ce.a,{container:!0,xs:12},i.a.createElement(ce.a,{container:!0,item:!0,xs:12},i.a.createElement(Up,{epConfig:uu()(m),endpointSecurityInfo:y,onChangeEndpointCategory:x,handleToggleEndpointSecurity:function(){b(function(){return null===y?{type:"BASIC",username:"",password:""}:null})},handleEndpointSecurityChange:function(e,t){b(id({},y,rd({},t,e.target.value)))},handleEndpointTypeSelect:function(e){var t=e.target.value,a=ld.filter(function(e){return e.key===t})[0],n=_p(t);f(n),u(a)},endpointType:c,apiType:a.type})),"awslambda"===c.key?i.a.createElement("div",null):i.a.createElement(me.a,{className:t.endpointContainer,hidden:"default"===c.key},i.a.createElement(ce.a,{container:!0,item:!0,xs:12},i.a.createElement(ce.a,{xs:!0,className:t.endpointsWrapperLeft},i.a.createElement("div",{className:t.sandboxHeading},i.a.createElement(h.a,{className:t.endpointName},i.a.createElement(d.a,{id:"Apis.Details.Endpoints.EndpointOverview.production",defaultMessage:"Production"}))),i.a.createElement(Pp,{className:t.defaultEndpointWrapper,endpointURL:m.production_endpoints&&m.production_endpoints.length>0?m.production_endpoints[0].url:m.production_endpoints.url,type:"",index:0,category:"production_endpoints",editEndpoint:A,setAdvancedConfigOpen:I})),i.a.createElement(ce.a,{xs:!0,className:t.endpointsWrapperRight},i.a.createElement("div",{className:t.sandboxHeading},i.a.createElement(h.a,{className:t.endpointName},i.a.createElement(d.a,{id:"Apis.Details.Endpoints.EndpointOverview.sandbox",defaultMessage:"Sandbox"}))),i.a.createElement(Pp,{className:t.defaultEndpointWrapper,endpointURL:m.sandbox_endpoints&&m.sandbox_endpoints.length>0?m.sandbox_endpoints[0].url:m.sandbox_endpoints.url,type:"",index:0,category:"sandbox_endpoints",editEndpoint:A,setAdvancedConfigOpen:I}))),"HTTP"===a.type?i.a.createElement(ce.a,{container:!0,item:!0,xs:12,direction:"column"},i.a.createElement(ce.a,{xs:!0,className:t.endpointsTypeSelectWrapper},i.a.createElement("div",null),i.a.createElement("div",{className:t.endpointTypesSelectWrapper},i.a.createElement("div",{className:t.addLabel},i.a.createElement(h.a,null,i.a.createElement(d.a,{id:"Apis.Details.Endpoints.EndpointOverview.add.text",defaultMessage:"Add"}))),i.a.createElement(wt.a,{component:"fieldset",className:t.formControl},i.a.createElement(vt.a,{"aria-label":"EndpointType",name:"endpointType",className:t.radioGroup,value:m.endpoint_type,onChange:x},i.a.createElement(Et.a,{value:"failover",control:i.a.createElement(bt.a,null),label:"Failover"}),i.a.createElement(Et.a,{value:"load_balance",control:i.a.createElement(bt.a,null),label:"Load balance"}))),i.a.createElement("div",null,i.a.createElement(K.a,{disabled:"load_balance"!==m.endpoint_type,"aria-label":"Delete",onClick:function(){return w(!0)}},i.a.createElement(va.a,null,"settings")))),i.a.createElement("div",null)),i.a.createElement(ce.a,{xs:!0,container:!0},i.a.createElement(ce.a,{xs:!0,className:t.endpointsWrapperLeft},i.a.createElement(Tp,{apiEndpoints:m.production_endpoints,failOvers:m.production_failovers,epType:m.endpoint_type,addNewEndpoint:O,removeEndpoint:T,editEndpoint:A,setAdvancedConfigOpen:I,category:"production_endpoints"})),i.a.createElement(ce.a,{xs:!0,className:t.endpointsWrapperRight},i.a.createElement(Tp,{apiEndpoints:m.sandbox_endpoints,failOvers:m.sandbox_failovers,epType:m.endpoint_type,addNewEndpoint:O,removeEndpoint:T,editEndpoint:A,setAdvancedConfigOpen:I,category:"sandbox_endpoints"})))):i.a.createElement("div",null))),i.a.createElement(Wa.a,{open:E},i.a.createElement(Fa.a,null,i.a.createElement(h.a,{className:t.configDialogHeader},i.a.createElement(d.a,{id:"Apis.Details.Endpoints.EndpointOverview.load.balance.configuration.title",defaultMessage:"Load Balance Configuration"}))),i.a.createElement(Ba.a,null,i.a.createElement($p,{handleLBConfigChange:function(e){f(id({},m,e)),w(!1)},closeLBConfigDialog:function(){return w(!1)},algoCombo:m.algoCombo,algoClassName:m.algoClassName,sessionTimeOut:m.sessionTimeOut,sessionManagement:m.sessionManagement}))),i.a.createElement(Wa.a,{open:P.open},i.a.createElement(Fa.a,null,i.a.createElement(h.a,{className:t.configDialogHeader},i.a.createElement(d.a,{id:"Apis.Details.Endpoints.EndpointOverview.advance.endpoint.configuration",defaultMessage:"Advance Configuration"}))),i.a.createElement(Ba.a,null,i.a.createElement(nd,{isSOAPEndpoint:"address"===c.key,advanceConfig:P.config,onSaveAdvanceConfig:function(e){var t=Dp(P.type,P.category),a=uu()(m[t]);Array.isArray(a)?"failover"===P.type?a[P.index-1].config=e:a[P.index].config=e:a.config=e,S({open:!1}),f(id({},m,rd({},t,a)))},onCancel:function(){S({open:!1})}}))))}sd.propTypes={classes:o.a.shape({overviewWrapper:o.a.shape({}),endpointTypesWrapper:o.a.shape({}),endpointName:o.a.shape({})}).isRequired,api:o.a.shape({}).isRequired,onChangeAPI:o.a.func.isRequired};var cd=Object(d.d)(Object(b.a)(function(e){return{overviewWrapper:{marginTop:e.spacing(2)},listing:{margin:e.spacing(),padding:e.spacing()},endpointContainer:{paddingBottom:e.spacing(),paddingTop:e.spacing(),width:"100%",marginTop:e.spacing()},endpointName:{paddingLeft:e.spacing(),fontSize:"1rem",paddingTop:e.spacing(),paddingBottom:e.spacing()},endpointTypesWrapper:{padding:e.spacing(3),marginTop:e.spacing(2)},sandboxHeading:{display:"flex",alignItems:"center"},radioGroup:{display:"flex",flexDirection:"row",paddingTop:e.spacing()},endpointsWrapperLeft:{padding:e.spacing(),borderRight:"#c4c4c4",borderRightStyle:"solid",borderRightWidth:"thin"},endpointsWrapperRight:{padding:e.spacing()},endpointsTypeSelectWrapper:{marginLeft:e.spacing(2),marginRight:e.spacing(2),padding:e.spacing(),display:"flex",justifyContent:"space-between"},endpointTypesSelectWrapper:{display:"flex"},defaultEndpointWrapper:{paddingLeft:e.spacing(),paddingRight:e.spacing(),marginRight:e.spacing()},configDialogHeader:{fontWeight:"600"},addLabel:{padding:e.spacing(2)}}})(sd));function ud(e){var t=e.resourcePath,a=e.resourceMethod,n=e.scriptContent,r=e.classes,o=e.theme,l=e.onChange,s=o.custom.resourceChipColors?o.custom.resourceChipColors[a]:null,c="#000000";return s?c=o.palette.getContrastText(o.custom.resourceChipColors[a]):(console.log("Check the theme settings. The resourceChipColors is not populated properlly"),s="#cccccc"),i.a.createElement(iu.a,null,i.a.createElement(ru.a,{className:r.prototypeResourceHeader,expandIcon:i.a.createElement(su.a,null)},i.a.createElement(ce.a,{container:!0,spacing:12},i.a.createElement(ce.a,{xs:1},i.a.createElement(Na.a,{label:a,style:{backgroundColor:s,color:c},className:r.chipActive})),i.a.createElement(ce.a,{xs:!0,className:r.resourcePathContainer},i.a.createElement(h.a,null,t)))),i.a.createElement(ou.a,{className:r.genericResourceContent},i.a.createElement(ce.a,{container:!0,direction:"column"},i.a.createElement(ce.a,{item:!0},i.a.createElement(h.a,{variant:"h6"},i.a.createElement(d.a,{id:"Apis.Details.Endpoints.Prototype.InlineEndpoints.script",defaultMessage:"Script"})," "," : ")),i.a.createElement(ce.a,{item:!0},i.a.createElement($s.a,{height:"50vh",width:"100%",theme:"vs-dark",value:n,options:{selectOnLineNumbers:!0},language:"javascript",onChange:function(e){return l(e,t,a)}})))))}ud.propTypes={resourcePath:o.a.string.isRequired,resourceMethod:o.a.string.isRequired,scriptContent:o.a.string.isRequired,classes:o.a.shape({}).isRequired,theme:o.a.shape({}).isRequired,onChange:o.a.func.isRequired};var pd=Object(b.a)(function(e){return{editor:{width:"100%"},chipActive:{borderRadius:"5px",width:"80%"},resourcePathContainer:{paddingTop:e.spacing()},genericResourceContent:{boxShadow:"inset 0px 3px 2px 0px #aaaaaa"}}},{withTheme:!0})(ud),dd="x-mediation-script",md='/* mc.setProperty("CONTENT_TYPE", "application/json");\nmc.setPayloadJSON("{ "data" : "sample JSON"}");*/\n/*Uncomment the above comment block to send a sample response.*/';function fd(e){var t=e.paths,a=e.updatePaths,n=function(e,n,i){var r=JSON.parse(JSON.stringify(t));r[n][i][dd]=e,a(r)};return i.a.createElement(i.a.Fragment,null,Object.keys(t).map(function(e){return Object.keys(t[e]).map(function(a){var r=t[e][a][dd],o=void 0===r?md:r;return i.a.createElement(pd,{resourcePath:e,resourceMethod:a,onChange:n,scriptContent:o})})}))}fd.propTypes={paths:o.a.shape({}).isRequired,updatePaths:o.a.func.isRequired};var hd=fd;function gd(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){yd(e,t,a[t])})}return e}function yd(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function bd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,i=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){i=!0,r=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw r}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var vd=[{key:"INLINE",value:"Inline"},{key:"ENDPOINT",value:"Endpoint"}];function Ed(e){var t=e.api,a=e.modifyAPI,r=e.classes,o=e.swaggerDef,l=e.updateSwagger,s=bd(Object(n.useState)("endpoint"),2),c=s[0],u=s[1],p=bd(Object(n.useState)("http://localhost"),2),m=p[0],f=p[1];Object(n.useEffect)(function(){u(t.endpointImplementationType),f(t.endpointConfig.production_endpoints.url)},[e]);return i.a.createElement(i.a.Fragment,null,i.a.createElement(ce.a,{container:!0,direction:"column"},i.a.createElement(me.a,null,i.a.createElement(ce.a,{item:!0,className:r.prototypeEndpointSelectorWrapper},i.a.createElement(h.a,{className:r.implementationMethodHeader},i.a.createElement(d.a,{id:"Apis.Details.Endpoints.Prototype.PrototypeEndpoints.endpoint.implementation.method",defaultMessage:"Endpoint Implementation Method"})),i.a.createElement(wt.a,{component:"fieldset"},i.a.createElement(vt.a,{"aria-label":"gender",name:"gender1",className:r.radioGroup,value:c,onChange:function(e){var n=uu()(t);a(gd({},n,{endpointImplementationType:e.target.value}))}},i.a.createElement(Et.a,{value:vd[0].key,control:i.a.createElement(bt.a,null),label:i.a.createElement(d.a,{id:"Apis.Details.Endpoints.Prototype.PrototypeEndpoints.mock",defaultMessage:"Mock"})}),i.a.createElement(Et.a,{value:vd[1].key,control:i.a.createElement(bt.a,null),label:i.a.createElement(d.a,{id:"Apis.Details.Endpoints.Prototype.PrototypeEndpoints.endpoint",defaultMessage:"Endpoint"})}))))),i.a.createElement(ce.a,{item:!0,className:r.prototypeEndpointsWrapper},c===vd[0].key?i.a.createElement(hd,{paths:o.paths,updatePaths:function(e){l(gd({},o,{paths:e}))}}):i.a.createElement(me.a,{className:r.genericEndpointWrapper},i.a.createElement(Pp,{endpointURL:m,type:"prototyped",index:0,category:"prototyped",editEndpoint:function(e,n,i){var r=JSON.parse(JSON.stringify(t)),o=r.endpointConfig;o.production_endpoints={url:i},o.sandbox_endpoints={url:i},a(gd({},r,{endpointConfig:o}))},setAdvancedConfigOpen:null})))))}Ed.propTypes={api:o.a.shape({}).isRequired,modifyAPI:o.a.func.isRequired,classes:o.a.shape({}).isRequired,swaggerDef:o.a.shape({}).isRequired,updateSwagger:o.a.func.isRequired};var wd=Object(b.a)(function(e){return{prototypeEndpointSelectorWrapper:{padding:e.spacing(2)},prototypeEndpointsWrapper:{marginTop:e.spacing()},genericEndpointWrapper:{padding:e.spacing()},radioGroup:{display:"flex",flexDirection:"row"},implementationMethodHeader:{fontWeight:900}}})(Ed);function Cd(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){Pd(e,t,a[t])})}return e}function Pd(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Sd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,i=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){i=!0,r=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw r}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Ad=["managed","PROTOTYPED"],Od={paths:{}};function xd(e){var t=e.classes,a=e.intl,r=Object(n.useContext)(to),o=r.api,l=r.updateAPI,s=Sd(Object(n.useState)(o),2),c=s[0],u=s[1],p=Sd(Object(n.useState)(""),2),m=p[0],f=p[1],g=Sd(Object(n.useState)(Od),2),y=g[0],b=g[1],v=Sd(Object(n.useState)({isValid:!0,message:""}),2),E=v[0],w=v[1];Object(n.useEffect)(function(){var e=o.lifeCycleStatus,t=uu()(o.toJSON());u(t);var a=null===t.endpointConfig?void 0:t.endpointConfig.implementation_status;f(function(){return"PROTOTYPED"===e||"prototyped"===a?Ad[1]:Ad[0]})},[]),Object(n.useEffect)(function(){w(function(e,t){if(null===e)return{isValid:!1,message:""};switch(e.endpoint_type){case"awslambda":if(""===e.accessKey||""===e.secretKey)return{isValid:!1,message:a.formatMessage({id:"Apis.Details.Endpoints.Endpoints.missing.accessKey.secretKey.error",defaultMessage:"Access Key and/ or Secret Key should not be empty"})};break;case"load_balance":if(""===e.production_endpoints[0].url&&""===e.sandbox_endpoints[0].url)return{isValid:!1,message:a.formatMessage({id:"Apis.Details.Endpoints.Endpoints.missing.endpoint.loadbalance",defaultMessage:"Production or Sandbox Endpoints should not be empty"})};break;default:if("prototyped"===e.implementation_status){if("ENDPOINT"===t&&""===e.production_endpoints.url)return{isValid:!1,message:a.formatMessage({id:"Apis.Details.Endpoints.Endpoints.missing.prototype.url",defaultMessage:"Prototype Endpoint URL should not be empty"})}}else if(""===e.production_endpoints.url&&""===e.sandbox_endpoints.url)return{isValid:!1,message:a.formatMessage({id:"Apis.Details.Endpoints.Endpoints.missing.endpoint.error",defaultMessage:"Either one of Production or Sandbox Endpoints should be added."})}}return{isValid:!0,message:""}}(c.endpointConfig,c.endpointImplementationType))},[c]),Object(n.useEffect)(function(){"PROTOTYPED"===m&&o.getSwagger(c.id).then(function(e){b(e.obj)}).catch(function(e){console.err(e)})},[m]);return i.a.createElement(i.a.Fragment,null,null===o.endpointConfig&&null===c.endpointConfig?i.a.createElement(Ep,{generateEndpointConfig:function(e,t){var a=_p(e);u(function(){return Cd({},c,"prototyped"===e?"mock"===t?{endpointConfig:a,endpointImplementationType:"INLINE"}:{endpointConfig:a,endpointImplementationType:"ENDPOINT"}:{endpointConfig:a})}),f(function(){return"PROTOTYPED"===c.lifeCycleStatus||"prototyped"===e?Ad[1]:Ad[0]})}}):i.a.createElement("div",{className:t.root},i.a.createElement(ce.a,{container:!0,spacing:16},i.a.createElement(ce.a,{item:!0},i.a.createElement(h.a,{variant:"h4",align:"left",className:t.titleWrapper},i.a.createElement(d.a,{id:"Apis.Details.Endpoints.Endpoints.endpoints.header",defaultMessage:"Endpoints"}))),"HTTP"===c.type&&"awslambda"!==c.endpointConfig.type?i.a.createElement(ce.a,{item:!0},i.a.createElement(vt.a,{"aria-label":"endpointImpl",name:"endpointImpl",className:t.radioGroup,value:m,onChange:function(e){var t=e.target.value;f(t);var a=function(e){var t={};return"PROTOTYPED"===e?(t.endpoint_type="http",t.implementation_status="prototyped",t.production_endpoints={config:null,url:"http://localhost"},t.sandbox_endpoints={config:null,url:"http://localhost"}):(t.endpoint_type="http",t.production_endpoints={url:""},t.sandbox_endpoints={url:""},t.failOver="False"),t}(t);u(Cd({},c,{endpointConfig:a}))}},i.a.createElement(Et.a,{value:"managed",control:i.a.createElement(bt.a,null),label:i.a.createElement(d.a,{id:"Apis.Details.Endpoints.Endpoints.managed",defaultMessage:"Managed"})}),i.a.createElement(Et.a,{value:"PROTOTYPED",control:i.a.createElement(bt.a,null),label:i.a.createElement(d.a,{id:"Apis.Details.Endpoints.Endpoints.prototyped",defaultMessage:"Prototyped"})}))):i.a.createElement("div",null)),i.a.createElement("div",null,i.a.createElement(ce.a,{container:!0},i.a.createElement(ce.a,{item:!0,xs:12,className:t.endpointsContainer},"PROTOTYPED"===m?i.a.createElement(wd,{implementation_method:c.endpointConfig.implementation_status,api:c,modifyAPI:u,swaggerDef:y,updateSwagger:function(e){b(e)}}):i.a.createElement(cd,{api:c,onChangeAPI:u}))),E.isValid?i.a.createElement("div",null):i.a.createElement(ce.a,{item:!0,className:t.errorMessageContainer},i.a.createElement(h.a,{className:t.endpointValidityMessage},E.message)),i.a.createElement(ce.a,{container:!0,direction:"row",alignItems:"flex-start",spacing:4,className:t.buttonSection},i.a.createElement(ce.a,{item:!0},i.a.createElement(ue.a,{disabled:!E.isValid||Object(Ka.b)(["apim:api_create"],o),type:"submit",variant:"contained",color:"primary",onClick:function(){return c!=={}&&l(c),void(Object.getOwnPropertyNames(Od).length!==Object.getOwnPropertyNames(y).length&&(console.log("Updating swagger..."),o.updateSwagger(y).then(function(e){console.log("success",e)}).catch(function(e){console.log(e)})))}},i.a.createElement(d.a,{id:"Apis.Details.Endpoints.Endpoints.save",defaultMessage:"Save"}))),i.a.createElement(ce.a,{item:!0},i.a.createElement(pe.b,{to:"/apis/"+o.id+"/overview"},i.a.createElement(ue.a,null,i.a.createElement(d.a,{id:"Apis.Details.Endpoints.Endpoints.cancel",defaultMessage:"Cancel"})))),Object(Ka.b)(["apim:api_create"],o)&&i.a.createElement(ce.a,{item:!0},i.a.createElement(h.a,{variant:"body2",color:"primary"},i.a.createElement(d.a,{id:"Apis.Details.Endpoints.Endpoints.update.not.allowed",defaultMessage:"*You are not authorized to update Endpoints of the API due to insufficient permissions"})))))))}xd.propTypes={classes:o.a.shape({root:o.a.shape({}),buttonSection:o.a.shape({}),endpointTypesWrapper:o.a.shape({}),mainTitle:o.a.shape({})}).isRequired,api:o.a.shape({}).isRequired,intl:o.a.shape({}).isRequired};var Id=Object(d.d)(Object(b.a)(function(e){return{endpointTypesWrapper:{display:"flex",alignItems:"center",flexDirection:"row",margin:"2px"},root:{flexGrow:1,paddingRight:"10px"},buttonSection:{marginTop:e.spacing(2)},titleWrapper:{paddingTop:"10px"},radioGroup:{display:"flex",flexDirection:"row",marginLeft:e.spacing(2)},endpointValidityMessage:{color:e.palette.error.main},errorMessageContainer:{marginTop:e.spacing()}}})(xd));a(783);function Td(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function kd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,i=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){i=!0,r=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw r}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Dd(){var e=Object(n.useContext)(to),t=e.api,a=e.updateAPI,r=$r().settings,o=kd(Object(n.useState)(Td(t.gatewayEnvironments)),2),l=o[0],s=o[1],c=kd(Object(n.useState)(!1),2),u=c[0],p=c[1];return i.a.createElement("div",null,i.a.createElement(h.a,{variant:"h4",align:"left"},i.a.createElement(d.a,{id:"Apis.Details.Environments.Environments.APIGateways",defaultMessage:"API Gateways"})),i.a.createElement(me.a,null,i.a.createElement(yo.a,null,i.a.createElement(Cs.a,null,i.a.createElement(vo.a,null,i.a.createElement(bo.a,null),i.a.createElement(bo.a,null,"Name"),i.a.createElement(bo.a,{align:"right"},"Type"),i.a.createElement(bo.a,{align:"right"},"ServerURL"),i.a.createElement(bo.a,{align:"right"},"Http"),i.a.createElement(bo.a,{align:"right"},"Https"))),i.a.createElement(ws.a,null,r.environment.map(function(e){return i.a.createElement(vo.a,{key:e.name},i.a.createElement(bo.a,{padding:"checkbox"},i.a.createElement(Ae.a,{disabled:Object(Ka.b)(["apim:api_create","apim:api_publish"],t),checked:l.includes(e.name),onChange:function(e){var t=e.target,a=t.checked,n=t.name;s(a?[].concat(Td(l),[n]):l.filter(function(e){return e!==n}))},name:e.name})),i.a.createElement(bo.a,{component:"th",scope:"row"},e.name),i.a.createElement(bo.a,{align:"right"},e.type),i.a.createElement(bo.a,{align:"right"},e.serverUrl),i.a.createElement(bo.a,{align:"right"},e.endpoints.http),i.a.createElement(bo.a,{align:"right"},e.endpoints.https))})))),i.a.createElement(ce.a,{container:!0,direction:"row",alignItems:"flex-start",spacing:4},i.a.createElement(ce.a,{item:!0},i.a.createElement(ue.a,{disabled:Object(Ka.b)(["apim:api_create","apim:api_publish"],t)&&u,type:"submit",variant:"contained",color:"primary",onClick:function(){p(!0),a({gatewayEnvironments:l}).then(function(){return se.info("API Update Successfully")}).catch(function(e){e.response?se.error(e.response.body.description):se.error("Something went wrong while updating the environments"),console.error(e)}).finally(function(){return p(!1)})}},i.a.createElement(d.a,{id:"Apis.Details.Environments.Environments.save",defaultMessage:"Save"}),u&&i.a.createElement(de.a,{size:20}))),i.a.createElement(ce.a,{item:!0},i.a.createElement(pe.b,{to:"/apis/"+t.id+"/overview"},i.a.createElement(ue.a,null,i.a.createElement(d.a,{id:"Apis.Details.Environments.Environments.cancel",defaultMessage:"Cancel"}))))))}var _d=a(567),Md=a.n(_d),Rd=a(1306),jd=a(1744),Nd=a.n(jd),Ld=a(931),qd=a.n(Ld),Wd=a(963),Fd=a.n(Wd),Bd=a(1745),zd=a.n(Bd),Ud=a(935),Vd=a(1305);function Gd(e){return(Gd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hd(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Kd(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Jd(e){return(Jd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yd(e,t){return(Yd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $d={BLOCK_ALL:"BLOCKED",BLOCK_PRODUCTION:"PROD_ONLY_BLOCKED"},Zd=function(e){function t(e){var a,n,i,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=this,(n=!(r=Jd(t).call(this,e))||"object"!==Gd(r)&&"function"!=typeof r?Qd(i):r).state=(Hd(a={},$d.BLOCK_ALL,e.subscriptionStatus===$d.BLOCK_ALL),Hd(a,$d.BLOCK_PRODUCTION,e.subscriptionStatus===$d.BLOCK_PRODUCTION),a),n.handleChange=n.handleChange.bind(Qd(n)),n}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yd(e,t)}(t,n["Component"]),a=t,(r=[{key:"handleChange",value:function(e){var t=this.state,a=t[$d.BLOCK_ALL],n=t[$d.BLOCK_PRODUCTION],i=this.props,r=i.subscriptionId,o=i.blockAllSubs,l=i.blockProductionSubs,s=i.unblockSubs,c=e.target,u=c.value,p=c.checked;if(p){var d,m=a,f=n;u===$d.BLOCK_ALL&&(m=p,!0===n&&(f=!1),o&&o(r)),u===$d.BLOCK_PRODUCTION&&(f=p,!0===a&&(m=!1),l&&l(r)),this.setState((Hd(d={},$d.BLOCK_ALL,m),Hd(d,$d.BLOCK_PRODUCTION,f),d))}else s&&s(r),this.setState(Hd({},u,p))}},{key:"render",value:function(){var e=this,t=this.state,a=t[$d.BLOCK_ALL],n=t[$d.BLOCK_PRODUCTION];return i.a.createElement(ol.a,{row:!0},i.a.createElement(Et.a,{control:i.a.createElement(Ae.a,{id:"block-all",checked:a,onChange:function(t){return e.handleChange(t)},value:$d.BLOCK_ALL,color:"primary"}),label:i.a.createElement(d.a,{id:"Apis.Details.Subscriptions.SubscriptionsBlock.production.and.sandbox",defaultMessage:"Production and Sandbox"})}),i.a.createElement(Et.a,{control:i.a.createElement(Ae.a,{id:"block-production",checked:n,onChange:function(t){return e.handleChange(t)},value:$d.BLOCK_PRODUCTION,color:"primary"}),label:i.a.createElement(d.a,{id:"Apis.Details.Subscriptions.SubscriptionsBlock.production.only",defaultMessage:"Production only"})}))}}])&&Kd(a.prototype,r),o&&Kd(a,o),t}();Zd.propTypes={subscriptionId:o.a.string.isRequired,subscriptionStatus:o.a.string.isRequired,blockAllSubs:o.a.func.isRequired,blockProductionSubs:o.a.func.isRequired,unblockSubs:o.a.func.isRequired};var Xd=Zd;function em(e){return(em="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tm(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function am(e){return(am=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function im(e,t){return(im=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var rm=i.a.createElement(vo.a,null,i.a.createElement(bo.a,null,i.a.createElement(d.a,{id:"Apis.Details.Subscriptions.SubscriptionsTable.subscriber",defaultMessage:"Subscriber"})),i.a.createElement(bo.a,null,i.a.createElement(d.a,{id:"Apis.Details.Subscriptions.SubscriptionsTable.application",defaultMessage:"Application"})),i.a.createElement(bo.a,null,i.a.createElement(d.a,{id:"Apis.Details.Subscriptions.SubscriptionsTable.tier",defaultMessage:"Tier"})),i.a.createElement(bo.a,null,i.a.createElement(d.a,{id:"Apis.Details.Subscriptions.SubscriptionsTable.status",defaultMessage:"Status"})),i.a.createElement(bo.a,null,i.a.createElement(tn,{resourceMethod:en.POST,resourcePath:Xa.BLOCK_SUBSCRIPTION},i.a.createElement(d.a,{id:"Apis.Details.Subscriptions.SubscriptionsTable.actions",defaultMessage:"Actions"})))),om="BLOCKED",lm="PROD_ONLY_BLOCKED";function sm(e){var t=e.count,a=e.page,n=e.rowsPerPage,r=e.onChangePage;return i.a.createElement("div",{style:{display:"flex"}},i.a.createElement(K.a,{onClick:function(){r&&r(0)},disabled:0===a},i.a.createElement(Nd.a,null)),i.a.createElement(K.a,{onClick:function(){r&&r(a-1)},disabled:0===a},i.a.createElement(tt.a,null)),i.a.createElement(K.a,{onClick:function(){r&&r(a+1)},disabled:a>=Math.ceil(t/n)-1},i.a.createElement(qd.a,null)),i.a.createElement(K.a,{onClick:function(){r&&r(Math.max(0,Math.ceil(t/n)-1))},disabled:a>=Math.ceil(t/n)-1},i.a.createElement(zd.a,null)))}sm.propTypes={count:o.a.number.isRequired,page:o.a.number.isRequired,rowsPerPage:o.a.number.isRequired,onChangePage:o.a.func.isRequired};var cm=function(e){function t(e){var a,n,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(a=!(i=am(t).call(this,e))||"object"!==em(i)&&"function"!=typeof i?nm(n):i).api=e.api,a.state={subscriptions:[],totalSubscription:0,page:0,rowsPerPage:5,searchQuery:null,rowsPerPageOptions:[5,10,25,50,100],emptyColumnHeight:60},a.formatSubscriptionStateString=a.formatSubscriptionStateString.bind(nm(a)),a.blockSubscription=a.blockSubscription.bind(nm(a)),a.blockProductionOnly=a.blockProductionOnly.bind(nm(a)),a.unblockSubscription=a.unblockSubscription.bind(nm(a)),a.handleChangePage=a.handleChangePage.bind(nm(a)),a.handleChangeRowsPerPage=a.handleChangeRowsPerPage.bind(nm(a)),a.filterSubscriptions=a.filterSubscriptions.bind(nm(a)),a}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&im(e,t)}(t,n["Component"]),a=t,(r=[{key:"componentDidMount",value:function(){this.fetchSubscriptionData()}},{key:"formatSubscriptionStateString",value:function(e){return e===lm?i.a.createElement(d.a,{id:"Apis.Details.Subscriptions.SubscriptionsTable.blocked.production.only.subs.state",defaultMessage:"Blocked Production Only"}):e===om?i.a.createElement(d.a,{id:"Apis.Details.Subscriptions.SubscriptionsTable.blocked.subs.state",defaultMessage:"Blocked"}):i.a.createElement(d.a,{id:"Apis.Details.Subscriptions.SubscriptionsTable.active.subs.state",defaultMessage:"Active"})}},{key:"blockSubscription",value:function(e){var t=this,a=this.props.intl;(new _).blockSubscriptions(e,om).then(function(){se.success(a.formatMessage({id:"Apis.Details.Subscriptions.SubscriptionsTable.subscription.blocked",defaultMessage:"Subscription was blocked."})),t.fetchSubscriptionData()}).catch(function(e){console.error(e);var t=e.response.body.message,n=Object(d.c)({errorMessage:{id:"Apis.Details.Subscriptions.SubscriptionsTable.error.subscription.block",defaultMessage:"Error: Unable to block subscription. (Reason: {message})"}});se.error(a.formatMessage(n.errorMessage,{message:t}))})}},{key:"blockProductionOnly",value:function(e){var t=this,a=this.props.intl;(new _).blockSubscriptions(e,lm).then(function(){se.success(a.formatMessage({id:"Apis.Details.Subscriptions.SubscriptionsTable.subscription.blocked.prod.only",defaultMessage:"Subscription was blocked for production only."})),t.fetchSubscriptionData()}).catch(function(e){console.error(e);var t=e.response.body.message,n=Object(d.c)({errorMessage:{id:"Apis.Details.Subscriptions.SubscriptionsTable.error.subscription.block.prod.only",defaultMessage:"Error: Unable to block subscription. (Reason: {message})"}});se.error(a.formatMessage(n.errorMessage,{message:t}))})}},{key:"unblockSubscription",value:function(e){var t=this,a=this.props.intl;(new _).unblockSubscriptions(e).then(function(){se.success(a.formatMessage({id:"Apis.Details.Subscriptions.SubscriptionsTable.subscription.unblocked",defaultMessage:"Subscription was unblocked."})),t.fetchSubscriptionData()}).catch(function(e){console.error(e);var t=e.response.body.message,n=Object(d.c)({errorMessage:{id:"Apis.Details.Subscriptions.SubscriptionsTable.error.subscription.unblock",defaultMessage:"Error: Unable to unblock subscription. (Reason: {message})"}});se.error(a.formatMessage(n.errorMessage,{message:t}))})}},{key:"fetchSubscriptionData",value:function(){var e=this,t=new _,a=this.state,n=a.page,i=a.rowsPerPage,r=a.searchQuery;t.subscriptions(this.api.id,n*i,i,r).then(function(t){return e.setState({subscriptions:t.body.list,totalSubscription:t.body.pagination.total})}).catch(function(e){console.error(e),se.error(JSON.stringify(e))})}},{key:"handleChangePage",value:function(e){this.setState({page:e},this.fetchSubscriptionData)}},{key:"handleChangeRowsPerPage",value:function(e){this.setState({rowsPerPage:e.target.value,page:0},this.fetchSubscriptionData)}},{key:"filterSubscriptions",value:function(e){this.setState({searchQuery:e.target.value},this.fetchSubscriptionData)}},{key:"render",value:function(){var e=this,t=this.state,a=t.subscriptions,n=t.page,r=t.rowsPerPage,o=t.totalSubscription,l=t.rowsPerPageOptions,s=t.emptyColumnHeight,c=this.props,u=c.classes,p=c.intl,m=o>0?r-Math.min(r,o-n*r):0;return i.a.createElement("div",null,i.a.createElement(h.a,{className:u.headline,gutterBottom:!0,variant:"headline",component:"h2"},i.a.createElement(d.a,{id:"Apis.Details.Subscriptions.SubscriptionsTable.manage.subscriptions",defaultMessage:"Manage Subscriptions"})),i.a.createElement(me.a,null,i.a.createElement(No.a,{title:p.formatMessage({id:"Apis.Details.Subscriptions.SubscriptionsTable.search.tooltip",defaultMessage:"Search subscriptions by Subscriber, Application and Tier"}),"aria-label":"Search tooltip"},i.a.createElement("div",{className:u.searchDiv},i.a.createElement("div",{className:u.searchRoot},i.a.createElement(Rd.a,{className:u.searchInput,placeholder:p.formatMessage({id:"Apis.Details.Subscriptions.SubscriptionsTable.search",defaultMessage:"Search"}),inputProps:{"aria-label":"Search"},onChange:function(t){return e.filterSubscriptions(t)}}),i.a.createElement(K.a,{className:u.searchIconButton,"aria-label":"Search",disabled:!0},i.a.createElement(Fd.a,null))))),a.length>0?i.a.createElement("div",null,i.a.createElement(yo.a,{className:u.table},i.a.createElement("colgroup",null,i.a.createElement("col",{className:u.tableColumnSize}),i.a.createElement("col",{className:u.tableColumnSize}),i.a.createElement("col",{className:u.tableColumnSize}),i.a.createElement("col",{className:u.tableColumnSize}),i.a.createElement("col",{className:u.tableColumnSize2})),i.a.createElement(Cs.a,null,rm),i.a.createElement(ws.a,null,a.map(function(t){return i.a.createElement(vo.a,{key:t.subscriptionId},i.a.createElement(bo.a,null,t.applicationInfo.subscriber),i.a.createElement(bo.a,null,t.applicationInfo.name),i.a.createElement(bo.a,null,t.throttlingPolicy),i.a.createElement(bo.a,null,e.formatSubscriptionStateString(t.subscriptionStatus)),i.a.createElement(bo.a,null,i.a.createElement(tn,{resourceMethod:en.POST,resourcePath:Xa.BLOCK_SUBSCRIPTION},i.a.createElement(Xd,{subscriptionId:t.subscriptionId,subscriptionStatus:t.subscriptionStatus,blockProductionSubs:e.blockProductionOnly,blockAllSubs:e.blockSubscription,unblockSubs:e.unblockSubscription}))))}),m>0&&i.a.createElement(vo.a,null,i.a.createElement(bo.a,{colSpan:5,style:{height:m*s}}))),i.a.createElement(Ud.a,null,i.a.createElement(vo.a,null,i.a.createElement(Vd.a,{rowsPerPageOptions:l,colSpan:5,count:o,rowsPerPage:r,page:n,onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage,ActionsComponent:sm}))))):i.a.createElement("div",{className:u.noDataMessage,style:{height:r*s}},i.a.createElement(d.a,{id:"Apis.Details.Subscriptions.SubscriptionsTable.no.subscriptions",defaultMessage:"No subscriptions data available"}))))}}])&&tm(a.prototype,r),o&&tm(a,o),t}();cm.propTypes={classes:o.a.shape({}).isRequired,api:o.a.shape({id:o.a.string}).isRequired,intl:o.a.shape({}).isRequired};var um=Object(d.d)(Md()(function(e){return{button:{margin:e.spacing.unit},headline:{paddingTop:1.25*e.spacing.unit,paddingLeft:2.5*e.spacing.unit},table:{"& td":{fontSize:e.typography.fontSize},"& th":{fontSize:1.2*e.typography.fontSize}},searchDiv:{float:"right",paddingTop:1.25*e.spacing.unit,paddingRight:1.25*e.spacing.unit},searchRoot:{paddingTop:.25*e.spacing.unit,paddingBottom:.25*e.spacing.unit,paddingRight:.5*e.spacing.unit,paddingLeft:.5*e.spacing.unit,display:"flex",alignItems:"right",width:50*e.spacing.unit,borderBottom:"1px solid #E8E8E8"},searchInput:{marginLeft:e.spacing.unit,flex:1},searchIconButton:{padding:1.25*e.spacing.unit},noDataMessage:{display:"flex",alignItems:"center",justifyContent:"center",color:"#888888",width:"100%"},tableColumnSize:{width:"15%"},tableColumnSize2:{width:"40%"}}})(cm));function pm(e){return(pm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dm(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function mm(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function fm(e){return(fm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gm(e,t){return(gm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ym=function(e){function t(e){var a,n,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(a=!(i=fm(t).call(this,e))||"object"!==pm(i)&&"function"!=typeof i?hm(n):i).state={subscriptionPolicies:{},updateInProgress:!1},a.handleChange=a.handleChange.bind(hm(a)),a}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gm(e,t)}(t,n["Component"]),a=t,(r=[{key:"componentDidMount",value:function(){var e=this;_.policies("subscription").then(function(t){e.setState({subscriptionPolicies:t.body.list})}).catch(function(e){0})}},{key:"handleChange",value:function(e){var t=this;this.setState({updateInProgress:!0});var a=e.target,n=a.name,i=a.checked,r=this.props,o=r.intl,l=r.api,s=r.updateAPI,c=dm(l.policies);i?c.push(n):c=c.filter(function(e){return e!==n}),s&&s({policies:c}).then(function(){se.info(o.formatMessage({id:"Apis.Details.Subscriptions.SubscriptionPoliciesManage.policy.update.success",defaultMessage:"API subscription policies updated successfully"}))}).catch(function(e){se.error(o.formatMessage({id:"Apis.Details.Subscriptions.SubscriptionPoliciesManage.policy.update.error",defaultMessage:"Error occurred while updating subscription policies"}))}).finally(function(){t.setState({updateInProgress:!1})})}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.api,r=this.state,o=r.subscriptionPolicies,l=r.updateInProgress;return i.a.createElement(me.a,{className:a.subscriptionPoliciesPaper},l&&i.a.createElement(Kn.a,null),i.a.createElement(wt.a,{className:a.formControl},i.a.createElement(ce.a,{container:!0,spacing:2,className:a.grid},i.a.createElement(ce.a,{item:!0,xs:4,className:a.gridLabel},i.a.createElement(Ct.a,null,i.a.createElement(d.a,{id:"Apis.Details.Subscriptions.SubscriptionPoliciesManage.subscription.policies",defaultMessage:"Subscription Policies"})," "," : "),i.a.createElement(Ht.a,null,i.a.createElement(d.a,{id:"Apis.Details.Subscriptions.SubscriptionPoliciesManage.policies.update",defaultMessage:"Add/remove subscription policies"}))),i.a.createElement(ce.a,{item:!0,xs:8},i.a.createElement(ol.a,null,o&&Object.entries(o).map(function(t){return i.a.createElement(Et.a,{key:t[1].name,control:i.a.createElement(Ae.a,{color:"primary",checked:n.policies.includes(t[1].name),onChange:function(t){return e.handleChange(t)},name:t[1].name}),label:t[1].name+" : "+t[1].description})}))))))}}])&&mm(a.prototype,r),o&&mm(a,o),t}();ym.propTypes={classes:o.a.shape({}).isRequired,intl:o.a.shape({formatMessage:o.a.func}).isRequired,api:o.a.shape({policies:o.a.array}).isRequired,updateAPI:o.a.func.isRequired};var bm=Object(d.d)(Md()(function(e){return{subscriptionPoliciesPaper:{marginTop:2*e.spacing.unit,paddingLeft:2*e.spacing.unit,paddingBottom:2*e.spacing.unit},grid:{margin:1.25*e.spacing.unit},gridLabel:{marginTop:1.5*e.spacing.unit}}})(ym));function vm(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Em(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,i=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){i=!0,r=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw r}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function wm(){return(wm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Cm(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){Pm(e,t,a[t])})}return e}function Pm(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Sm(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var Am=Object(Z.a)(function(e){return{root:{flexGrow:1,height:250},container:{flexGrow:1,position:"relative"},paper:{position:"absolute",zIndex:1,marginTop:e.spacing(1),left:0,right:0},chip:{margin:e.spacing(.5,.25)},inputRoot:{flexWrap:"wrap"},inputInput:{width:"auto",flexGrow:1},divider:{height:e.spacing(2)}}});function Om(e){var t=e.InputProps,a=e.classes,n=e.ref,r=Sm(e,["InputProps","classes","ref"]);return i.a.createElement(he.a,wm({InputProps:Cm({inputRef:n,classes:{root:a.inputRoot,input:a.inputInput}},t)},r))}function xm(e){var t=e.suggestion,a=e.index,n=e.itemProps,r=e.highlightedIndex===a,o=(e.selectedItem||"").indexOf(t)>-1;return i.a.createElement(Pe.a,wm({},n,{key:t,selected:r,component:"div",style:{fontWeight:o?500:400}}),t)}function Im(e){var t=e.setTenantList,a=e.classes,n=e.suggestions,r=Em(i.a.useState(""),2),o=r[0],l=r[1],s=Em(i.a.useState([]),2),c=s[0],u=s[1];function p(e){c.length&&!o.length&&"Backspace"===e.key&&u(c.slice(0,c.length-1))}var d=function(e){return function(){var t=vm(c);t.splice(t.indexOf(e),1),u(t)}};return i.a.createElement(mu.a,{id:"downshift-multiple",inputValue:o,onChange:function(e){var a=vm(c);-1===a.indexOf(e)&&(a=[].concat(vm(a),[e])),l(""),u(a),t(a)},selectedItem:c},function(e){var t=e.getInputProps,r=e.getItemProps,o=e.getLabelProps,s=e.isOpen,u=e.inputValue,m=e.selectedItem,f=e.highlightedIndex,h=t({onKeyDown:p,placeholder:"Select multiple tenants"}),g=h.onBlur,y=h.onChange,b=h.onFocus,v=Sm(h,["onBlur","onChange","onFocus"]);return i.a.createElement("div",{className:a.container},Om({fullWidth:!0,classes:a,label:"Tenants",InputLabelProps:o(),InputProps:{startAdornment:c.map(function(e){return i.a.createElement(Na.a,{key:e,tabIndex:-1,label:e,className:a.chip,onDelete:d(e)})}),onBlur:g,onChange:function(e){!function(e){l(e.target.value)}(e),y(e)},onFocus:b},inputProps:v}),s?i.a.createElement(me.a,{className:a.paper,square:!0},function(e,t){var a=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).showEmpty,n=void 0!==a&&a,i=du()(e.trim()).toLowerCase(),r=i.length,o=0;return 0!==r||n?t.filter(function(e){var t=o<5&&e.slice(0,r).toLowerCase()===i;return t&&(o+=1),t}):[]}(u,n).map(function(e,t){return xm({suggestion:e,index:t,itemProps:r({item:e}),highlightedIndex:f,selectedItem:m})})):null)})}function Tm(e){var t=Am(),a=Em(Object(n.useState)({}),2),r=a[0],o=a[1],l=e.setTenantList,s=new _;return Object(n.useEffect)(function(){s.getTenantsByState(oo.a.TENANT_STATE_ACTIVE).then(function(e){var t=e.body.list.map(function(e){return e.domain});o(t)})},[]),i.a.createElement("div",{className:t.root},i.a.createElement("div",{className:t.divider}),i.a.createElement(Im,{classes:t,suggestions:r,setTenantList:l}),i.a.createElement("div",{className:t.divider}))}function km(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Dm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,i=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){i=!0,r=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw r}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Om.propTypes={classes:o.a.shape({type:o.a.string,inputType:o.a.string}).isRequired,InputProps:o.a.shape({type:o.a.string,inputType:o.a.string}).isRequired},xm.propTypes={highlightedIndex:o.a.oneOfType([o.a.oneOf([null]),o.a.number]).isRequired,index:o.a.number.isRequired,itemProps:o.a.shape({type:o.a.string,inputType:o.a.string}).isRequired,selectedItem:o.a.string.isRequired,suggestion:o.a.string.isRequired},Im.propTypes={classes:o.a.shape({type:o.a.string,inputType:o.a.string}).isRequired,setTenantList:o.a.shape({type:o.a.string,inputType:o.a.string}).isRequired,suggestions:o.a.shape({type:o.a.string,inputType:o.a.string}).isRequired},Tm.propTypes={setTenantList:o.a.shape({type:o.a.string,inputType:o.a.string}).isRequired};var _m=Object(Z.a)(function(e){return{root:{display:"flex",flexWrap:"wrap"},formControl:{margin:1*e.spacing.unit,marginLeft:-30*e.spacing.unit,minWidth:300},textControl:{margin:1*e.spacing.unit,minWidth:300},selectEmpty:{marginTop:e.spacing(2)},subscriptionAvailabilityPaper:{marginTop:2*e.spacing.unit,paddingLeft:2*e.spacing.unit,paddingBottom:2*e.spacing.unit},grid:{display:"flex",margin:1.25*e.spacing.unit},gridLabel:{marginTop:3.5*e.spacing.unit},saveButton:{marginLeft:90*e.spacing.unit,marginTop:2*e.spacing.unit}}});function Mm(e){var t=_m(),a=e.updateAPI,n=Dm(i.a.useState([]),2),r=n[0],o=n[1],l=Dm(i.a.useState({availability:"currentTenant"}),2),s=l[0],c=l[1],u=i.a.useRef(null),p=Dm(i.a.useState(0),2),m=p[0],f=p[1],h="specificTenants"===s.availability;return i.a.useEffect(function(){f(u.current.offsetWidth)},[]),i.a.createElement(me.a,{className:t.subscriptionAvailabilityPaper},i.a.createElement("form",{className:t.root,autoComplete:"off"},i.a.createElement(ce.a,{container:!0,spacing:1,className:t.grid},i.a.createElement(ce.a,{item:!0,xs:4,className:t.gridLabel},i.a.createElement(Ct.a,null,i.a.createElement(d.a,{id:"Apis.Details.Subscriptions.SubscriptionPoliciesManage.subscription.availability",defaultMessage:"Subscription Availability"})," "," : ")),i.a.createElement(ce.a,{item:!0,xs:8,justify:"space-between",spacing:32},i.a.createElement(wt.a,{variant:"outlined",className:t.formControl},i.a.createElement(pl.a,{ref:u,htmlFor:"outlined-age-simple"}),i.a.createElement(mn.a,{value:s.availability,onChange:function(e){c(function(t){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){km(e,t,a[t])})}return e}({},t,km({},e.target.name,e.target.value))})},labelWidth:m,displayEmpty:!0,name:"availability",inputProps:{name:"availability",id:"outlined-availabi;ity-simple"}},i.a.createElement(Pe.a,{value:"currentTenant"},"Available to current tenant only"),i.a.createElement(Pe.a,{value:"allTenants"},"Available to all the tenants"),i.a.createElement(Pe.a,{value:"specificTenants"},"Available to specific tenants"))),i.a.createElement(ue.a,{variant:"contained",color:"primary",onClick:function(){var e,t=[];a&&("currentTenant"===s.availability?e="CURRENT_TENANT":"allTenants"===s.availability?e="ALL_TENANTS":"specificTenants"===s.availability&&(e="SPECIFIC_TENANTS",t=r),a({subscriptionAvailability:e,subscriptionAvailableTenants:t}).then(function(){se.info("Tenant availability updated successfully")}).catch(function(e){console.error(e),se.error("Error occurred while updating tenant availability")}))},className:t.saveButton},i.a.createElement(d.a,{id:"Apis.Details.Scopes.CreateScope.save",defaultMessage:"Save"}))),h?i.a.createElement(ce.a,{item:!0,xs:8},i.a.createElement(Tm,{setTenantList:o})):i.a.createElement(ce.a,{item:!0,xs:8}))))}function Rm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,i=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){i=!0,r=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw r}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Mm.propTypes={classes:o.a.shape({}).isRequired,intl:o.a.shape({formatMessage:o.a.func}).isRequired,api:o.a.shape({policies:o.a.array}).isRequired,updateAPI:o.a.func.isRequired};function jm(e){var t=e.api,a=e.updateAPI,r=new _,o=Rm(Object(n.useState)([]),2),l=o[0],s=o[1];return Object(n.useEffect)(function(){r.getTenantsByState(oo.a.TENANT_STATE_ACTIVE).then(function(e){s(e.body.count)})},[]),i.a.createElement("div",null,i.a.createElement(um,{api:t}),i.a.createElement(bm,{api:t,updateAPI:a}),0!==l&&i.a.createElement(Mm,{api:t,updateAPI:a}))}jm.propTypes={api:o.a.shape({}).isRequired,updateAPI:o.a.func.isRequired};var Nm=Md()(function(e){return{button:{margin:e.spacing.unit}}})(jm),Lm=a(1747),qm=a.n(Lm),Wm=a(1748),Fm=a.n(Wm),Bm=a(1160),zm=a.n(Bm),Um=a(1161),Vm=a.n(Um);function Gm(e){return(Gm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hm(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Km(e){return(Km=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qm(e,t){return(Qm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ym=function(e){function t(e){var a,n,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(a=!(i=Km(t).call(this,e))||"object"!==Gm(i)&&"function"!=typeof i?Jm(n):i).state={commentText:"",category:"General",currentLength:0},a.inputChange=a.inputChange.bind(Jm(a)),a.handleClickAddComment=a.handleClickAddComment.bind(Jm(a)),a.handleClickCancel=a.handleClickCancel.bind(Jm(a)),a.handleCategoryChange=a.handleCategoryChange.bind(Jm(a)),a.filterCommentToAddReply=a.filterCommentToAddReply.bind(Jm(a)),a}var a,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qm(e,t)}(t,i.a.Component),a=t,(n=[{key:"inputChange",value:function(e){var t=e.target;this.setState({commentText:t.value,currentLength:t.value.length})}},{key:"handleClickCancel",value:function(){(0,this.props.toggleShowReply)()}},{key:"handleCategoryChange",value:function(e){this.setState({category:e.target.value})}},{key:"filterCommentToAddReply",value:function(e){var t=this.props.parentCommentId;return e.commentId===t}},{key:"handleClickAddComment",value:function(){var e=this,t=this.props,a=t.api,n=t.parentCommentId,i=t.allComments,r=t.toggleShowReply,o=t.commentsUpdate,l=this.state,s=l.category,c=l.commentText,u=new _,p=a.id,d={apiId:a.id,category:s,commentText:c.trim(),parentCommentId:n};d.commentText.replace(/\s/g,"").length?u.addComment(p,d).then(function(t){e.setState({commentText:"",category:"General"});var a=t.body;if(null===n)i.push(a);else{var l=i.findIndex(e.filterCommentToAddReply);i[l].replies.push(a),r()}o(i)}).catch(function(e){console.error(e),e.response?se.error(e.response.body.message):se.error("Something went wrong while adding the comment")}):se.error("You cannot enter a blank comment"),this.setState({currentLength:0})}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.cancelButton,r=t.theme,o=this.state,l=o.category,s=o.commentText,c=o.currentLength;return i.a.createElement(ce.a,{container:!0,spacing:7,className:a.contentWrapper},i.a.createElement(ce.a,{item:!0,xs:!0,zeroMinWidth:!0},i.a.createElement(wt.a,{className:a.category},i.a.createElement(mn.a,{value:l,onChange:this.handleCategoryChange},i.a.createElement(Pe.a,{value:"General"},"General"),i.a.createElement(Pe.a,{value:"Feature Request"},"Feature Request"),i.a.createElement(Pe.a,{value:"Bug Report"},"Bug Report"))),i.a.createElement(he.a,{id:"standard-multiline-flexible",autoFocus:!0,multiline:!0,className:a.textField,margin:"normal",placeholder:"Write a comment",inputProps:{maxLength:r.custom.maxCommentLength},value:s,onChange:this.inputChange}),i.a.createElement(h.a,{className:a.commentText,align:"right"},c+"/"+r.custom.maxCommentLength),i.a.createElement(ce.a,{container:!0,spacing:2},i.a.createElement(ce.a,{item:!0},i.a.createElement(ue.a,{variant:"contained",color:"primary",onClick:function(){return e.handleClickAddComment()}},"Add Comment")),n&&i.a.createElement(ce.a,{item:!0},i.a.createElement(ue.a,{onClick:function(){return e.handleClickCancel()},className:a.button},"Cancel")))))}}])&&Hm(a.prototype,n),r&&Hm(a,r),t}();Ym.defaultProps={api:null,parentCommentId:null,toggleShowReply:null,commentsUpdate:null},Ym.propTypes={classes:o.a.instanceOf(Object).isRequired,cancelButton:o.a.bool.isRequired,api:o.a.instanceOf(Object),parentCommentId:o.a.string,toggleShowReply:o.a.func,commentsUpdate:o.a.func,allComments:o.a.instanceOf(Array).isRequired,theme:o.a.shape({}).isRequired};var $m=Object(b.a)(function(e){return{commentIcon:{color:e.palette.getContrastText(e.palette.background.default)},commentText:{color:e.palette.getContrastText(e.palette.background.default)},contentWrapper:{maxWidth:e.custom.contentAreaWidth,paddingLeft:2*e.spacing.unit,paddingTop:e.spacing.unig,marginTop:2*e.spacing.unit},textField:{marginTop:0,width:"88%"},category:{width:"12%"}}},{withTheme:!0})(Ym);function Zm(e){return(Zm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xm(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ef(e){return(ef=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function af(e,t){return(af=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var nf=function(e){function t(e){var a,n,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(a=!(i=ef(t).call(this,e))||"object"!==Zm(i)&&"function"!=typeof i?tf(n):i).state={commentText:"",category:"",currentLength:0},a.inputChange=a.inputChange.bind(tf(a)),a.handleCategoryChange=a.handleCategoryChange.bind(tf(a)),a.handleClickUpdateComment=a.handleClickUpdateComment.bind(tf(a)),a.handleClickCancel=a.handleClickCancel.bind(tf(a)),a.filterCommentToUpdate=a.filterCommentToUpdate.bind(tf(a)),a.filterCommentToUpdateReply=a.filterCommentToUpdateReply.bind(tf(a)),a}var a,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&af(e,t)}(t,i.a.Component),a=t,(n=[{key:"componentDidMount",value:function(){var e=this.props.comment;this.setState({commentText:e.commentText,category:e.category,currentLength:e.commentText.length})}},{key:"inputChange",value:function(e){var t=e.target;this.setState({commentText:t.value,currentLength:t.value.length})}},{key:"handleClickCancel",value:function(){var e=this.props,t=e.toggleShowEdit,a=e.commentsUpdate,n=e.allComments;t(),a(n)}},{key:"handleCategoryChange",value:function(e){this.setState({category:e.target.value})}},{key:"filterCommentToUpdate",value:function(e){var t=this.props.comment;return e.commentId===t.commentId}},{key:"filterCommentToUpdateReply",value:function(e){var t=this.props.comment;return e.commentId===t.parentCommentId}},{key:"handleClickUpdateComment",value:function(){var e=this,t=this.props,a=t.api,n=t.comment,i=t.allComments,r=t.toggleShowEdit,o=t.commentsUpdate,l=this.state,s=l.category,c=l.commentText,u=new _,p=a.id,d=n;d.commentText=c.trim(),d.category=s,n.commentText.replace(/\s/g,"").length?u.updateComment(p,d.commentId,d).then(function(t){var a=t.body;if(void 0===d.parentCommentId){var n=i.findIndex(e.filterCommentToUpdate);i[n].category=a.category,i[n].commentText=a.commentText}else{var l=i.findIndex(e.filterCommentToUpdateReply),s=i[l].replies.findIndex(e.filterCommentToUpdate);i[l].replies[s]=a}r(),o(i)}).catch(function(e){console.error(e),e.response?se.error(e.response.body.message):se.error("Something went wrong while adding the comment")}):se.error("You cannot enter a blank comment")}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.theme,r=this.state,o=r.category,l=r.commentText,s=r.currentLength;return i.a.createElement("div",null,i.a.createElement(wt.a,{className:a.category},i.a.createElement(mn.a,{value:o,onChange:this.handleCategoryChange},i.a.createElement(Pe.a,{value:"General"},"General"),i.a.createElement(Pe.a,{value:"Feature Request"},"Feature Request"),i.a.createElement(Pe.a,{value:"Bug Report"},"Bug Report"))),i.a.createElement(he.a,{id:"multiline-static",autoFocus:!0,multiline:!0,className:a.textField,margin:"normal",placeholder:"Write a comment",inputProps:{maxLength:n.custom.maxCommentLength},value:l,onChange:this.inputChange}),i.a.createElement(h.a,{className:a.commentText,align:"right"},s+"/"+n.custom.maxCommentLength),i.a.createElement(ce.a,{container:!0,spacing:2},i.a.createElement(ce.a,{item:!0},i.a.createElement(ue.a,{variant:"contained",color:"primary",onClick:function(){return e.handleClickUpdateComment()}},"Save")),i.a.createElement(ce.a,{item:!0},i.a.createElement(ue.a,{onClick:function(){return e.handleClickCancel()},className:a.button},"Cancel"))))}}])&&Xm(a.prototype,n),r&&Xm(a,r),t}();nf.propTypes={classes:o.a.instanceOf(Object).isRequired,api:o.a.instanceOf(Object).isRequired,allComments:o.a.instanceOf(Array).isRequired,commentsUpdate:o.a.func.isRequired,toggleShowEdit:o.a.func.isRequired,comment:o.a.instanceOf(Object).isRequired,theme:o.a.shape({}).isRequired};var rf=Object(b.a)(function(e){return{textField:{marginTop:0,width:"87.5%"},contentWrapper:{maxWidth:e.custom.contentAreaWidth,paddingLeft:2*e.spacing.unit,paddingTop:e.spacing.unig,marginTop:2*e.spacing.unit},category:{width:"12%",marginRight:"0.5%"}}},{withTheme:!0})(nf);function of(e){return(of="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lf(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function sf(e){return(sf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uf(e,t){return(uf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var pf=function(e){function t(e){var a,n,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(a=!(i=sf(t).call(this,e))||"object"!==of(i)&&"function"!=typeof i?cf(n):i).state={},a.showAddComment=a.showAddComment.bind(cf(a)),a.showEditComment=a.showEditComment.bind(cf(a)),a.handleClickOpen=a.handleClickOpen.bind(cf(a)),a}var a,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&uf(e,t)}(t,i.a.Component),a=t,(n=[{key:"showAddComment",value:function(e){var t=this.props,a=t.editIndex,n=t.showAddComment;-1===a&&n(e)}},{key:"showEditComment",value:function(e){var t=this.props,a=t.editIndex,n=t.showEditComment;-1===a&&n(e)}},{key:"handleClickOpen",value:function(e){var t=this.props,a=t.editIndex,n=t.handleClickOpen;-1===a&&n(e)}},{key:"displayDate",value:function(e){var t=new Date(e);return t.toLocaleDateString(void 0,{day:"numeric",month:"short",year:"numeric"})+" "+t.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"})}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.comment,r=t.editIndex,o=t.index,l=t.theme,s=n.createdBy===Ka.a.getUser().name||Ka.a.getUser().name===l.custom.adminRole,c=n.createdBy===Ka.a.getUser().name&&"APIPublisher"===n.entryPoint;return i.a.createElement(zm.a,{container:!0,spacing:2,className:a.verticalSpace,key:n.commentId},null==n.parentCommentId&&[i.a.createElement(zm.a,{item:!0,key:"key-reply"},i.a.createElement(h.a,{component:"a",className:-1===r?a.link:a.disable,onClick:function(){return e.showAddComment(o)}},"Reply")),i.a.createElement(zm.a,{item:!0,key:"key-reply-vertical-divider"},i.a.createElement(nt,{height:15}))],s&&[i.a.createElement(zm.a,{item:!0,key:"key-delete"},i.a.createElement(h.a,{component:"a",className:-1===r?a.link:a.disable,onClick:function(){return e.handleClickOpen(n)}},"Delete")),i.a.createElement(zm.a,{item:!0,key:"key-delete-vertical-divider"},i.a.createElement(nt,{height:15}))],c&&[i.a.createElement(zm.a,{item:!0,key:"key-edit"},i.a.createElement(h.a,{component:"a",className:-1===r?a.link:a.disable,onClick:function(){return e.showEditComment(o)}},"Edit")),i.a.createElement(zm.a,{item:!0,key:"key-edit-verical-divider"},i.a.createElement(nt,{height:15}))],i.a.createElement(zm.a,{item:!0,className:a.time},i.a.createElement(h.a,{component:"a",variant:"caption"},this.displayDate(n.createdTime))),r===o?null:[i.a.createElement(zm.a,{item:!0,key:"key-category-vertical-divider"},i.a.createElement(nt,{height:15})),i.a.createElement(zm.a,{item:!0,className:a.time,key:"key-category"},i.a.createElement(h.a,{component:"a",variant:"caption"},n.category))])}}])&&lf(a.prototype,n),r&&lf(a,r),t}();pf.defaultProps={showAddComment:null},pf.propTypes={classes:o.a.instanceOf(Object).isRequired,editIndex:o.a.number.isRequired,index:o.a.number.isRequired,comment:o.a.instanceOf(Object).isRequired,handleClickOpen:o.a.func.isRequired,showEditComment:o.a.func.isRequired,showAddComment:o.a.func,theme:o.a.shape({}).isRequired};var df=Object(b.a)(function(e){return{link:{color:e.palette.getContrastText(e.palette.background.default),cursor:"pointer"},time:{color:e.palette.getContrastText(e.palette.background.default),marginTop:.3*e.spacing.unit},verticalSpace:{marginTop:.2*e.spacing.unit},disable:{color:e.custom.disableColor},commentIcon:{color:e.palette.getContrastText(e.palette.background.default)},commentText:{color:e.palette.getContrastText(e.palette.background.default),marginTop:e.spacing.unig,width:"100%",whiteSpace:"pre-wrap",overflowWrap:"break-word"},root:{marginTop:2.5*e.spacing.unit},contentWrapper:{maxWidth:e.custom.contentAreaWidth,paddingLeft:2*e.spacing.unit,paddingTop:e.spacing.unig}}},{withTheme:!0})(pf);function mf(e){return(mf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ff(){return(ff=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function hf(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function gf(e){return(gf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bf(e,t){return(bf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var vf=function(e){function t(e){var a,n,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(a=!(i=gf(t).call(this,e))||"object"!==mf(i)&&"function"!=typeof i?yf(n):i).state={openDialog:!1,editIndex:-1,deleteComment:null},a.keyCount=0,a.getKey=a.getKey.bind(yf(a)),a.handleClickDeleteComment=a.handleClickDeleteComment.bind(yf(a)),a.handleShowEdit=a.handleShowEdit.bind(yf(a)),a.handleClickOpen=a.handleClickOpen.bind(yf(a)),a.showEditComment=a.showEditComment.bind(yf(a)),a.handleConfirmDialog=a.handleConfirmDialog.bind(yf(a)),a.handleClose=a.handleClose.bind(yf(a)),a.filterRemainingComments=a.filterRemainingComments.bind(yf(a)),a.filterCommentToDelete=a.filterCommentToDelete.bind(yf(a)),a}var a,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bf(e,t)}(t,i.a.Component),a=t,(n=[{key:"getKey",value:function(){return this.keyCount++}},{key:"filterRemainingComments",value:function(e){var t=this.state.deleteComment;return e.commentId!==t.commentId}},{key:"filterCommentToDelete",value:function(e){var t=this.state.deleteComment;return e.commentId===t.parentCommentId}},{key:"showEditComment",value:function(e){-1===this.state.editIndex&&this.setState({editIndex:e})}},{key:"handleShowEdit",value:function(){this.setState({editIndex:-1})}},{key:"handleClickOpen",value:function(e){-1===this.state.editIndex&&this.setState({deleteComment:e,openDialog:!0})}},{key:"handleClose",value:function(){this.setState({openDialog:!1})}},{key:"handleConfirmDialog",value:function(e){e?this.handleClickDeleteComment():this.handleClose()}},{key:"handleClickDeleteComment",value:function(){var e=this,t=new _,a=this.state.deleteComment,n=this.props,i=n.api,r=n.allComments,o=n.commentsUpdate,l=a.commentId,s=a.parentCommentId,c=i.id;this.handleClose(),t.deleteComment(c,l).then(function(){if(void 0===s){var t=r.filter(e.filterRemainingComments);o(t)}else{var a=r.findIndex(e.filterCommentToDelete),n=r[a].replies.filter(e.filterRemainingComments);r[a].replies=n,o(r)}}).catch(function(e){console.error(e),e.response?se.error(e.response.body.message):se.error("Something went wrong while deleting comment - ".concat(l))})}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.comments,r=t.api,o=t.allComments,l=t.commentsUpdate,s=this.state,c=s.editIndex,u=s.openDialog,p={api:r,allComments:o,commentsUpdate:l};return[n&&n.map(function(t,n){return i.a.createElement("div",{key:e.getKey(),className:a.contentWrapper},i.a.createElement(ce.a,{container:!0,spacing:2,className:a.root},i.a.createElement(ce.a,{item:!0},i.a.createElement(Vm.a,{className:a.commentIcon})),i.a.createElement(ce.a,{item:!0,xs:!0,zeroMinWidth:!0},i.a.createElement(h.a,{noWrap:!0,className:a.commentText,variant:"body1"},t.createdBy),n!==c&&i.a.createElement(h.a,{className:a.commentText},t.commentText),n===c&&i.a.createElement(rf,ff({},p,{comment:t,toggleShowEdit:e.handleShowEdit})),i.a.createElement(df,{classes:a,comment:t,editIndex:c,index:n,showAddComment:e.showAddComment,handleClickOpen:e.handleClickOpen,showEditComment:e.showEditComment}))))}),i.a.createElement(zn,{key:"key-dialog",labelCancel:"Cancel",title:"Confirm Delete",message:"Are you sure you want to delete this comment?",labelOk:"Yes",callback:this.handleConfirmDialog,open:u})]}}])&&hf(a.prototype,n),r&&hf(a,r),t}();vf.defaultProps={api:null},vf.propTypes={classes:o.a.instanceOf(Object).isRequired,api:o.a.instanceOf(Object),allComments:o.a.instanceOf(Array).isRequired,commentsUpdate:o.a.func.isRequired,comments:o.a.instanceOf(Array).isRequired};var Ef=Object(b.a)(function(e){return{link:{color:e.palette.getContrastText(e.palette.background.default),cursor:"pointer"},commentIcon:{color:e.palette.getContrastText(e.palette.background.default)},commentText:{color:e.palette.getContrastText(e.palette.background.default),marginTop:e.spacing.unig,width:"100%",whiteSpace:"pre-wrap",overflowWrap:"break-word"},root:{marginTop:2.5*e.spacing.unit},contentWrapper:{maxWidth:e.custom.contentAreaWidth,paddingLeft:2*e.spacing.unit,paddingTop:e.spacing.unig}}})(vf);function wf(e){return(wf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cf(){return(Cf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Pf(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Sf(e){return(Sf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Af(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Of(e,t){return(Of=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var xf=function(e){function t(e){var a,n,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(a=!(i=Sf(t).call(this,e))||"object"!==wf(i)&&"function"!=typeof i?Af(n):i).state={openDialog:!1,replyIndex:-1,editIndex:-1,deleteComment:null},a.keyCount=0,a.getKey=a.getKey.bind(Af(a)),a.handleClickDeleteComment=a.handleClickDeleteComment.bind(Af(a)),a.handleShowEdit=a.handleShowEdit.bind(Af(a)),a.handleShowReply=a.handleShowReply.bind(Af(a)),a.handleClickOpen=a.handleClickOpen.bind(Af(a)),a.showAddComment=a.showAddComment.bind(Af(a)),a.showEditComment=a.showEditComment.bind(Af(a)),a.handleConfirmDialog=a.handleConfirmDialog.bind(Af(a)),a.handleClose=a.handleClose.bind(Af(a)),a.filterRemainingComments=a.filterRemainingComments.bind(Af(a)),a.filterCommentToDelete=a.filterCommentToDelete.bind(Af(a)),a}var a,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Of(e,t)}(t,i.a.Component),a=t,(n=[{key:"getKey",value:function(){return this.keyCount++}},{key:"filterRemainingComments",value:function(e){var t=this.state.deleteComment;return e.commentId!==t.commentId}},{key:"filterCommentToDelete",value:function(e){var t=this.state.deleteComment;return e.commentId===t.parentCommentId}},{key:"showAddComment",value:function(e){-1===this.state.editIndex&&this.setState({replyIndex:e})}},{key:"showEditComment",value:function(e){-1===this.state.editIndex&&this.setState({editIndex:e})}},{key:"handleShowEdit",value:function(){this.setState({editIndex:-1})}},{key:"handleShowReply",value:function(){this.setState({replyIndex:-1})}},{key:"handleClickOpen",value:function(e){-1===this.state.editIndex&&this.setState({deleteComment:e,openDialog:!0})}},{key:"handleClose",value:function(){this.setState({openDialog:!1})}},{key:"handleConfirmDialog",value:function(e){e?this.handleClickDeleteComment():this.handleClose()}},{key:"handleClickDeleteComment",value:function(){var e=this,t=new _,a=this.state.deleteComment,n=this.props,i=n.api,r=n.allComments,o=n.commentsUpdate,l=a.commentId,s=a.parentCommentId,c=i.id;this.handleClose(),t.deleteComment(c,l).then(function(){if(void 0===s){var t=r.filter(e.filterRemainingComments);o(t)}else{var a=r.findIndex(e.filterCommentToDelete),n=r[a].replies.filter(e.filterRemainingComments);r[a].replies=n,o(r)}}).catch(function(e){console.error(e),e.response?se.error(e.response.body.message):se.error("Something went wrong while deleting comment - ".concat(l))})}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.comments,r=t.api,o=t.allComments,l=t.commentsUpdate,s=this.state,c=s.editIndex,u=s.replyIndex,p=s.openDialog,d={api:r,allComments:o,commentsUpdate:l};return[n&&n.slice(0).reverse().map(function(t,n){return i.a.createElement("div",{key:e.getKey(),className:a.contentWrapper},i.a.createElement(ce.a,{container:!0,spacing:2,className:a.root},i.a.createElement(ce.a,{item:!0},i.a.createElement(Vm.a,{className:a.commentIcon})),i.a.createElement(ce.a,{item:!0,xs:!0,zeroMinWidth:!0},i.a.createElement(h.a,{noWrap:!0,className:a.commentText,variant:"body1"},t.createdBy),n!==c&&i.a.createElement(h.a,{className:a.commentText},t.commentText),n===c&&i.a.createElement(rf,Cf({},d,{comment:t,toggleShowEdit:e.handleShowEdit})),i.a.createElement(df,{classes:a,comment:t,editIndex:c,index:n,showAddComment:e.showAddComment,handleClickOpen:e.handleClickOpen,showEditComment:e.showEditComment}),n===u&&i.a.createElement($m,Cf({},d,{parentCommentId:t.commentId,toggleShowReply:e.handleShowReply,cancelButton:!0})),0!==t.replies.length&&i.a.createElement(Ef,Cf({},d,{classes:a,comments:t.replies})))))}),i.a.createElement(zn,{key:"key-dialog",labelCancel:"Cancel",title:"Confirm Delete",message:"Are you sure you want to delete this comment?",labelOk:"Yes",callback:this.handleConfirmDialog,open:p})]}}])&&Pf(a.prototype,n),r&&Pf(a,r),t}();xf.defaultProps={api:null},xf.propTypes={classes:o.a.instanceOf(Object).isRequired,api:o.a.instanceOf(Object),allComments:o.a.instanceOf(Array).isRequired,commentsUpdate:o.a.func.isRequired,comments:o.a.instanceOf(Array).isRequired};var If=Object(b.a)(function(e){return{link:{color:e.palette.getContrastText(e.palette.background.default),cursor:"pointer"},commentIcon:{color:e.palette.getContrastText(e.palette.background.default)},commentText:{color:e.palette.getContrastText(e.palette.background.default),marginTop:e.spacing.unig,width:"100%",whiteSpace:"pre-wrap",overflowWrap:"break-word"},root:{marginTop:2.5*e.spacing.unit},contentWrapper:{maxWidth:e.custom.contentAreaWidth,paddingLeft:2*e.spacing.unit,paddingTop:e.spacing(2)}}})(xf);function Tf(e){return(Tf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kf(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Df(e){return(Df=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mf(e,t){return(Mf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Rf=function(e){function t(e){var a,n,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(a=!(i=Df(t).call(this,e))||"object"!==Tf(i)&&"function"!=typeof i?_f(n):i).state={expanded:!0,allComments:[],comments:[],totalComments:0,startCommentsToDisplay:0},a.updateCommentList=a.updateCommentList.bind(_f(a)),a.handleExpandClick=a.handleExpandClick.bind(_f(a)),a.handleLoadMoreComments=a.handleLoadMoreComments.bind(_f(a)),a}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mf(e,t)}(t,n["Component"]),a=t,(r=[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.api,n=t.theme;(new _).getAllComments(a.id).then(function(t){var a=t.body.list;e.setState({allComments:a,totalComments:a.length}),a.length<n.custom.commentsLimit?e.setState({startCommentsToDisplay:0,comments:a.slice(0,a.length)}):e.setState({startCommentsToDisplay:a.length-n.custom.commentsLimit,comments:a.slice(a.length-n.custom.commentsLimit,a.length)})}).catch(function(e){console.error(e),e.response?se.error(e.response.body.message):se.error("Something went wrong while retrieving comments")})}},{key:"handleLoadMoreComments",value:function(){var e=this.state,t=e.totalComments,a=e.startCommentsToDisplay,n=e.allComments,i=this.props.theme;a-i.custom.commentsLimit<=0?this.setState({startCommentsToDisplay:0,comments:n.slice(0,t)}):this.setState({startCommentsToDisplay:a-i.custom.commentsLimit,comments:n.slice(a-i.custom.commentsLimit,t)})}},{key:"handleExpandClick",value:function(){var e=this.state.expanded;this.setState({expanded:!e})}},{key:"updateCommentList",value:function(e){var t,a,n,i=this.state,r=i.startCommentsToDisplay,o=i.totalComments,l=this.props.theme;this.setState({allComments:e}),o<l.custom.commentsLimit?(n=e.length,this.setState({startCommentsToDisplay:0,totalComments:n,comments:e})):o<=e.length?(t=r+(a=e.length-o),n=e.length,this.setState({startCommentsToDisplay:t,totalComments:n,comments:e.slice(t,n)})):(a=o-e.length,t=0===r?r:r-a,n=e.length,this.setState({startCommentsToDisplay:t,totalComments:n,comments:e.slice(t,n)}))}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.api,n=this.state,r=n.comments,o=n.expanded,l=n.allComments,s=n.startCommentsToDisplay,c=n.totalComments;return i.a.createElement("div",{className:t.contentWrapper},i.a.createElement("div",{className:t.root},i.a.createElement(qm.a,{onClick:this.handleExpandClick,"aria-expanded":o}),i.a.createElement(h.a,{onClick:this.handleExpandClick,variant:"h4",className:t.titleSub},"Comments")),i.a.createElement(Mp.a,{in:o,timeout:"auto",unmountOnExit:!0},i.a.createElement($m,{api:a,commentsUpdate:this.updateCommentList,allComments:l,parentCommentId:null,cancelButton:!1}),i.a.createElement(If,{comments:r,api:a,commentsUpdate:this.updateCommentList,allComments:l}),0!==s&&i.a.createElement("div",{className:t.contentWrapper},i.a.createElement(zm.a,{container:!0,spacing:8,className:t.root},i.a.createElement(zm.a,{item:!0},i.a.createElement(h.a,{className:t.verticalSpace,variant:"body1",onClick:this.handleLoadMoreComments},i.a.createElement("a",{className:t.link+" "+t.loadMoreLink},"Load Previous Comments"))),i.a.createElement(zm.a,null,i.a.createElement(Fm.a,{onClick:this.handleLoadMoreComments,className:t.link+" "+t.verticalSpace})),i.a.createElement(zm.a,{item:!0},i.a.createElement(h.a,{className:t.verticalSpace,variant:"body1"},"Showing comments",c+-s+" of "+c))))))}}])&&kf(a.prototype,r),o&&kf(a,o),t}();Rf.propTypes={classes:o.a.instanceOf(Object).isRequired,api:o.a.instanceOf(Object).isRequired,theme:o.a.shape({}).isRequired};var jf=Object(b.a)(function(e){return{root:{display:"flex",alignItems:"center",paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit},contentWrapper:{maxWidth:e.custom.contentAreaWidth,paddingLeft:2*e.spacing.unit,paddingTop:e.spacing.unig},titleSub:{cursor:"pointer"},link:{color:e.palette.getContrastText(e.palette.background.default),cursor:"pointer"},verticalSpace:{marginTop:.2*e.spacing.unit},loadMoreLink:{textDecoration:"underline"}}},{withTheme:!0})(Rf);function Nf(e){return(Nf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lf(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function qf(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Wf(e){return(Wf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ff(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bf(e,t){return(Bf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var zf=function(e){function t(e){var a,n,i,r,o,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,i=Wf(t).call(this,e),a=!i||"object"!==Nf(i)&&"function"!=typeof i?Ff(n):i,r=Ff(a),l=function(e){var t=a.state,n=t.validRoles,i=t.invalidRoles;if(i.includes(e)){var r=i.filter(function(t){return t!==e});a.setState({invalidRoles:r}),0===r.length&&a.setState({roleValidity:!0})}else a.setState({validRoles:n.filter(function(t){return t!==e})})},(o="handleRoleDeletion")in r?Object.defineProperty(r,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):r[o]=l,a.api=new _,a.api_uuid=e.match.params.api_uuid;var s=[];return s.name={invalid:!1,error:""},s.description={invalid:!1,error:""},a.state={apiScopes:null,apiScope:{},validRoles:[],valid:s,roleValidity:!0,invalidRoles:[]},a.addScope=a.addScope.bind(Ff(a)),a.validateScopeName=a.validateScopeName.bind(Ff(a)),a.handleScopeNameInput=a.handleScopeNameInput.bind(Ff(a)),a.validateScopeDescription=a.validateScopeDescription.bind(Ff(a)),a.handleRoleAddition=a.handleRoleAddition.bind(Ff(a)),a.handleRoleDeletion=a.handleRoleDeletion.bind(Ff(a)),a}var a,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bf(e,t)}(t,i.a.Component),a=t,(n=[{key:"addScope",value:function(){var e=this,t=this.props,a=t.intl,n=t.api,i=t.history,r=t.isAPIProduct?"api-products":"apis";if(!this.validateScopeName("name",this.state.apiScope.name)){var o=this.state.apiScope;o.bindings={type:"role",values:this.state.validRoles};var l=n.scopes.map(function(e){return e});l.push(o);var s={scopes:l},c=n.update(s);c.then(function(){se.info(a.formatMessage({id:"Apis.Details.Scopes.CreateScope.scope.added.successfully",defaultMessage:"Scope added successfully"}));var t=e.state.apiScopes,o="/"+r+"/"+n.id+"/scopes/";i.push(o),e.setState({apiScopes:t,apiScope:{},validRoles:[]})}),c.catch(function(e){var t=e.response;if(t.body){var a=t.body.description;se.error(a)}})}}},{key:"handleScopeNameInput",value:function(e){var t=e.target,a=t.id,n=t.value;this.validateScopeName(a,n)}},{key:"validateScopeName",value:function(e,t){var a=this.state,n=a.valid,i=a.apiScope,r=this.props.api.scopes;i[e]=t,n[e].invalid=!(t&&t.length>0),n[e].invalid&&(n[e].error="Scope name cannot be empty");var o=r.find(function(e){return e.name===t});return!n[e].invalid&&o&&(n[e].invalid=!0,n[e].error="Scope name already exist"),!n[e].invalid&&/[!@#$%^&*(),.?":{}[\]|<>\t\n]/i.test(t)&&(n[e].invalid=!0,n[e].error="Field contains special characters"),n[e].invalid||(n[e].error=""),this.setState({valid:n,apiScope:i}),n[e].invalid}},{key:"validateScopeDescription",value:function(e){var t=e.target,a=t.id,n=t.value,i=this.state,r=i.valid,o=i.apiScope;o[a]=n,r[a].invalid=!1,r[a].error="",this.setState({valid:r,apiScope:o})}},{key:"handleRoleAddition",value:function(e){var t=this,a=this.state,n=a.validRoles,i=a.invalidRoles;Ce.role.validate(hl.a.encode(e)).then(function(){t.setState({roleValidity:!0,validRoles:[].concat(Lf(n),[e])})}).catch(function(a){404===a.status?t.setState({roleValidity:!1,invalidRoles:[].concat(Lf(i),[e])}):(se.error("Error when validating role: "+e),console.error("Error when validating role "+a))})}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.isAPIProduct,r=t.api,o="/".concat(n?"api-products":"apis","/").concat(r.id,"/scopes"),l=this.state,s=l.roleValidity,c=l.validRoles,u=l.invalidRoles;return i.a.createElement(ce.a,{container:!0,spacing:3},i.a.createElement(ce.a,{item:!0,sm:12,md:12}),i.a.createElement(ce.a,{item:!0,sm:0,md:0,lg:2}),i.a.createElement(ce.a,{item:!0,sm:12,md:12,lg:8},i.a.createElement(ce.a,{container:!0,spacing:5,className:a.titleGrid},i.a.createElement(ce.a,{item:!0,md:12},i.a.createElement("div",{className:a.titleWrapper},i.a.createElement(pe.b,{to:o,className:a.titleLink},i.a.createElement(h.a,{variant:"h4",align:"left",className:a.mainTitle},i.a.createElement(d.a,{id:"Apis.Details.Scopes.Scopes.heading.scope.heading",defaultMessage:"Scopes"}))),i.a.createElement(va.a,null,"keyboard_arrow_right"),i.a.createElement(h.a,{variant:"h4",align:"left",className:a.mainTitle},i.a.createElement(d.a,{id:"Apis.Details.Scopes.CreateScope.create.new.scope",defaultMessage:"Create New Scope"})))),i.a.createElement(ce.a,{item:!0,md:12},i.a.createElement(me.a,{elevation:0,className:a.root},i.a.createElement(wt.a,{margin:"normal"},i.a.createElement(he.a,{id:"name",label:"Name",placeholder:"Scope Name",error:this.state.valid.name.invalid,helperText:this.state.valid.name.invalid?this.state.valid.name.error:i.a.createElement(d.a,{id:"Apis.Details.Scopes.CreateScope.short.description.name",defaultMessage:"Enter Scope Name ( Ex: creator )"}),fullWidth:!0,margin:"normal",variant:"outlined",InputLabelProps:{shrink:!0},value:this.state.apiScope.name||"",onChange:this.handleScopeNameInput})),i.a.createElement(wt.a,{margin:"normal"},i.a.createElement(he.a,{id:"description",label:"Description",variant:"outlined",placeholder:"Short description about the scope",helperText:i.a.createElement(d.a,{id:"Apis.Details.Scopes.CreateScope.short.description.about.the.scope",defaultMessage:"Short description about the scope"}),margin:"normal",InputLabelProps:{shrink:!0},onChange:this.validateScopeDescription,value:this.state.apiScope.description||"",multiline:!0})),i.a.createElement(wt.a,{margin:"normal"},i.a.createElement(Ct.a,{component:"legend",className:a.FormControlLabel},i.a.createElement(d.a,{id:"Apis.Details.Scopes.CreateScope.roles",defaultMessage:"Roles"})),i.a.createElement(ml.a,{variant:"outlined",value:c.concat(u),alwaysShowPlaceholder:!1,placeholder:"Enter roles and press Enter",blurBehavior:"clear",InputProps:{endAdornment:!s&&i.a.createElement(Pt.a,{position:"end"},i.a.createElement(F.a,{color:"error"}))},onAdd:this.handleRoleAddition,error:!s,helperText:s?i.a.createElement(d.a,{id:"Apis.Details.Scopes.CreateScope.roles.help",defaultMessage:"Enter valid role and press enter"}):i.a.createElement(d.a,{id:"Apis.Details.Scopes.Roles.Invalid",defaultMessage:"Role is invalid"}),chipRenderer:function(t,a){var n=t.value;return i.a.createElement(Na.a,{key:a,label:n,onDelete:function(){e.handleRoleDeletion(n)},style:{backgroundColor:u.includes(n)?gl.a[300]:null,margin:"8px 8px 8px 0",float:"left"}})}})),i.a.createElement(pi.a,null),i.a.createElement("div",{className:a.addNewOther},i.a.createElement(ue.a,{variant:"contained",color:"primary",onClick:this.addScope,disabled:this.state.valid.name.invalid||0!==u.length,className:a.saveButton},i.a.createElement(d.a,{id:"Apis.Details.Scopes.CreateScope.save",defaultMessage:"Save"})),i.a.createElement(pe.b,{to:o},i.a.createElement(ue.a,{variant:"contained"},i.a.createElement(d.a,{id:"Apis.Details.Scopes.CreateScope.cancel",defaultMessage:"Cancel"})))))))))}}])&&qf(a.prototype,n),r&&qf(a,r),t}();zf.propTypes={match:o.a.shape({params:o.a.object}),api:o.a.shape({id:o.a.string}).isRequired,history:o.a.shape({push:o.a.func}).isRequired,classes:o.a.shape({}).isRequired,intl:o.a.shape({formatMessage:o.a.func}).isRequired,isAPIProduct:o.a.bool.isRequired},zf.defaultProps={match:{params:{}}};var Uf=no(Object(d.d)(Object(l.withRouter)(Object(b.a)(function(e){return{root:{flexGrow:1,marginTop:10,display:"flex",flexDirection:"column",padding:20},titleWrapper:{display:"flex",flexDirection:"row",alignItems:"center"},titleLink:{color:e.palette.primary.main},contentWrapper:{maxWidth:e.custom.contentAreaWidth},mainTitle:{paddingLeft:0},FormControl:{padding:"0 0 0 ".concat(e.spacing.unit,"px"),width:"100%",marginTop:0},FormControlOdd:{padding:"0 0 0 ".concat(e.spacing.unit,"px"),backgroundColor:e.palette.background.paper,width:"100%",marginTop:0},FormControlLabel:{marginBottom:e.spacing.unit,marginTop:e.spacing.unit,fontSize:e.typography.caption.fontSize},buttonSection:{paddingTop:3*e.spacing.unit},saveButton:{marginRight:2*e.spacing.unit},helpText:{color:e.palette.text.hint,marginTop:e.spacing.unit},extraPadding:{paddingLeft:2*e.spacing.unit},addNewOther:{paddingTop:40},titleGrid:{" & .MuiGrid-item":{padding:0,margin:0}}}})(zf)))),Vf=function(e){var t=e.name,a=e.children;return i.a.createElement(ce.a,{item:!0},i.a.createElement(ce.a,{container:!0,spacing:4,direction:"row",alignItems:"center"},i.a.createElement(ce.a,{item:!0,style:{flexGrow:1}},i.a.createElement(ce.a,{container:!0,direction:"row",justify:"space-between"},i.a.createElement(ce.a,{item:!0},i.a.createElement(h.a,{variant:"subtitle1"},t)),i.a.createElement(ce.a,{item:!0},i.a.createElement(h.a,{variant:"subtitle1"},":")))),i.a.createElement(ce.a,{item:!0,lg:10,md:10,sm:10,xs:10},a)))};Vf.propTypes={name:o.a.string.isRequired,children:o.a.oneOfType([o.a.element,o.a.arrayOf(o.a.element)]).isRequired};var Gf=Vf,Hf=a(1749),Kf=a.n(Hf);function Jf(e){return(Jf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qf(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){Yf(e,t,a[t])})}return e}function Yf(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function $f(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Zf(e){return(Zf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eh(e,t){return(eh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var th=function(e){function t(e){var a,n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(a=!(i=Zf(t).call(this,e))||"object"!==Jf(i)&&"function"!=typeof i?Xf(n):i).api_uuid=e.match.params.api_uuid;var r=a.props,o=r.api,l=r.location,s=o.scopes.find(function(e){return e.name===l.state.scopeName});return a.state={apiScope:Qf({},s)},a.updateScope=a.updateScope.bind(Xf(a)),a.handleInputs=a.handleInputs.bind(Xf(a)),a}var a,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&eh(e,t)}(t,i.a.Component),a=t,(n=[{key:"updateScope",value:function(){var e=this.state.apiScope,t=this.props,a=t.intl,n=t.api,i=t.history,r=t.isAPIProduct?"api-products":"apis",o={scopes:n.scopes.map(function(t){return t.name===e.name?e:t})},l=n.update(o);l.then(function(){se.info(a.formatMessage({id:"Apis.Details.Scopes.CreateScope.scope.updated.successfully",defaultMessage:"Scope updated successfully"}));var e="/"+r+"/"+n.id+"/scopes/";i.push(e)}),l.catch(function(e){var t=e.response;if(t.body){var a=t.body.description;se.error(a)}})}},{key:"handleInputs",value:function(e){if(Array.isArray(e)){var t=this.state.apiScope;t.bindings.values=e,this.setState({apiScope:t})}else{var a=e.target,n=this.state.apiScope;n[a.id]=a.value,this.setState({apiScope:n})}}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.api,n=e.isAPIProduct,r=this.state.apiScope,o="/".concat(n?"api-products":"apis","/").concat(a.id,"/scopes");return i.a.createElement(ce.a,{container:!0},i.a.createElement(h.a,{className:t.headline,gutterBottom:!0,variant:"h5",component:"h2"},i.a.createElement(d.a,{id:"Apis.Details.Scopes.EditScope.update.scope",defaultMessage:"Update Scope"})),i.a.createElement(ce.a,{item:!0,lg:5,className:t.topics},i.a.createElement(Gf,{name:"Name"},i.a.createElement(he.a,{disabled:!0,fullWidth:!0,id:"name",type:"text",name:"name",margin:"normal",value:r.name})),i.a.createElement(Gf,{name:"Description"},i.a.createElement(he.a,{style:{width:"100%"},id:"description",name:"description",helperText:i.a.createElement(d.a,{id:"Apis.Details.Scopes.CreateScope.short.description.about.the.scope",defaultMessage:"Short description about the scope"}),margin:"normal",type:"text",onChange:this.handleInputs,value:this.state.apiScope.description})),i.a.createElement(Gf,{name:"Roles"},i.a.createElement(Kf.a,{value:this.state.apiScope.bindings.values,onChange:this.handleInputs,onlyUnique:!0})),i.a.createElement(ue.a,{variant:"contained",color:"primary",onClick:this.updateScope,className:t.buttonSave},i.a.createElement(d.a,{id:"Apis.Details.Scopes.CreateScope.save",defaultMessage:"Save"})),i.a.createElement(pe.b,{to:o},i.a.createElement(ue.a,{variant:"contained",color:"primary",className:t.buttonCancel},i.a.createElement(d.a,{id:"Apis.Details.Scopes.CreateScope.cancel",defaultMessage:"Cancel"})))))}}])&&$f(a.prototype,n),r&&$f(a,r),t}();th.propTypes={match:o.a.shape({params:o.a.object}),api:o.a.shape({id:o.a.string}).isRequired,classes:o.a.shape({}).isRequired,intl:o.a.shape({formatMessage:o.a.func}).isRequired,location:o.a.shape({state:o.a.shape({scopeName:o.a.string})}).isRequired,history:o.a.shape({push:o.a.func}).isRequired,isAPIProduct:o.a.bool.isRequired},th.defaultProps={match:{params:{}}};var ah=Object(d.d)(no(Object(l.withRouter)(Object(b.a)(function(e){return{buttonSave:{marginTop:10*e.spacing.unit},buttonCancel:{marginTop:10*e.spacing.unit,marginLeft:5*e.spacing.unit},topics:{marginTop:10*e.spacing.unit},headline:{paddingTop:1.5*e.spacing.unit,paddingLeft:2.5*e.spacing.unit}}})(th))));function nh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,i=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){i=!0,r=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw r}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ih(e){var t=e.intl,a=e.api,r=nh(Object(n.useState)(!1),2),o=r[0],l=r[1],s=e.scopeName;return i.a.createElement("div",null,i.a.createElement(ue.a,{onClick:function(){l(!o)},disabled:Object(Ka.b)(["apim:api_create"],a)},i.a.createElement(va.a,null,"delete_forever"),i.a.createElement(d.a,{id:"Apis.Details.Documents.Delete.document.delete",defaultMessage:"Delete"})),i.a.createElement(zn,{key:"key-dialog",labelCancel:i.a.createElement(d.a,{id:"Apis.Details.Documents.Delete.document.listing.label.cancel",defaultMessage:"Cancel"}),title:i.a.createElement(d.a,{id:"Apis.Details.Documents.Delete.document.listing.delete.confirm",defaultMessage:"Confirm Delete"}),message:i.a.createElement(d.a,{id:"Apis.Details.Documents.Delete.document.listing.label.ok.confirm",defaultMessage:"Are you sure you want to delete scope {scope} ?",values:{scope:s}}),labelOk:i.a.createElement(d.a,{id:"Apis.Details.Documents.Delete.document.listing.label.ok.yes",defaultMessage:"Yes"}),callback:function(n){n?function(){var n=e.scopeName,i=JSON.parse(JSON.stringify(a.operations)).map(function(e){return e.scopes=e.scopes.filter(function(e){return e!==n}),e}),r={scopes:a.scopes.filter(function(e){return e.name!==n}),operations:i},s=l;a.update(r).then(function(){se.info(t.formatMessage({id:"Apis.Details.Resources.Resources.api.scope.deleted.successfully",defaultMessage:"API Scope Deleted successfully!"})),s(!o)}).catch(function(e){console.error(e),se.error(t.formatMessage({id:"Apis.Details.Resources.Resources.something.went.wrong.while.updating.the.api",defaultMessage:"Error occurred while updating API"}))})}():l(!o)},open:o}))}ih.propTypes={classes:o.a.shape({}).isRequired,scopeName:o.a.string.isRequired,intl:o.a.shape({}).isRequired,api:o.a.instanceOf(Object).isRequired};var rh=Object(d.d)(Object(b.a)({appBar:{position:"relative"},flex:{flex:1},popupHeader:{display:"flex",flexDirection:"row",alignItems:"center"},splitWrapper:{padding:0},docName:{alignItems:"center",display:"flex"},button:{height:30,marginLeft:30}})(ih));function oh(e){return(oh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lh(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function sh(e,t){return!t||"object"!==oh(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ch(e){return(ch=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function uh(e,t){return(uh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ph=function(e){function t(e){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(a=sh(this,ch(t).call(this,e))).api=new _,a.api_uuid=e.match.params.api_uuid,a.api_data=e.api,a}var a,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&uh(e,t)}(t,i.a.Component),a=t,(n=[{key:"render",value:function(){var e=this,t=this.props,a=t.intl,n=t.classes,r=t.isAPIProduct,o=t.api,l=r?"api-products":"apis",s=o.scopes,c="/".concat(l,"/").concat(o.id,"/scopes/create"),u="/".concat(l,"/").concat(o.id,"/scopes/edit"),p=[a.formatMessage({id:"Apis.Details.Scopes.Scopes.table.header.name",defaultMessage:"Name"}),a.formatMessage({id:"Apis.Details.Scopes.Scopes.table.header.description",defaultMessage:"Description"}),{options:{customBodyRender:function(e,t){return!!t.rowData&&(e||[]).join(",")},filter:!1,label:i.a.createElement(d.a,{id:"Apis.Details.Scopes.Scopes.table.header.roles",defaultMessage:"Applying Roles"})}},{options:{customBodyRender:function(e,t){return!!t.rowData&&i.a.createElement(ci.a,{component:"nav",className:n.root},e.map(function(e){return i.a.createElement(ui.a,{button:!0},i.a.createElement(Se.a,{primary:e}))}))},filter:!1,label:i.a.createElement(d.a,{id:"Apis.Details.Scopes.Scopes.table.header.usages",defaultMessage:"Used In"})}},{options:{customBodyRender:function(t,a){if(a.rowData){var r=a.rowData[0];return i.a.createElement("table",{className:n.actionTable},i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement(pe.b,{to:!Object(Ka.b)(["apim:api_create"],o)&&{pathname:u,state:{scopeName:r}}},i.a.createElement(ue.a,{disabled:Object(Ka.b)(["apim:api_create"],o)},i.a.createElement(va.a,null,"edit"),i.a.createElement(d.a,{id:"Apis.Details.Documents.Edit.documents.text.editor.edit",defaultMessage:"Edit"})))),i.a.createElement("td",null,i.a.createElement(rh,{scopeName:r,apiId:e.apiId,api:o}))))}return!1},filter:!1,label:i.a.createElement(d.a,{id:"Apis.Details.Scopes.Scopes.table.header.actions",defaultMessage:"Actions"})}}],m=o.scopes.map(function(e){var t=[];t.push(e.name),t.push(e.description),t.push(e.bindings.values);var a=o.operations.filter(function(t){return t.scopes.includes(e.name)}).map(function(e){return e.target+" "+e.verb});return t.push(a),t});return s?0===s.length?i.a.createElement("div",{className:n.root},i.a.createElement("div",{className:n.titleWrapper},i.a.createElement(h.a,{variant:"h4",align:"left",className:n.mainTitle},i.a.createElement(d.a,{id:"Apis.Details.Scopes.Scopes.heading.scope.heading",defaultMessage:"Scopes"})),i.a.createElement(pe.b,{to:!Object(Ka.b)(["apim:api_create"],o)&&c},i.a.createElement(ue.a,{size:"small",className:n.button,disabled:Object(Ka.b)(["apim:api_create"],o)},i.a.createElement(Ms.a,{className:n.buttonIcon}),i.a.createElement(d.a,{id:"Apis.Details.Scopes.Scopes.heading.scope.add_new",defaultMessage:"Add New Scope"})))),i.a.createElement(si,{type:"info",height:140},i.a.createElement("div",{className:n.contentWrapper},i.a.createElement(h.a,{variant:"h5",component:"h3",className:n.head},i.a.createElement(d.a,{id:"Apis.Details.Scopes.Scopes.create.scopes.title",defaultMessage:"Create Scopes"})),i.a.createElement(h.a,{component:"p",className:n.content},i.a.createElement(d.a,{id:"Apis.Details.Scopes.Scopes.scopes.enable.fine.gained.access.control",defaultMessage:"Scopes enable fine-grained access control to API resources based on user roles."})),i.a.createElement("div",{className:n.actions},i.a.createElement(pe.b,{to:!Object(Ka.b)(["apim:api_create"],o)&&c},i.a.createElement(ue.a,{variant:"contained",color:"primary",className:n.button,disabled:Object(Ka.b)(["apim:api_create"],o)},i.a.createElement(d.a,{id:"Apis.Details.Scopes.Scopes.create.scopes.button",defaultMessage:"Create Scopes"}))))))):i.a.createElement("div",{className:n.heading},i.a.createElement("div",{className:n.titleWrapper},i.a.createElement(h.a,{variant:"h4",align:"left",className:n.mainTitle},i.a.createElement(d.a,{id:"Apis.Details.Scopes.Scopes.heading.scope.heading",defaultMessage:"Scopes"})),i.a.createElement(pe.b,{to:!Object(Ka.b)(["apim:api_create"],o)&&c},i.a.createElement(ue.a,{size:"small",className:n.button,disabled:Object(Ka.b)(["apim:api_create"],o)},i.a.createElement(Ms.a,{className:n.buttonIcon}),i.a.createElement(d.a,{id:"Apis.Details.Scopes.Scopes.heading.scope.add_new",defaultMessage:"Add New Scope"}))),Object(Ka.b)(["apim:api_create"],o)&&i.a.createElement(ce.a,{item:!0},i.a.createElement(h.a,{variant:"body2",color:"primary"},i.a.createElement(d.a,{id:"Apis.Details.Scopes.Scopes.update.not.allowed",defaultMessage:"*You are not authorized to update Scopes of the API due to insufficient permissions"})))),i.a.createElement(ga.a,{title:!1,data:m,columns:p,options:{filterType:"multiselect",selectableRows:!1,title:!1,filter:!1,print:!1,download:!1,viewColumns:!1,customToolbar:!1}})):i.a.createElement(Kn.a,null)}}])&&lh(a.prototype,n),r&&lh(a,r),t}();ph.propTypes={match:o.a.shape({params:o.a.object}),api:o.a.instanceOf(Object).isRequired,classes:o.a.shape({}).isRequired,intl:o.a.shape({formatMessage:o.a.func}).isRequired,isAPIProduct:o.a.bool.isRequired},ph.defaultProps={match:{params:{}}};var dh=Object(d.d)(no(Md()(function(e){return{root:{paddingTop:0,paddingLeft:0,maxWidth:e.custom.contentAreaWidth},buttonProgress:{position:"relative",margin:e.spacing.unit},headline:{paddingTop:1.25*e.spacing.unit,paddingLeft:2.5*e.spacing.unit},heading:{flexGrow:1,marginTop:10},titleWrapper:{display:"flex",flexDirection:"row",alignItems:"center",marginBottom:2*e.spacing.unit},mainTitle:{paddingLeft:0},button:{textTransform:e.custom.leftMenuTextStyle,textDecoration:"none",color:e.palette.getContrastText(e.palette.primary.main)},buttonIcon:{marginRight:10},content:{margin:"".concat(2*e.spacing.unit,"px 0 ").concat(2*e.spacing.unit,"px 0")},head:{fontWeight:200}}})(ph))),mh=function(){var e=Object(n.useContext)(io).isAPIProduct?"api-products":"apis";return i.a.createElement(l.Switch,null,i.a.createElement(l.Route,{exact:!0,path:"/"+e+"/:api_uuid/scopes/",component:function(){return i.a.createElement(dh,null)}}),i.a.createElement(l.Route,{exact:!0,path:"/"+e+"/:api_uuid/scopes/create",component:function(){return i.a.createElement(Uf,null)}}),i.a.createElement(l.Route,{exact:!0,path:"/"+e+"/:api_uuid/scopes/edit",component:function(){return i.a.createElement(ah,null)}}),i.a.createElement(l.Route,{component:f}))};mh.propTypes={api:o.a.shape({id:o.a.string,additionalProperties:o.a.shape({key:o.a.string,value:o.a.string}).isRequired}).isRequired};var fh=mh;function hh(e){return(hh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gh(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function yh(e){return(yh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vh(e,t){return(vh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Eh(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var wh=function(e){function t(){var e,a,n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return n=this,i=(e=yh(t)).call.apply(e,[this].concat(o)),a=!i||"object"!==hh(i)&&"function"!=typeof i?bh(n):i,Eh(bh(a),"state",{selectedPolicy:{uuid:"",name:"Select",policy:"",type:""},policies:[]}),Eh(bh(a),"handleChange",function(){return function(e){var t=e.target.value;(new _).getThreatProtectionPolicy(t).then(function(e){a.setState({selectedPolicy:e.obj})})}}),Eh(bh(a),"formatPolicy",function(e){var t=e;return t=(t=t.replace(":"," : ")).split(",").join(",\n")}),a}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vh(e,t)}(t,n["Component"]),a=t,(r=[{key:"componentDidMount",value:function(){var e=this,t=new _;t.getThreatProtectionPolicies().then(function(t){e.setState({policies:t.obj.list})}),t.get(this.props.id).then(function(t){e.setState({currentApi:t.obj})})}},{key:"handlePolicyAdd",value:function(){var e=this,t=this.props.intl,a=this.state.selectedPolicy;if(""!==a.uuid&&""!==a.name){if(this.state.currentApi){var n=this.state.currentApi;(new _).addThreatProtectionPolicyToApi(n.id,this.state.selectedPolicy.uuid).then(function(a){200===a.status?(se.info(t.formatMessage({id:"Apis.Details.Security.AddPolicy.threat.protection.policy.add.success",defaultMessage:"Threat protection policy added successfully."})),e.props.updateData()):se.error(t.formatMessage({id:"Apis.Details.Security.AddPolicy.threat.protection.policy.add.failure",defaultMessage:"Failed to add threat protection policy."}))})}}else se.error(t.formatMessage({id:"Apis.Details.Security.AddPolicy.select.policy",defaultMessage:"Please select a policy"}))}},{key:"render",value:function(){var e=this,t=this.props.classes;return i.a.createElement("div",{className:t.contentWrapper},i.a.createElement("div",{className:t.addNewWrapper},i.a.createElement(h.a,{className:t.addNewHeader},i.a.createElement(d.a,{id:"Apis.Details.Security.AddPolicy.add.threat.protection.policy",defaultMessage:"Add New Threat Protection Policy"})),i.a.createElement(pi.a,{className:t.divider}),i.a.createElement("div",{className:t.addNewOther},i.a.createElement(pl.a,{htmlFor:"selectedPolicy"},i.a.createElement(d.a,{id:"Apis.Details.Security.AddPolicy.policy",defaultMessage:"Policy"})),"  ",i.a.createElement(mn.a,{value:this.state.selectedPolicy.uuid,onChange:this.handleChange("selectedPolicy"),input:i.a.createElement(ul.a,{name:"selectedPolicy",id:"selectedPolicy"})},this.state.policies.map(function(e){return i.a.createElement(Pe.a,{key:e.uuid,value:e.uuid},e.name)}),";"),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("p",null,i.a.createElement(d.a,{id:"Apis.Details.Security.AddPolicy.policy.type.label",defaultMessage:"Policy Type: "}),this.state.selectedPolicy.type),i.a.createElement("div",null,i.a.createElement("p",null,i.a.createElement(d.a,{id:"Apis.Details.Security.AddPolicy.policy.label",defaultMessage:"Policy: "})),i.a.createElement("div",{className:t.addJsonContent},this.formatPolicy(this.state.selectedPolicy.policy)))),i.a.createElement(pi.a,{className:t.divider}),i.a.createElement("div",{className:t.addNewOther},i.a.createElement(ue.a,{variant:"contained",color:"primary",onClick:function(){return e.handlePolicyAdd()}},i.a.createElement(d.a,{id:"Apis.Details.Security.AddPolicy.add.policy.to.api",defaultMessage:"Add Policy to API"})),i.a.createElement(ue.a,{className:t.button,onClick:this.props.toggleShowAddPolicy},i.a.createElement(d.a,{id:"Apis.Details.Security.AddPolicy.cancel",defaultMessage:"Cancel"})))))}}])&&gh(a.prototype,r),o&&gh(a,o),t}();wh.propTypes={classes:o.a.shape({}).isRequired,toggleShowAddPolicy:o.a.func.isRequired,id:o.a.string.isRequired,updateData:o.a.func.isRequired,intl:o.a.shape({}).isRequired};var Ch=Object(d.d)(Object(b.a)(function(e){return{addNewWrapper:{backgroundColor:e.palette.background.paper,color:e.palette.getContrastText(e.palette.background.paper),border:"solid 1px "+e.palette.grey[300],borderRadius:e.shape.borderRadius,marginTop:2*e.spacing.unit},addNewHeader:{padding:2*e.spacing.unit,backgroundColor:e.palette.grey[300],fontSize:e.typography.h6.fontSize,color:e.typography.h6.color,fontWeight:e.typography.h6.fontWeight},addNewOther:{padding:2*e.spacing.unit},button:{marginLeft:2*e.spacing.unit,textTransform:e.custom.leftMenuTextStyle,color:e.palette.getContrastText(e.palette.primary.main)},contentWrapper:{maxWidth:e.custom.contentAreaWidth},addJsonContent:{whiteSpace:"pre"}}})(wh));function Ph(e){return(Ph="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sh(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ah(e){return(Ah=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Oh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xh(e,t){return(xh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ih(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Th=function(e){function t(e){var a,n,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,i=Ah(t).call(this,e),a=!i||"object"!==Ph(i)&&"function"!=typeof i?Oh(n):i,Ih(Oh(a),"toggleShowAddPolicy",function(){a.setState({showAddPolicy:!a.state.showAddPolicy})}),Ih(Oh(a),"formatPolicy",function(e){var t=e;return t=(t=t.replace(":"," : ")).split(",").join(",\n")}),a.api=new _,a.state={api:{name:""},policies:[],showAddPolicy:!1},a.updateData=a.updateData.bind(Oh(a)),a.toggleShowAddPolicy=a.toggleShowAddPolicy.bind(Oh(a)),a.updateData=a.updateData.bind(Oh(a)),a}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xh(e,t)}(t,n["Component"]),a=t,(r=[{key:"componentDidMount",value:function(){this.updateData()}},{key:"updateData",value:function(){var e=this;this.api.get(this.props.match.params.api_uuid).then(function(t){e.setState({api:t.obj}),e.updatePolicyData()})}},{key:"updatePolicyData",value:function(){var e=this;this.setState({policies:[]});for(var t=this.state.api.threatProtectionPolicies.list,a=0;a<t.length;a++){var n=t[a].policyId;this.api.getThreatProtectionPolicy(n).then(function(t){var a=e.state.policies;a.push(t.obj),e.setState({policies:a})})}}},{key:"deletePolicy",value:function(e){var t=this,a=this.props.intl,n=this.state.api;this.api.deleteThreatProtectionPolicyFromApi(n.id,e).then(function(i){if(200===i.status){se.info(a.formatMessage({id:"Apis.Details.Security.SecurityOverview.policy.remove.success",defaultMessage:"Policy removed successfully."}));var r=n.threatProtectionPolicies.list.indexOf({policyId:e});n.threatProtectionPolicies.list.splice(r,1),t.setState({api:n}),t.updatePolicyData()}else se.error(a.formatMessage({id:"Apis.Details.Security.SecurityOverview.policy.remove.failure",defaultMessage:"Failed to remove policy."}))})}},{key:"render",value:function(){var e=this,t=[];this.state.policies&&(t=this.state.policies);var a=this.props.classes,n=this.state.showAddPolicy;return i.a.createElement("div",{className:a.root},i.a.createElement("div",{className:a.contentWrapper},i.a.createElement("div",{className:a.titleWrapper},i.a.createElement(h.a,{variant:"h4",align:"left",className:a.mainTitle},i.a.createElement(d.a,{id:"Apis.Details.Security.SecurityOverview.threat.protection.policies",defaultMessage:"Threat Protection Policies"})),i.a.createElement(ue.a,{size:"small",className:a.button,onClick:this.toggleShowAddPolicy},i.a.createElement(Ms.a,{className:a.buttonIcon}),i.a.createElement(d.a,{id:"Apis.Details.Security.SecurityOverview.add.threat.protection.policy",defaultMessage:"Add New Threat Protection Policy"})))),i.a.createElement("div",{className:a.contentWrapper},n&&i.a.createElement(Ch,{id:this.state.api.id,toggleShowAddPolicy:this.toggleShowAddPolicy,updateData:this.updateData})),i.a.createElement("br",null),i.a.createElement("div",{className:a.contentWrapper},i.a.createElement("div",{className:a.addNewWrapper},i.a.createElement(h.a,{className:a.addNewHeader},i.a.createElement(d.a,{id:"Apis.Details.Security.SecurityOverview.manage.threat.protection.policies",defaultMessage:"Manage Threat Protection Policies"})),i.a.createElement(pi.a,{className:a.divider}),i.a.createElement(yo.a,{className:a.table},i.a.createElement(Cs.a,null,i.a.createElement(vo.a,null,i.a.createElement(bo.a,null,i.a.createElement(d.a,{id:"Apis.Details.Security.SecurityOverview.policy.name",defaultMessage:"Policy Name"})),i.a.createElement(bo.a,null,i.a.createElement(d.a,{id:"Apis.Details.Security.SecurityOverview.policy.type",defaultMessage:"Policy Type"})),i.a.createElement(bo.a,null,i.a.createElement(d.a,{id:"Apis.Details.Security.SecurityOverview.policy",defaultMessage:"Policy"})),i.a.createElement(bo.a,null))),i.a.createElement(ws.a,null,t.map(function(t){return i.a.createElement(vo.a,{key:t.uuid},i.a.createElement(bo.a,null,t.name+("GLOBAL-JSON"===t.uuid?" (GLOBAL)":"")),i.a.createElement(bo.a,null,t.type),i.a.createElement(bo.a,null,i.a.createElement("div",{className:a.addJsonContent},e.formatPolicy(t.policy))),i.a.createElement(bo.a,null,i.a.createElement("span",null,i.a.createElement(ue.a,{color:"accent",onClick:function(){return e.deletePolicy(t.uuid)}},i.a.createElement(d.a,{id:"Apis.Details.Security.SecurityOverview.delete",defaultMessage:"Delete"})))))}))))))}}])&&Sh(a.prototype,r),o&&Sh(a,o),t}();Th.propTypes={classes:o.a.shape({}).isRequired,match:o.a.shape({params:o.a.shape({api_uuid:o.a.string})}).isRequired,intl:o.a.shape({}).isRequired};var kh=Object(d.d)(Object(b.a)(function(e){return{root:{flexGrow:1,marginTop:10},titleWrapper:{display:"flex",flexDirection:"row",alignItems:"center"},mainTitle:{paddingLeft:0},button:{marginLeft:2*e.spacing.unit,textTransform:e.custom.leftMenuTextStyle,color:e.palette.getContrastText(e.palette.primary.main)},buttonIcon:{marginRight:10},table:{"& td":{fontSize:e.typography.fontSize},"& th":{fontSize:1.2*e.typography.fontSize},tableLayout:"fixed"},addNewHeader:{padding:2*e.spacing.unit,backgroundColor:e.palette.grey[300],fontSize:e.typography.h6.fontSize,color:e.typography.h6.color,fontWeight:e.typography.h6.fontWeight},addNewWrapper:{backgroundColor:e.palette.background.paper,color:e.palette.getContrastText(e.palette.background.paper),border:"solid 1px "+e.palette.grey[300],borderRadius:e.shape.borderRadius,marginTop:2*e.spacing.unit},contentWrapper:{maxWidth:e.custom.contentAreaWidth},addJsonContent:{whiteSpace:"pre"}}})(Th)),Dh=function(){return i.a.createElement(l.Switch,null,i.a.createElement(l.Route,{path:"/apis/:api_uuid/security",component:kh}))},_h=a(1888),Mh=a.n(_h),Rh=a(1889),jh=a.n(Rh),Nh=a(1890),Lh=a.n(Nh),qh=a(1162),Wh=a.n(qh),Fh=a(1771),Bh=a.n(Fh),zh=a(1773),Uh=a.n(zh);function Vh(){return(Vh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Gh(e){return(Gh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hh(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Kh(e){return(Kh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qh(e,t){return(Qh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Yh=i.a.lazy(function(){return Promise.all([a.e(3),a.e(4)]).then(a.bind(null,2264))}),$h=function(e){function t(e){var a,n,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(a=!(i=Kh(t).call(this,e))||"object"!==Gh(i)&&"function"!=typeof i?Jh(n):i).state={openEditor:!1,swagger:null,graphQL:null,format:null,convertTo:null},a.onDrop=a.onDrop.bind(Jh(a)),a.handleNo=a.handleNo.bind(Jh(a)),a.handleOk=a.handleOk.bind(Jh(a)),a.openEditor=a.openEditor.bind(Jh(a)),a.transition=a.transition.bind(Jh(a)),a.closeEditor=a.closeEditor.bind(Jh(a)),a.hasJsonStructure=a.hasJsonStructure.bind(Jh(a)),a.getConvertToFormat=a.getConvertToFormat.bind(Jh(a)),a.onChangeFormatClick=a.onChangeFormatClick.bind(Jh(a)),a.openUpdateConfirmation=a.openUpdateConfirmation.bind(Jh(a)),a.updateSwaggerDefinition=a.updateSwaggerDefinition.bind(Jh(a)),a.validateAndUpdateApiDefinition=a.validateAndUpdateApiDefinition.bind(Jh(a)),a.validateAndImportSchema=a.validateAndImportSchema.bind(Jh(a)),a.updateGraphQLAPIDefinition=a.updateGraphQLAPIDefinition.bind(Jh(a)),a}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qh(e,t)}(t,i.a.Component),a=t,(r=[{key:"componentDidMount",value:function(){var e=this,t=this.props.api;("GRAPHQL"===t.type?t.getSchema(t.id):t.getSwagger(t.id)).then(function(a){"GRAPHQL"===t.type?e.setState({graphQL:a.obj.schemaDefinition,format:"txt"}):e.setState({swagger:Bh.a.stringify(a.obj),format:"yaml",convertTo:e.getConvertToFormat("yaml")})}).catch(function(t){var a=t.status;404===a?e.setState({notFound:!0}):401===a&&Jr()})}},{key:"onDrop",value:function(e){var t=this,a=e[0],n=this.props.intl,i=this.state.graphQL;if(a){var r=new FileReader;r.onload=function(e){var n=e.target.result;null!=i?t.validateAndImportSchema(a):t.validateAndUpdateApiDefinition(n)},r.readAsText(a)}else se.error(n.formatMessage({id:"Apis.Details.APIDefinition.APIDefinition.unsupported.file.type",defaultMessage:"Unsupported File Type."}))}},{key:"onChangeFormatClick",value:function(){var e=this.state,t=e.format,a=e.swagger,n=e.convertTo,i="";i="json"===n?JSON.stringify(Wh.a.load(a),null,1):Bh.a.stringify(JSON.parse(a)),this.setState({swagger:i,format:n,convertTo:t})}},{key:"getConvertToFormat",value:function(e){return"json"===e?"yaml":"json"}},{key:"validateAndImportSchema",value:function(e){var t=this,a=this.props,n=a.api,i=a.intl;n.validateGraphQLFile(e).then(function(e){var a=e.obj,i=a.isValid,r=a.graphQLInfo;!0===i&&(n.operations=r.operations,t.updateGraphQLAPIDefinition(n,r.graphQLSchema.schemaDefinition))}).catch(function(e){console.log(e),se.error(i.formatMessage({id:"Error.while.validating.the.imported.graphQLSchema",defaultMessage:"Error while validating imported schema"}))})}},{key:"updateGraphQLAPIDefinition",value:function(e,t){var a=this,n=this.props.intl;e.updateGraphQLAPIDefinition(e.id,t).then(function(e){a.setState({graphQL:e.data}),se.success(n.formatMessage({id:"Apis.Details.APIDefinition.APIDefinition.graphQLDefinition.updated.successfully",defaultMessage:"Schema Definition Updated Successfully"}))}).catch(function(e){console.log(e),se.error(n.formatMessage({id:"Apis.Details.APIDefinition.APIDefinition.error.updating.graphQL.schema",defaultMessage:"Error while updating graphQL schema"}))})}},{key:"validateAndUpdateApiDefinition",value:function(e){var t=this,a=this.props.intl,n={},i=null;this.hasJsonStructure(e)?(n=JSON.parse(e),i="json"):(n=Wh.a.safeLoad(e),i="yaml"),Uh.a.validate(n,function(n,r){r?t.updateSwaggerDefinition(e,i,t.getConvertToFormat(i)):se.error(a.formatMessage({id:"Apis.Details.APIDefinition.APIDefinition.file.validation.failed",defaultMessage:"API Definition file validation failed."}))})}},{key:"hasJsonStructure",value:function(e){if("string"!=typeof e)return!1;try{var t=JSON.parse(e);return t&&"object"===Gh(t)}catch(e){return!1}}},{key:"handleOk",value:function(){var e=this,t=window.localStorage.getItem("swagger-editor-content");this.setState({openDialog:!1},function(){return e.updateSwaggerDefinition(t,"","")})}},{key:"handleNo",value:function(){this.setState({openDialog:!1})}},{key:"openEditor",value:function(){window.localStorage.setItem("swagger-editor-content",this.state.swagger),this.setState({openEditor:!0})}},{key:"closeEditor",value:function(){window.localStorage.setItem("swagger-editor-content",""),this.setState({openEditor:!1})}},{key:"transition",value:function(e){return i.a.createElement(Ha.a,Vh({direction:"up"},e))}},{key:"openUpdateConfirmation",value:function(){this.setState({openDialog:!0})}},{key:"updateSwaggerDefinition",value:function(e,t,a){var n=this,i=this.props,r=i.api,o=i.intl,l={};if(this.hasJsonStructure(e))l=JSON.parse(e);else try{l=Wh.a.load(e)}catch(e){return console.log(e),void se.error(o.formatMessage({id:"Apis.Details.APIDefinition.APIDefinition.error.while.updating.api.definition",defaultMessage:"Error while updating the API Definition"}))}r.updateSwagger(l).then(function(i){i&&(se.success(o.formatMessage({id:"Apis.Details.APIDefinition.APIDefinition.api.definition.updated.successfully",defaultMessage:"API Definition Updated Successfully"})),t&&a?n.setState({swagger:e,format:t,convertTo:a}):n.setState({swagger:e}))}).catch(function(e){console.log(e),se.error(o.formatMessage({id:"Apis.Details.APIDefinition.APIDefinition.error.while.updating.api.definition",defaultMessage:"Error while updating the API Definition"}))})}},{key:"render",value:function(){var e,t,a=this,r=this.state,o=r.swagger,l=r.graphQL,s=r.openEditor,c=r.openDialog,u=r.format,p=r.convertTo,m=r.notFound,f=this.props,g=f.classes,b=f.resourceNotFountMessage,v=f.api,E=0;null!==l?(e="data:text/"+u+";charset=utf-8,"+encodeURIComponent(l),t=v.provider+"-"+v.name+"-"+v.version+".graphql",E=1):(e="data:text/"+u+";charset=utf-8,"+encodeURIComponent(o),t="swagger."+u);return m?i.a.createElement(y,{message:b}):o||l?i.a.createElement("div",{className:g.root},i.a.createElement("div",{className:g.topBar},i.a.createElement("div",{className:g.titleWrapper},i.a.createElement(h.a,{variant:"h4",align:"left",className:g.mainTitle},l?i.a.createElement(d.a,{id:"Apis.Details.APIDefinition.APIDefinition.schema.definition",defaultMessage:"Schema Definition"}):i.a.createElement(d.a,{id:"Apis.Details.APIDefinition.APIDefinition.api.definition",defaultMessage:"API Definition"})),!l&&i.a.createElement(ue.a,{size:"small",className:g.button,onClick:this.openEditor,disabled:Object(Ka.b)(["apim:api_create"],v)},i.a.createElement(Mh.a,{className:g.buttonIcon}),i.a.createElement(d.a,{id:"Apis.Details.APIDefinition.APIDefinition.edit",defaultMessage:"Edit"})),i.a.createElement(St.a,{multiple:!1,className:g.dropzone,onDrop:function(e){a.onDrop(e)}},function(e){var t=e.getRootProps,a=e.getInputProps;return i.a.createElement("div",t(),i.a.createElement("input",a()),i.a.createElement(ue.a,{size:"small",className:g.button,disabled:Object(Ka.b)(["apim:api_create"],v)},i.a.createElement(jh.a,{className:g.buttonIcon}),i.a.createElement(d.a,{id:"Apis.Details.APIDefinition.APIDefinition.import.definition",defaultMessage:"Import Definition"})))}),i.a.createElement("a",{className:g.downloadLink,href:e,download:t},i.a.createElement(ue.a,{size:"small",className:g.button},i.a.createElement(Lh.a,{className:g.buttonIcon}),i.a.createElement(d.a,{id:"Apis.Details.APIDefinition.APIDefinition.download.definition",defaultMessage:"Download Definition"}))),Object(Ka.b)(["apim:api_create"],v)&&i.a.createElement(h.a,{variant:"body2",color:"primary"},i.a.createElement(d.a,{id:"Apis.Details.APIDefinition.APIDefinition.update.not.allowed",defaultMessage:"*You are not authorized to update API Definition due to insufficient permissions"}))),0===E&&i.a.createElement("div",{className:g.converterWrapper},i.a.createElement(ue.a,{size:"small",className:g.button,onClick:this.onChangeFormatClick},i.a.createElement(d.a,{id:"Apis.Details.APIDefinition.APIDefinition.convert.to",defaultMessage:"Convert to:"}),p))),i.a.createElement("div",null,i.a.createElement($s.a,{width:"100%",height:"calc(100vh - 51px)",theme:"vs-dark",value:null!==o?o:l,options:{selectOnLineNumbers:!0,readOnly:!0,smoothScrolling:!0,wordWrap:"on"}})),i.a.createElement(Wa.a,{fullScreen:!0,open:s,onClose:this.closeEditor,TransitionComponent:this.transition},i.a.createElement(me.a,{square:!0,className:g.popupHeader},i.a.createElement(K.a,{className:g.button,color:"inherit",onClick:this.closeEditor,"aria-label":i.a.createElement(d.a,{id:"Apis.Details.APIDefinition.APIDefinition.btn.close",defaultMessage:"Close"})},i.a.createElement(va.a,null,"close")),i.a.createElement(ue.a,{className:g.button,variant:"contained",color:"primary",onClick:this.openUpdateConfirmation},i.a.createElement(d.a,{id:"Apis.Details.APIDefinition.APIDefinition.documents.swagger.editor.update.content",defaultMessage:"Update Content"}))),i.a.createElement(n.Suspense,{fallback:i.a.createElement("div",null,"(",i.a.createElement(d.a,{id:"Apis.Details.APIDefinition.APIDefinition.loading",defaultMessage:"Loading..."}),")")},i.a.createElement(Yh,null))),i.a.createElement(Wa.a,{open:c,onClose:this.handleNo,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},i.a.createElement(Fa.a,{id:"alert-dialog-title"},i.a.createElement(h.a,{align:"left"},i.a.createElement(d.a,{id:"Apis.Details.APIDefinition.APIDefinition.save.api.definition",defaultMessage:"Save API Definition"}))),i.a.createElement(Ba.a,null,i.a.createElement(za.a,{id:"alert-dialog-description"},i.a.createElement(d.a,{id:"Apis.Details.APIDefinition.APIDefinition.api.definition.save.confirmation",defaultMessage:"Do you want to save the API Definition? This will affect the existing resources."}))),i.a.createElement(Ua.a,null,i.a.createElement(ue.a,{onClick:this.handleNo,color:"secondary"},i.a.createElement(d.a,{id:"Apis.Details.APIDefinition.APIDefinition.btn.no",defaultMessage:"No"})),i.a.createElement(ue.a,{onClick:this.handleOk,color:"primary",autoFocus:!0},i.a.createElement(d.a,{id:"Apis.Details.APIDefinition.APIDefinition.btn.yes",defaultMessage:"Yes"}))))):i.a.createElement(Kn.a,null)}}])&&Hh(a.prototype,r),o&&Hh(a,o),t}();$h.propTypes={classes:o.a.shape({button:o.a.shape({}),popupHeader:o.a.shape({}),buttonIcon:o.a.shape({}),root:o.a.shape({}),topBar:o.a.shape({}),titleWrapper:o.a.shape({}),mainTitle:o.a.shape({}),converterWrapper:o.a.shape({}),dropzone:o.a.shape({}),downloadLink:o.a.shape({})}).isRequired,api:o.a.shape({updateSwagger:o.a.func,getSwagger:o.a.func,id:o.a.string,apiType:o.a.oneOf([_.CONSTS.API,_.CONSTS.APIProduct])}).isRequired,history:o.a.shape({push:o.a.object}).isRequired,location:o.a.shape({pathname:o.a.object}).isRequired,resourceNotFountMessage:o.a.shape({}).isRequired,theme:o.a.shape({}).isRequired,intl:o.a.shape({formatMessage:o.a.func}).isRequired};var Zh=Object(d.d)(Object(b.a)(function(){return{titleWrapper:{display:"flex",flexDirection:"row",alignItems:"center"},swaggerEditorWrapper:{height:"100vh",overflowY:"auto"},buttonIcon:{marginRight:10},topBar:{display:"flex",flexDirection:"row"},converterWrapper:{display:"flex",alignItems:"center",justifyContent:"flex-end",flex:"1",fontSize:"0.6964285714285714rem"},downloadLink:{color:"black"}}},{withTheme:!0})($h)),Xh=a(1892),eg=a.n(Xh),tg=a(1891),ag=a.n(tg);function ng(e){var t=e.api,a=e.classes;return i.a.createElement(i.a.Fragment,null,i.a.createElement(tn,{resourceMethod:en.POST,resourcePath:Xa.API_COPY},i.a.createElement("div",{className:a.createNewVersionWrapper},i.a.createElement(nt,{height:70}),i.a.createElement(pe.b,{className:a.createNewVersion,to:"/apis/"+t.id+"/new_version"},i.a.createElement("div",null,i.a.createElement(ag.a,null)),i.a.createElement("div",{className:a.linkText},"Create New Version")))))}ng.propTypes={api:o.a.shape({id:o.a.string}).isRequired,history:o.a.shape({push:o.a.func}).isRequired,classes:o.a.shape({}).isRequired};var ig=Object(l.withRouter)(Object(b.a)(function(e){return{root:{height:70,background:e.palette.background.paper,borderBottom:"solid 1px "+e.palette.grey.A200,display:"flex",alignItems:"center"},backLink:{alignItems:"center",textDecoration:"none",display:"flex"},backIcon:{color:e.palette.primary.main,fontSize:56,cursor:"pointer"},backText:{color:e.palette.primary.main,cursor:"pointer",fontFamily:e.typography.fontFamily},createNewVersionWrapper:{flex:1,display:"flex",justifyContent:"flex-end",paddingRight:2*e.spacing.unit},createNewVersion:{display:"flex",flexDirection:"column",textAlign:"center",justifyContent:"center",cursor:"pointer",color:e.custom.createNewVersionButtonColor||"inherit"},linkText:{fontSize:e.typography.fontSize}}},{withTheme:!0})(ng)),rg=function(e){var t=e.classes,a=e.theme,n=e.api,r=e.isAPIProduct,o=["PROTOTYPED","PUBLISHED"].includes(n.lifeCycleStatus);return i.a.createElement("div",{className:t.root},i.a.createElement(pe.b,{to:r?"/api-products":"/apis",className:t.backLink},i.a.createElement(tt.a,{className:t.backIcon}),i.a.createElement("div",{className:t.backText},i.a.createElement(d.a,{id:"Apis.Details.components.APIDetailsTopMenu.back.to.listing",defaultMessage:"BACK TO {break} LISTING",values:{break:i.a.createElement("br",null)}}))),i.a.createElement(nt,{height:70}),i.a.createElement(xn,{api:n,width:70,height:50}),i.a.createElement("div",{style:{marginLeft:a.spacing.unit}},i.a.createElement(h.a,{variant:"h4"},n.name," ",r?"":":"+n.version),i.a.createElement(h.a,{variant:"caption",gutterBottom:!0,align:"left"},"Created by: ",n.provider)),i.a.createElement(nt,{height:70}),i.a.createElement("div",{className:t.infoItem},i.a.createElement(h.a,{variant:"subtitle1",gutterBottom:!0},r?n.state:n.lifeCycleStatus),i.a.createElement(h.a,{variant:"caption",gutterBottom:!0,align:"left"},"State")),i.a.createElement(nt,{height:70}),o&&i.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"".concat(window.location.origin).concat(j.a.app.storeContext,"/apis/").concat(n.id,"/overview"),className:t.viewInStoreLauncher},i.a.createElement("div",null,i.a.createElement(eg.a,null)),i.a.createElement("div",{className:t.linkText},"View In store")),o&&i.a.createElement(nt,{height:70}),i.a.createElement(No.a,{title:jo()(n.lastUpdatedTime).calendar(),"aria-label":"add"},i.a.createElement(h.a,{variant:"caption",display:"block"},i.a.createElement(d.a,{id:"Apis.Details.components.APIDetailsTopMenu.last.updated.time",defaultMessage:"Last updated:"})," ",jo()(n.lastUpdatedTime).fromNow())),r?null:i.a.createElement(ig,{buttonClass:t.viewInStoreLauncher,api:n}),i.a.createElement(cn,{buttonClass:t.viewInStoreLauncher,api:n,isAPIProduct:r}))};rg.propTypes={classes:o.a.shape({}).isRequired,theme:o.a.shape({}).isRequired,api:o.a.shape({}).isRequired,isAPIProduct:o.a.bool.isRequired};var og=Object(b.a)(function(e){return{root:{height:70,background:e.palette.background.paper,borderBottom:"solid 1px "+e.palette.grey.A200,display:"flex",alignItems:"center"},backLink:{alignItems:"center",textDecoration:"none",display:"flex"},backIcon:{color:e.palette.primary.main,fontSize:56,cursor:"pointer"},backText:{color:e.palette.primary.main,cursor:"pointer",fontFamily:e.typography.fontFamily},viewInStoreLauncher:{display:"flex",flexDirection:"column",color:e.palette.getContrastText(e.palette.background.paper),textAlign:"center"},linkText:{fontSize:e.typography.fontSize}}},{withTheme:!0})(rg);function lg(e){var t=e.handleInputChange,a=e.classes,n=e.engagedPolicyFile;return i.a.createElement("div",{className:a.itemWrapper},i.a.createElement(he.a,{style:{width:"100%"},id:"inFlow",name:"In Flow",helperText:i.a.createElement(d.a,{id:"Apis.Details.MediationPolicies.MediationPolicies.in.flow.helper.text",defaultMessage:"mediation policy that is engaged in Request Flow"}),margin:"normal",type:"text",onChange:t,value:n.name}))}lg.propTypes={classes:o.a.shape({}).isRequired,api:o.a.shape({}).isRequired,engagedPlicyFile:o.a.shape({}).isRequired,handleInputChange:o.a.func.isRequired,engagedPolicyFile:o.a.shape({}).isRequired};var sg=Object(b.a)(function(e){return{FormControl:{padding:10,width:"100%",marginTop:0,display:"flex",flexDirection:"row"},buttonWrapper:{paddingTop:20},paperRoot:{padding:20,marginTop:20},formControl:{display:"flex",flexDirection:"row",padding:"".concat(2*e.spacing.unit,"px 2px")},itemWrapper:{width:500}}})(lg),cg=a(801),ug=a.n(cg);function pg(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function dg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,i=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){i=!0,r=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw r}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var mg={border:"1px dashed ",borderRadius:"5px",cursor:"pointer",height:75,padding:"8px 0px",position:"relative",textAlign:"center",width:"100%",margin:"10px 0"};function fg(e){var t=e.classes,a=e.api,r=e.updateMediationPolicy,o=dg(Object(n.useState)([]),2),l=o[0],s=o[1],c=dg(Object(n.useState)([]),2),u=c[0],p=c[1],m=a.id,f="IN",g="none",y=a.mediationPolicies.filter(function(e){return e.type===f})[0],b=dg(Object(n.useState)({id:y?y.id:"",name:y?y.name:"",type:y?y.type:"",content:{}}),2),v=b[0],E=b[1];Object(n.useEffect)(function(){l.length<=0&&_.getGlobalMediationPolicies().then(function(e){s(pg(e.obj.list.filter(function(e){return e.type===f})))}).catch(function(e){0}),_.getMediationPolicies(m).then(function(e){p(pg(e.obj.list.filter(function(e){return e.type===f})))}).catch(function(e){0})},[v]);var w=function(e){var t,n=e[0];n&&(t=n,_.addMediationPolicy(t,a.id,f).then(function(){se.info(Object(d.a)({id:"Apis.Details.MediationPolicies.Edit.EditInMediationPolicy.success",defaultMessage:"Mediation policy added successfully"}))}).catch(function(e){console.log(e),se.error(JSON.stringify(e))}),E({name:n.name,content:n}))};var C=function(e){l.filter(function(t){return t.id===e}).length>0?function(e){_.getGlobalMediationPolicyContent(e,a.id).then(function(e){ug.a.downloadFile(e,document)}).catch(function(e){})}(e):function(e){_.getMediationPolicyContent(e,a.id).then(function(e){ug.a.downloadFile(e,document)}).catch(function(e){})}(e)},P=function(e){l.filter(function(t){return t.id===e}).length>0?se.error(i.a.createElement(d.a,{id:"Apis.Details.MediationPolicies.Edit.EditInMediationPolicy.global.delete",defaultMessage:"Cannot delete Global mediation policies."})):function(e){_.deleteMediationPolicy(e,a.id).then(function(){p(u.filter(function(t){return t.id!==e})),se.info(i.a.createElement(d.a,{id:"Apis.Details.MediationPolicies.Edit.EditInMediationPolicy.delete.success",defaultMessage:"Mediation policy deleted successfully."}))}).catch(function(e){})}(e)};return i.a.createElement(wt.a,{className:t.formControl},i.a.createElement("div",{className:t.titleWrapper},i.a.createElement(St.a,{multiple:!1,className:t.dropzone,activeClassName:t.acceptDrop,rejectClassName:t.rejectDrop,onDrop:function(e){w(e)}},function(e){var a=e.getRootProps,n=e.getInputProps;return i.a.createElement("div",a({style:mg}),i.a.createElement("input",n()),i.a.createElement("div",{className:t.dropZoneWrapper},i.a.createElement(va.a,{className:t.dropIcon},"cloud_upload"),i.a.createElement(h.a,null,i.a.createElement(d.a,{id:"Apis.Details.MediationPolicies.Edit.EditInMediationPolicy.click.or.drop.to.upload.file",defaultMessage:"Click or drag the mediation file to upload."}))))}),i.a.createElement(vt.a,{"aria-label":"inflow",name:"inflow",className:t.radioGroup,value:v.name,onChange:function(e){var t=e.target;t.name!==g?(E({id:t.name,name:t.value,type:f,content:""}),r({id:t.name,name:t.value,type:f,content:""})):(E({id:g,name:t.value,type:f,content:""}),r({id:g,name:t.value,type:f,content:""}))}},i.a.createElement(Ct.a,{component:"customPolicies"},i.a.createElement(d.a,{id:"Apis.Details.Edit.MediationPolicies.EditInMediationPolicies.custom.in.policies",defaultMessage:"Custom IN Mediation Policies"})),u.map(function(e){return i.a.createElement("div",null,i.a.createElement(K.a,{onClick:function(){return P(e.id)}},i.a.createElement(va.a,null,"delete")),i.a.createElement(ue.a,{onClick:function(){return C(e.id)}},i.a.createElement(va.a,null,"arrow_downward")),i.a.createElement(Et.a,{name:e.id,type:e.type,control:i.a.createElement(bt.a,null),label:i.a.createElement(d.a,{id:"Apis.Details.Edit.MediationPolicies.EditInMediationPolicies.custom.in.policy",defaultMessage:e.name}),value:e.name,checked:v.name===e.name}))}),i.a.createElement(Et.a,{name:g,type:f,control:i.a.createElement(bt.a,null),label:i.a.createElement(d.a,{id:"Apis.Details.Edit.MediationPolicies.EditInMediationPolicies.none",defaultMessage:"No Mediation"}),value:g,checked:v.name===g||""===v.name}),i.a.createElement(Ct.a,{component:"globalPolicies"},i.a.createElement(d.a,{id:"Apis.Details.Edit.MediationPolicies.EditInMediationPolicies.global.in.policies",defaultMessage:"Global IN Mediation Policies"})),l.map(function(e){return i.a.createElement("div",null,i.a.createElement(ue.a,{onClick:function(){return C(e.id)}},i.a.createElement(va.a,null,"arrow_downward")),i.a.createElement(Et.a,{name:e.id,type:e.type,control:i.a.createElement(bt.a,null),label:i.a.createElement(d.a,{id:"Apis.Details.Edit.MediationPolicies.EditInMediationPolicies.global.in.policy",defaultMessage:e.name}),value:e.name,checked:v.name===e.name}))}))))}fg.propTypes={classes:o.a.shape({}).isRequired,api:o.a.shape({}).isRequired,engagedPolicyFile:o.a.shape({}).isRequired,type:o.a.shape({}).isRequired,updateMediationPolicy:o.a.func.isRequired};var hg=Object(b.a)(function(e){return{formControl:{display:"flex",flexDirection:"row",padding:"".concat(2*e.spacing.unit,"px 2px")},dropzone:{border:"1px dashed "+e.palette.primary.main,borderRadius:"5px",cursor:"pointer",height:"calc(100vh - 50em)",padding:"".concat(2*e.spacing.unit,"px 0px"),position:"relative",textAlign:"center",width:"80%",margin:"10px 0"},dropZoneWrapper:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center","& span":{fontSize:16,color:e.palette.primary.main}}}})(fg);function gg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,i=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){i=!0,r=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw r}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function yg(e){var t=e.api,a=e.classes,r=e.updateMediationPolicy,o=t.mediationPolicies,l=o.filter(function(e){return"IN"===e.type})[0],s=gg(Object(n.useState)({id:void 0!==l?l.id:"",name:void 0!==l?l.name:"",type:void 0!==l?l.type:"",content:{}}),2),c=s[0],u=s[1],p=gg(Object(n.useState)(!1),2),m=p[0],f=p[1],h=function(e){var t=e.target.value;u(t)};return Object(n.useEffect)(function(){m||_.get(t.id).then(function(e){var t=e.mediationPolicies.filter(function(e){return"IN"===e.type})[0];u({id:void 0!==t?t.id:"",name:void 0!==t?t.name:"",type:void 0!==t?t.type:"",content:{}})}).catch(function(e){0})},[m]),i.a.createElement(wt.a,{className:a.formControl},i.a.createElement(Et.a,{value:"start",checked:m,control:i.a.createElement(il.a,{color:"primary"}),label:i.a.createElement(d.a,{id:"Apis.Details.MediationPolicies.MediationPolicies.in.flow.desc",defaultMessage:"In Flow"}),labelPlacement:"start",onChange:function(e){var t=e.target.checked;f(t)}}),m?i.a.createElement("div",{className:a.itemWrapper},i.a.createElement(hg,{handleInputChange:h,engagedPolicyFile:c,api:t,updateMediationPolicy:r})):i.a.createElement(sg,{engagedPolicyFile:c,handleInputChange:h,api:t}))}yg.propTypes={classes:o.a.shape({}).isRequired,api:o.a.shape({}).isRequired,updateMediationPolicy:o.a.func.isRequired};var bg=Object(b.a)({content:{flexGrow:1},itemWrapper:{width:500,display:"flex"},FormControl:{padding:10,width:"100%",marginTop:0,display:"flex",flexDirection:"row"}})(yg);function vg(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Eg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,i=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){i=!0,r=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw r}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var wg={border:"1px dashed ",borderRadius:"5px",cursor:"pointer",height:75,padding:"8px 0px",position:"relative",textAlign:"center",width:"100%",margin:"10px 0"};function Cg(e){var t=e.classes,a=e.api,r=e.updateMediationPolicy,o=Eg(Object(n.useState)([]),2),l=o[0],s=o[1],c=Eg(Object(n.useState)([]),2),u=c[0],p=c[1],m=a.id,f="OUT",g="none",y=a.mediationPolicies.filter(function(e){return e.type===f})[0],b=Eg(Object(n.useState)({id:void 0!==y?y.id:"",name:void 0!==y?y.name:"",type:void 0!==y?y.type:"",content:{}}),2),v=b[0],E=b[1];Object(n.useEffect)(function(){l.length<=0&&_.getGlobalMediationPolicies().then(function(e){s(vg(e.obj.list.filter(function(e){return e.type===f})))}).catch(function(e){0}),_.getMediationPolicies(m).then(function(e){p(vg(e.obj.list.filter(function(e){return e.type===f})))}).catch(function(e){0})},[v]);var w=function(e){var t,n=e[0];n&&(t=n,_.addMediationPolicy(t,a.id,f).then(function(){se.info(Object(d.a)({id:"Apis.Details.MediationPolicies.MediationPoliciesComponente.success",defaultMessage:"Mediation policy added successfully"}))}).catch(function(e){console.log(e),se.error(JSON.stringify(e))}),E({name:n.name,content:n}))};var C=function(e){l.filter(function(t){return t.id===e}).length>0?function(e){_.getGlobalMediationPolicyContent(e,a.id).then(function(e){ug.a.downloadFile(e,document)}).catch(function(e){})}(e):function(e){_.getMediationPolicyContent(e,a.id).then(function(e){ug.a.downloadFile(e,document)}).catch(function(e){})}(e)},P=function(e){l.filter(function(t){return t.id===e}).length>0?(p(u.filter(function(t){return t.id!==e})),se.error(i.a.createElement(d.a,{id:"Apis.Details.MediationPolicies.Edit.EditOutMediationPolicy.global.delete",defaultMessage:"Cannot delete Global mediation policies."}))):function(e){_.deleteMediationPolicy(e,a.id).then(function(){se.info(i.a.createElement(d.a,{id:"Apis.Details.MediationPolicies.Edit.EditOutMediationPolicy.delete.success",defaultMessage:"Mediation policy deleted successfully."}))}).catch(function(e){})}(e)};return i.a.createElement(wt.a,{className:t.formControl},i.a.createElement("div",{className:t.titleWrapper},i.a.createElement(St.a,{multiple:!1,className:t.dropzone,activeClassName:t.acceptDrop,rejectClassName:t.rejectDrop,onDrop:function(e){w(e)}},function(e){var a=e.getRootProps,n=e.getInputProps;return i.a.createElement("div",a({style:wg}),i.a.createElement("input",n()),i.a.createElement("div",{className:t.dropZoneWrapper},i.a.createElement(va.a,{className:t.dropIcon},"cloud_upload"),i.a.createElement(h.a,null,i.a.createElement(d.a,{id:"Apis.Details.MediationPolicies.Edit.EditOutMediationPolicy.click.or.drop.to.upload.file",defaultMessage:"Click or drag the mediation file to upload."}))))}),i.a.createElement(vt.a,{"aria-label":"outflow",name:"outflow",className:t.radioGroup,value:v.name,onChange:function(e){var t=e.target;t.name!==g?(E({id:t.name,name:t.value,type:f,content:""}),r({id:t.name,name:t.value,type:f,content:""})):(E({id:g,name:t.value,type:f,content:""}),r({id:g,name:t.value,type:f,content:""}))}},i.a.createElement(Ct.a,{component:"customPolicies"},i.a.createElement(d.a,{id:"Apis.Details.Edit.MediationPolicies.EditOutMediationPolicies.custom.out.policies",defaultMessage:"Custom OUT Mediation Policies"})),u.map(function(e){return i.a.createElement("div",null,i.a.createElement(K.a,{onClick:function(){return P(e.id)}},i.a.createElement(va.a,null,"delete")),i.a.createElement(ue.a,{onClick:function(){return C(e.id)}},i.a.createElement(va.a,null,"arrow_downward")),i.a.createElement(Et.a,{name:e.id,type:e.type,control:i.a.createElement(bt.a,null),label:i.a.createElement(d.a,{id:"Apis.Details.Edit.MediationPolicies.EditOutMediationPolicies.custom.out.policy",defaultMessage:e.name}),value:e.name,checked:v.name===e.name}))}),i.a.createElement(Et.a,{name:g,type:"out",control:i.a.createElement(bt.a,null),label:i.a.createElement(d.a,{id:"Apis.Details.MediationPolicies.Edit.EditOutMediationPolicies.none",defaultMessage:"No Mediation"}),value:g,checked:v.name===g||""===v.name}),i.a.createElement(Ct.a,{component:"globalPolicies"},i.a.createElement(d.a,{id:"Apis.Details.Edit.MediationPolicies.EditOutMediationPolicies.global.out.policies",defaultMessage:"Global OUT Mediation Policies"})),l.map(function(e){return i.a.createElement("div",null,i.a.createElement(ue.a,{onClick:function(){return C(e.id)}},i.a.createElement(va.a,null,"arrow_downward")),i.a.createElement(Et.a,{name:e.id,type:e.type,control:i.a.createElement(bt.a,null),label:i.a.createElement(d.a,{id:"Apis.Details.Edit.MediationPolicies.EditOutMediationPolicies.global.out.policy",defaultMessage:e.name}),value:e.name,checked:v.name===e.name}))}))))}Cg.propTypes={classes:o.a.shape({}).isRequired,api:o.a.shape({}).isRequired,engagedPolicyFile:o.a.shape({}).isRequired,type:o.a.shape({}).isRequired,updateMediationPolicy:o.a.func.isRequired};var Pg=Object(b.a)(function(e){return{formControl:{display:"flex",flexDirection:"row",padding:"".concat(2*e.spacing.unit,"px 2px")},dropzone:{border:"1px dashed "+e.palette.primary.main,borderRadius:"5px",cursor:"pointer",height:"calc(100vh - 50em)",padding:"".concat(2*e.spacing.unit,"px 0px"),position:"relative",textAlign:"center",width:"80%",margin:"10px 0"},dropZoneWrapper:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center","& span":{fontSize:16,color:e.palette.primary.main}}}})(Cg);function Sg(e){var t=e.handleInputChange,a=e.classes,n=e.engagedPolicyFile;return i.a.createElement("div",{className:a.itemWrapper},i.a.createElement(he.a,{style:{width:"100%"},id:"outFlow",name:"Out Flow",helperText:i.a.createElement(d.a,{id:"Apis.Details.MediationPolicies.Engaged.EngagedMediationPolicies.out.flow.helper.text",defaultMessage:"mediation policy that is engaged in Response Flow"}),margin:"normal",type:"text",onChange:t,value:n.name}))}Sg.propTypes={classes:o.a.shape({}).isRequired,api:o.a.shape({}).isRequired,engagedPlicyFile:o.a.shape({}).isRequired,handleInputChange:o.a.func.isRequired,engagedPolicyFile:o.a.shape({}).isRequired};var Ag=Object(b.a)(function(e){return{FormControl:{padding:10,width:"100%",marginTop:0,display:"flex",flexDirection:"row"},buttonWrapper:{paddingTop:20},paperRoot:{padding:20,marginTop:20},formControl:{display:"flex",flexDirection:"row",padding:"".concat(2*e.spacing.unit,"px 2px")},itemWrapper:{width:500}}})(Sg);function Og(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,i=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){i=!0,r=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw r}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function xg(e){var t=e.api,a=e.classes,r=e.updateMediationPolicy,o=t.mediationPolicies,l=o.filter(function(e){return"OUT"===e.type})[0],s=Og(Object(n.useState)({id:void 0!==l?l.id:"",name:void 0!==l?l.name:"",type:void 0!==l?l.type:"",content:{}}),2),c=s[0],u=s[1],p=Og(Object(n.useState)(!1),2),m=p[0],f=p[1],h=function(e){var t=e.target.value;u(t)};return Object(n.useEffect)(function(){m||_.get(t.id).then(function(e){var t=e.mediationPolicies.filter(function(e){return"OUT"===e.type})[0];u({id:void 0!==t?t.id:"",name:void 0!==t?t.name:"",type:void 0!==t?t.type:"",content:{}})}).catch(function(e){0})},[m]),i.a.createElement(wt.a,{className:a.formControl},i.a.createElement(Et.a,{value:"start",checked:m,control:i.a.createElement(il.a,{color:"primary"}),label:i.a.createElement(d.a,{id:"Apis.Details.MediationPolicies.out.flow.desc",defaultMessage:"Out Flow"}),labelPlacement:"start",onChange:function(e){var t=e.target.checked;f(t)}}),m?i.a.createElement("div",{className:a.itemWrapper},i.a.createElement(Pg,{handleInputChange:h,engagedPolicyFile:c,api:t,updateMediationPolicy:r})):i.a.createElement(Ag,{engagedPolicyFile:c,handleInputChange:h,api:t}))}xg.propTypes={classes:o.a.shape({}).isRequired,api:o.a.shape({}).isRequired,updateMediationPolicy:o.a.func.isRequired};var Ig=Object(b.a)({content:{flexGrow:1},itemWrapper:{width:500}})(xg);function Tg(e){var t=e.handleInputChange,a=e.classes,n=e.engagedPolicyFile;return i.a.createElement("div",{className:a.itemWrapper},i.a.createElement(he.a,{style:{width:"100%"},id:"faultFlow",name:"Fault Flow",helperText:i.a.createElement(d.a,{id:"Apis.Details.MediationPolicies.Engaged.EngagedFaultMediationPolicies.fault.flow.helper.text",defaultMessage:"mediation policy that is engaged in Fault Flow"}),margin:"normal",type:"text",onChange:t,value:n.name}))}Tg.propTypes={classes:o.a.shape({}).isRequired,api:o.a.shape({}).isRequired,engagedPlicyFile:o.a.shape({}).isRequired,handleInputChange:o.a.func.isRequired,engagedPolicyFile:o.a.shape({}).isRequired};var kg=Object(b.a)(function(e){return{FormControl:{padding:10,width:"100%",marginTop:0,display:"flex",flexDirection:"row"},buttonWrapper:{paddingTop:20},paperRoot:{padding:20,marginTop:20},formControl:{display:"flex",flexDirection:"row",padding:"".concat(2*e.spacing.unit,"px 2px")},itemWrapper:{width:500}}})(Tg);function Dg(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,i=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){i=!0,r=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw r}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Mg={border:"1px dashed ",borderRadius:"5px",cursor:"pointer",height:75,padding:"8px 0px",position:"relative",textAlign:"center",width:"100%",margin:"10px 0"};function Rg(e){var t=e.classes,a=e.api,r=e.updateMediationPolicy,o=_g(Object(n.useState)([]),2),l=o[0],s=o[1],c=_g(Object(n.useState)([]),2),u=c[0],p=c[1],m=a.id,f="FAULT",g="none",y=a.mediationPolicies.filter(function(e){return e.type===f})[0],b=_g(Object(n.useState)({id:y?y.id:"",name:y?y.name:"",type:y?y.type:"",content:{}}),2),v=b[0],E=b[1];Object(n.useEffect)(function(){l.length<=0&&_.getGlobalMediationPolicies().then(function(e){s(Dg(e.obj.list.filter(function(e){return e.type===f})))}).catch(function(e){0}),_.getMediationPolicies(m).then(function(e){p(Dg(e.obj.list.filter(function(e){return e.type===f})))}).catch(function(e){0})},[v]);var w=function(e){var t,n=e[0];n&&(t=n,_.addMediationPolicy(t,a.id,f).then(function(){se.info(Object(d.a)({id:"Apis.Details.MediationPolicies.Edit.EditFaultMediationPolicy.success",defaultMessage:"Mediation policy added successfully"}))}).catch(function(e){console.log(e),se.error(JSON.stringify(e))}),E({name:n.name,content:n}))};var C=function(e){l.filter(function(t){return t.id===e}).length>0?function(e){_.getGlobalMediationPolicyContent(e,a.id).then(function(e){ug.a.downloadFile(e,document)}).catch(function(e){})}(e):function(e){_.getMediationPolicyContent(e,a.id).then(function(e){ug.a.downloadFile(e,document)}).catch(function(e){})}(e)},P=function(e){l.filter(function(t){return t.id===e}).length>0?se.error(i.a.createElement(d.a,{id:"Apis.Details.MediationPolicies.Edit.EditFaultMediationPolicy.global.delete",defaultMessage:"Cannot delete Global mediation policies."})):function(e){_.deleteMediationPolicy(e,a.id).then(function(){p(u.filter(function(t){return t.id!==e})),se.info(i.a.createElement(d.a,{id:"Apis.Details.MediationPolicies.Edit.EditFaultMediationPolicy.delete.success",defaultMessage:"Mediation policy deleted successfully."}))}).catch(function(e){})}(e)};return i.a.createElement(wt.a,{className:t.formControl},i.a.createElement("div",{className:t.titleWrapper},i.a.createElement(St.a,{multiple:!1,className:t.dropzone,activeClassName:t.acceptDrop,rejectClassName:t.rejectDrop,onDrop:function(e){w(e)}},function(e){var a=e.getRootProps,n=e.getInputProps;return i.a.createElement("div",a({style:Mg}),i.a.createElement("input",n()),i.a.createElement("div",{className:t.dropZoneWrapper},i.a.createElement(va.a,{className:t.dropIcon},"cloud_upload"),i.a.createElement(h.a,null,i.a.createElement(d.a,{id:"Apis.Details.MediationPolicies.Edit.EditFaultMediationPolicy.click.or.drop.to.upload.file",defaultMessage:"Click or drag the mediation file to upload."}))))}),i.a.createElement(vt.a,{"aria-label":"faultflow",name:"faultflow",className:t.radioGroup,value:v.name,onChange:function(e){var t=e.target;t.name!==g?(E({id:t.name,name:t.value,type:f,content:""}),r({id:t.name,name:t.value,type:f,content:""})):(E({id:g,name:t.value,type:f,content:""}),r({id:g,name:t.value,type:f,content:""}))}},i.a.createElement(Ct.a,{component:"customPolicies"},i.a.createElement(d.a,{id:"Apis.Details.Edit.MediationPolicies.EditFaultMediationPolicies.custom.fault.policies",defaultMessage:"Custom Fault Mediation Policies"})),u.map(function(e){return i.a.createElement("div",null,i.a.createElement(K.a,{onClick:function(){return P(e.id)}},i.a.createElement(va.a,null,"delete")),i.a.createElement(ue.a,{onClick:function(){return C(e.id)}},i.a.createElement(va.a,null,"arrow_downward")),i.a.createElement(Et.a,{name:e.id,type:e.type,control:i.a.createElement(bt.a,null),label:i.a.createElement(d.a,{id:"Apis.Details.Edit.MediationPolicies.EditFaultMediationPolicies.custom.fault.policy",defaultMessage:e.name}),value:e.name,checked:v.name===e.name}))}),i.a.createElement(Et.a,{name:g,type:f,control:i.a.createElement(bt.a,null),label:i.a.createElement(d.a,{id:"Apis.Details.Edit.MediationPolicies.EditFaultMediationPolicies.none",defaultMessage:"No Mediation"}),value:g,checked:v.name===g||""===v.name}),i.a.createElement(Ct.a,{component:"globalPolicies"},i.a.createElement(d.a,{id:"Apis.Details.Edit.MediationPolicies.EditFaultMediationPolicies.global.fault.policies",defaultMessage:"Global FAULT Mediation Policies"})),l.map(function(e){return i.a.createElement("div",null,i.a.createElement(ue.a,{onClick:function(){return C(e.id)}},i.a.createElement(va.a,null,"arrow_downward")),i.a.createElement(Et.a,{name:e.id,type:e.type,control:i.a.createElement(bt.a,null),label:i.a.createElement(d.a,{id:"Apis.Details.Edit.MediationPolicies.EditFaultMediationPolicies.global.fault.policy",defaultMessage:e.name}),value:e.name,checked:v.name===e.name}))}))))}Rg.propTypes={classes:o.a.shape({}).isRequired,api:o.a.shape({}).isRequired,engagedPolicyFile:o.a.shape({}).isRequired,type:o.a.shape({}).isRequired,updateMediationPolicy:o.a.func.isRequired};var jg=Object(b.a)(function(e){return{formControl:{display:"flex",flexDirection:"row",padding:"".concat(2*e.spacing.unit,"px 2px")},dropzone:{border:"1px dashed "+e.palette.primary.main,borderRadius:"5px",cursor:"pointer",height:"calc(100vh - 50em)",padding:"".concat(2*e.spacing.unit,"px 0px"),position:"relative",textAlign:"center",width:"80%",margin:"10px 0"},dropZoneWrapper:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center","& span":{fontSize:16,color:e.palette.primary.main}}}})(Rg);function Ng(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,i=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){i=!0,r=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw r}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Lg(e){var t=e.api,a=e.classes,r=e.updateMediationPolicy,o=t.mediationPolicies,l=o.filter(function(e){return"FAULT"===e.type})[0],s=Ng(Object(n.useState)({id:void 0!==l?l.id:"",name:void 0!==l?l.name:"",type:void 0!==l?l.type:"",content:{}}),2),c=s[0],u=s[1],p=Ng(Object(n.useState)(!1),2),m=p[0],f=p[1],h=function(e){var t=e.target.value;u(t)};return Object(n.useEffect)(function(){m||_.get(t.id).then(function(e){var t=e.mediationPolicies.filter(function(e){return"FAULT"===e.type})[0];u({id:void 0!==t?t.id:"",name:void 0!==t?t.name:"",type:void 0!==t?t.type:"",content:{}})}).catch(function(e){0})},[m]),i.a.createElement(wt.a,{className:a.formControl},i.a.createElement(Et.a,{value:"start",checked:m,control:i.a.createElement(il.a,{color:"primary"}),label:i.a.createElement(d.a,{id:"Apis.Details.MediationPolicies.MediationPolicies.fault.flow.desc",defaultMessage:"Fault Flow"}),labelPlacement:"start",onChange:function(e){var t=e.target.checked;f(t)}}),m?i.a.createElement("div",{className:a.itemWrapper},i.a.createElement(jg,{handleInputChange:h,engagedPolicyFile:c,api:t,updateMediationPolicy:r})):i.a.createElement(kg,{engagedPolicyFile:c,handleInputChange:h,api:t}))}Lg.propTypes={classes:o.a.shape({}).isRequired,api:o.a.shape({}).isRequired,updateMediationPolicy:o.a.func.isRequired};var qg=Object(b.a)({content:{flexGrow:1},itemWrapper:{width:500}})(Lg);function Wg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,i=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){i=!0,r=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw r}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Fg(e){var t=e.classes,a=e.api,r=a.mediationPolicies.filter(function(e){return"IN"===e.type})[0],o=a.mediationPolicies.filter(function(e){return"OUT"===e.type})[0],l=a.mediationPolicies.filter(function(e){return"FAULT"===e.type})[0],s=Wg(Object(n.useState)(void 0!==r?{id:r.id,name:r.name,type:r.type}:{}),2),c=s[0],u=s[1],p=Wg(Object(n.useState)(void 0!==o?{id:o.id,name:o.name,type:o.type}:{}),2),m=p[0],f=p[1],g=Wg(Object(n.useState)(void 0!==l?{id:l.id,name:l.name,type:l.type}:{}),2),y=g[0],b=g[1],v=[];Lr()(c)||"none"===c.name||v.push(c),Lr()(m)||"none"===m.name||v.push(m),Lr()(y)||"none"===y.name||v.push(y);var E=function(e){u({id:e.id,name:e.name,type:e.type})},w=function(e){f({id:e.id,name:e.name,type:e.type})},C=function(e){b({id:e.id,name:e.name,type:e.type})};return i.a.createElement("div",null,i.a.createElement("div",{className:t.titleWrapper},i.a.createElement(h.a,{variant:"h4",align:"left",className:t.mainTitle},i.a.createElement(d.a,{id:"Apis.Details.MediationPolicies.MediationPolicies",defaultMessage:"Message Mediation Policies"}))),i.a.createElement(io.Consumer,null,function(e){var n=e.updateAPI;return i.a.createElement("div",{className:t.formControl},i.a.createElement(ce.a,{container:!0,spacing:12},i.a.createElement(ce.a,{item:!0,xs:12},i.a.createElement(me.a,{className:t.paperRoot,elevation:1},i.a.createElement(bg,{api:a,updateMediationPolicy:E}),i.a.createElement(Ig,{api:a,updateMediationPolicy:w}),i.a.createElement(qg,{api:a,updateMediationPolicy:C})))),i.a.createElement(ce.a,{container:!0,direction:"row",alignItems:"flex-start",spacing:16,className:t.buttonSection},i.a.createElement(ce.a,{item:!0},i.a.createElement("div",null,i.a.createElement(ue.a,{variant:"contained",color:"primary",onClick:function(){return function(e){a.get(a.id).then(function(t){var a=t.body;a.mediationPolicies=v,e(a)}).catch(function(e){console.error(e),se.error("Error occurred while retrieving API to save mediation policies")})}(n)}},i.a.createElement(d.a,{id:"save",defaultMessage:"Save"})))),i.a.createElement(ce.a,{item:!0},i.a.createElement(pe.b,{to:"/apis/"+a.id+"/overview"},i.a.createElement(ue.a,null,i.a.createElement(d.a,{id:"cancel",defaultMessage:"Cancel"}))))))}))}Fg.propTypes={classes:o.a.shape({root:o.a.shape({}),buttonSection:o.a.shape({}),endpointTypesWrapper:o.a.shape({}),mainTitle:o.a.shape({})}).isRequired,api:o.a.shape({}).isRequired};var Bg=Object(b.a)(function(e){return{buttonWrapper:{paddingTop:20},paperRoot:{padding:20,marginTop:20,display:"flex"},formControl:{flexDirection:"row",padding:"".concat(2*e.spacing.unit,"px 2px")},itemWrapper:{width:500}}})(Fg);function zg(e){return(zg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ug(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Vg(e){return(Vg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gg(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hg(e,t){return(Hg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Kg(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Jg=function(e){function t(e){var a,n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,i=Vg(t).call(this,e),a=!i||"object"!==zg(i)&&"function"!=typeof i?Gg(n):i,Kg(Gg(a),"handleChange",function(e){return function(t){var n=t.target.value,i=t.target.checked;"accessControlRoles"===e||"visibleRoles"===e?n=n.split(","):"isDefaultVersion"===e?n="yes"===n:"responseCaching"===e&&(n=i?"Enabled":"Disabled"),a.setState(Kg({},e,n))}});var r=a.props.api.businessInformation,o=r.businessOwner,l=r.businessOwnerEmail,s=r.technicalOwner,c=r.technicalOwnerEmail;return a.state={businessOwner:o,businessOwnerEmail:l,technicalOwner:s,technicalOwnerEmail:c},a}var a,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hg(e,t)}(t,i.a.Component),a=t,(n=[{key:"handleSubmit",value:function(e){var t=this.state;e({businessInformation:{businessOwner:t.businessOwner,businessOwnerEmail:t.businessOwnerEmail,technicalOwner:t.technicalOwner,technicalOwnerEmail:t.technicalOwnerEmail}})}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.api,r=t.updateAPI,o=this.state,l=o.businessOwner,s=o.businessOwnerEmail,c=o.technicalOwner,u=o.technicalOwnerEmail;return i.a.createElement("div",{className:a.root},i.a.createElement("div",{className:a.titleWrapper},i.a.createElement(h.a,{variant:"h4",align:"left",className:a.mainTitle},i.a.createElement(d.a,{id:"Apis.Details.BusinessInformation.BusinessInformation.business.info",defaultMessage:"Business Information"}))),i.a.createElement(ce.a,{container:!0,spacing:7},i.a.createElement(ce.a,{item:!0,xs:12},i.a.createElement(me.a,{className:a.paperRoot,elevation:1},i.a.createElement(wt.a,{margin:"normal",className:a.FormControlOdd},i.a.createElement(he.a,{disabled:Object(Ka.b)(["apim:api_create","apim:api_publish"],n),fullWidth:!0,id:"name",label:i.a.createElement(d.a,{id:"Apis.Details.BusinessInformation.BusinessInformation.business.owner.name",defaultMessage:"Business Owner"}),helperText:i.a.createElement(d.a,{id:"Apis.Details.BusinessInformation.BusinessInformation.business.owner.name.helper.text",defaultMessage:"Provide the name of the business owner"}),type:"text",name:"name",margin:"normal",value:l||n.businessInformation.businessOwner,onChange:this.handleChange("businessOwner"),InputLabelProps:{shrink:!0},autoFocus:!0})),i.a.createElement(wt.a,{margin:"normal",className:a.FormControl},i.a.createElement(he.a,{disabled:Object(Ka.b)(["apim:api_create","apim:api_publish"],n),fullWidth:!0,id:"name",label:i.a.createElement(d.a,{id:"Apis.Details.BusinessInformation.BusinessInformation.business.owner.email",defaultMessage:"Business Owner Email"}),helperText:i.a.createElement(d.a,{id:"Apis.Details.BusinessInformation.BusinessInformation.business.owner.email.helper.text",defaultMessage:"Provide the email of the business owner"}),type:"text",name:"name",margin:"normal",value:s||n.businessInformation.businessOwnerEmail,onChange:this.handleChange("businessOwnerEmail"),InputLabelProps:{shrink:!0},autoFocus:!0})),i.a.createElement(wt.a,{margin:"normal",className:a.FormControlOdd},i.a.createElement(he.a,{disabled:Object(Ka.b)(["apim:api_create","apim:api_publish"],n),fullWidth:!0,id:"name",label:i.a.createElement(d.a,{id:"Apis.Details.BusinessInformation.BusinessInformation.technical.owner.name",defaultMessage:"Technical Owner"}),helperText:i.a.createElement(d.a,{id:"Apis.Details.BusinessInformation.BusinessInformation.technical.owner.name.helper.text",defaultMessage:"Provide the name of the technical owner"}),type:"text",name:"name",margin:"normal",value:c||n.businessInformation.technicalOwner,onChange:this.handleChange("technicalOwner"),InputLabelProps:{shrink:!0},autoFocus:!0})),i.a.createElement(wt.a,{margin:"normal",className:a.FormControl},i.a.createElement(he.a,{disabled:Object(Ka.b)(["apim:api_create","apim:api_publish"],n),fullWidth:!0,id:"name",label:i.a.createElement(d.a,{id:"Apis.Details.BusinessInformation.BusinessInformation.technical.owner.email",defaultMessage:"Technical Owner Email"}),helperText:i.a.createElement(d.a,{id:"Apis.Details.BusinessInformation.BusinessInformation.technical.owner.email.helper.text",defaultMessage:"Provide the email of the technical owner"}),type:"text",name:"name",margin:"normal",value:u||n.businessInformation.technicalOwnerEmail,onChange:this.handleChange("technicalOwnerEmail"),InputLabelProps:{shrink:!0},autoFocus:!0}))),i.a.createElement("div",{className:a.buttonWrapper},i.a.createElement(ce.a,{container:!0,direction:"row",alignItems:"flex-start",spacing:4,className:a.buttonSection},i.a.createElement(ce.a,{item:!0},i.a.createElement("div",null,i.a.createElement(ue.a,{variant:"contained",color:"primary",onClick:function(){return e.handleSubmit(r)},disabled:Object(Ka.b)(["apim:api_create","apim:api_publish"],n)},i.a.createElement(d.a,{id:"save",defaultMessage:"Save"})))),i.a.createElement(ce.a,{item:!0},i.a.createElement(pe.b,{to:(n.apiType===_.CONSTS.APIProduct?"/api-products/":"/apis/")+n.id+"/overview"},i.a.createElement(ue.a,null,i.a.createElement(d.a,{id:"cancel",defaultMessage:"Cancel"})))))))))}}])&&Ug(a.prototype,n),r&&Ug(a,r),t}();Jg.propTypes={state:o.a.shape({}).isRequired,classes:o.a.shape({}).isRequired,api:o.a.shape({id:o.a.string,businessInformation:o.a.shape({businessOwner:o.a.string,businessOwnerEmail:o.a.string,technicalOwner:o.a.string,technicalOwnerEmail:o.a.string,apiType:o.a.oneOf([_.CONSTS.API,_.CONSTS.APIProduct])}).isRequired}).isRequired,updateAPI:o.a.func.isRequired};var Qg=no(Object(b.a)(function(e){return{FormControl:{padding:0,width:"100%",marginTop:0},FormControlOdd:{padding:0,backgroundColor:e.palette.background.paper,width:"100%",marginTop:0},buttonWrapper:{paddingTop:20},paperRoot:{padding:20,marginTop:20}}})(Jg)),Yg=a(1894),$g=a.n(Yg),Zg=a(1893),Xg=a.n(Zg);function ey(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,i=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){i=!0,r=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw r}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var ty=Object(Z.a)(function(e){return{addProperty:{marginRight:2*e.spacing.unit},buttonIcon:{marginRight:10},link:{cursor:"pointer"}}});function ay(e){var t=e.oldKey,a=e.oldValue,r=e.handleUpdateList,o=e.handleDelete,l=e.apiAdditionalProperties,s=e.intl,c=ey(Object(n.useState)(null),2),u=c[0],p=c[1],d=ey(Object(n.useState)(null),2),m=d[0],f=d[1],h=ey(Object(n.useState)(!1),2),g=h[0],y=h[1],b=function(e){return null!==e&&""===e},v=function(){r({oldKey:t,oldValue:a},{newKey:u||t,newValue:m||a}),y(!1)},E=function(e){"Enter"===e.key&&v()},w=ty();return i.a.createElement(vo.a,null,g?i.a.createElement(bo.a,null,i.a.createElement(he.a,{required:!0,id:"outlined-required",label:s.formatMessage({id:"Apis.Details.Properties.Properties.editable.row.property.name",defaultMessage:"Property Name"}),margin:"normal",variant:"outlined",className:w.addProperty,value:u||t,onChange:function(e){var t=e.target.value;p(t)},onKeyDown:E,error:b(u)})):i.a.createElement(bo.a,null,t),g?i.a.createElement(bo.a,null,i.a.createElement(he.a,{required:!0,id:"outlined-required",label:s.formatMessage({id:"Apis.Details.Properties.Properties.editable.row.edit.mode.property.name",defaultMessage:"Property Name"}),margin:"normal",variant:"outlined",className:w.addProperty,value:m||a,onChange:function(e){var t=e.target.value;f(t)},onKeyDown:E,error:b(m)})):i.a.createElement(bo.a,null,a),i.a.createElement(bo.a,{align:"right"},g?i.a.createElement(i.a.Fragment,null,i.a.createElement("a",{className:w.link,onClick:v,onKeyDown:function(){}},i.a.createElement(Xg.a,{className:w.buttonIcon}))):i.a.createElement("a",{className:w.link,onClick:function(){y(!g)},onKeyDown:function(){}},i.a.createElement(hn.a,{className:w.buttonIcon})),i.a.createElement("a",{className:w.link,onClick:function(){o(l,t)},onKeyDown:function(){}},i.a.createElement($g.a,{className:w.buttonIcon}))))}ay.propTypes={oldKey:o.a.shape({}).isRequired,oldValue:o.a.shape({}).isRequired,classes:o.a.shape({}).isRequired,handleUpdateList:o.a.shape({}).isRequired,handleDelete:o.a.shape({}).isRequired,apiAdditionalProperties:o.a.shape({}).isRequired,intl:o.a.shape({formatMessage:o.a.func}).isRequired};var ny=Object(d.d)(ay);function iy(){return(iy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ry(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,i=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){i=!0,r=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw r}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var oy=Object(Z.a)(function(e){return{root:{paddingTop:0,paddingLeft:0,maxWidth:e.custom.contentAreaWidth},titleWrapper:{display:"flex",flexDirection:"row",alignItems:"center"},button:{marginLeft:2*e.spacing.unit,textTransform:e.custom.leftMenuTextStyle,color:e.palette.getContrastText(e.palette.primary.main)},FormControl:{padding:0,width:"100%",marginTop:0,display:"flex",flexDirection:"row"},FormControlOdd:{padding:0,backgroundColor:e.palette.background.paper,width:"100%",marginTop:0},buttonWrapper:{paddingTop:3*e.spacing.unit},paperRoot:{padding:3*e.spacing.unit,marginTop:3*e.spacing.unit},addNewHeader:{padding:2*e.spacing.unit,backgroundColor:e.palette.grey[300],fontSize:e.typography.h6.fontSize,color:e.typography.h6.color,fontWeight:e.typography.h6.fontWeight},addNewOther:{padding:2*e.spacing.unit},addNewWrapper:{backgroundColor:e.palette.background.paper,color:e.palette.getContrastText(e.palette.background.paper),border:"solid 1px "+e.palette.grey[300],borderRadius:e.shape.borderRadius,marginTop:2*e.spacing.unit},addProperty:{marginRight:2*e.spacing.unit},buttonIcon:{marginRight:10},link:{cursor:"pointer"},messageBox:{marginTop:20},actions:{padding:"20px 0","& button":{marginLeft:0}},head:{fontWeight:200,marginBottom:20}}});function ly(e){var t=Object(n.useContext)(io),a=t.api,r=t.updateAPI,o=uu()(a.additionalProperties),l=ry(Object(n.useState)(o),2),s=l[0],c=l[1],u=ry(Object(n.useState)(!1),2),p=u[0],m=u[1],f=ry(Object(n.useState)(null),2),g=f[0],y=f[1],b=ry(Object(n.useState)(null),2),v=b[0],E=b[1],w=ry(Object(n.useState)(!1),2),C=w[0],P=w[1],S=function(){m(!p)},A=function(e){return function(t){var a=t.target.value;"propertyKey"===e?y(a):"propertyValue"===e&&E(a)}},O=function(e){return null!==e&&""===e},x=function(e,t){var a=JSON.parse(JSON.stringify(s));Object.prototype.hasOwnProperty.call(a,t)&&delete a[t],c(a)},I=function(e,t){var a=JSON.parse(JSON.stringify(s)),n=e.oldKey,i=e.oldValue,r=t.newKey,o=t.newValue;Object.prototype.hasOwnProperty.call(a,r)&&n===r?o&&i!==o&&(a[n]=o):(delete a[n],a[r]=o),c(a)},T=function(){var e=JSON.parse(JSON.stringify(s));e[g]=v,c(e)},k=function(e){"Enter"===e.key&&T()},D=e.intl,_=oy();return i.a.createElement("div",{className:_.root},i.a.createElement("div",{className:_.titleWrapper},i.a.createElement(h.a,{variant:"h4",align:"left",className:_.mainTitle},i.a.createElement(d.a,{id:"Apis.Details.Properties.Properties.api.properties",defaultMessage:"API Properties"})),i.a.createElement(ue.a,{size:"small",className:_.button,onClick:S,disabled:Object(Ka.b)(["apim:api_create","apim:api_publish"],a)},i.a.createElement(Ms.a,{className:_.buttonIcon}),i.a.createElement(d.a,{id:"Apis.Details.Properties.Properties.add.new.property",defaultMessage:"Add New Property"}))),Nc()(s)&&!p&&i.a.createElement("div",{className:_.messageBox},i.a.createElement(si,{type:"info",height:140},i.a.createElement("div",{className:_.contentWrapper},i.a.createElement(h.a,{variant:"h5",component:"h3",className:_.head},i.a.createElement(d.a,{id:"Apis.Details.Properties.Properties.add.new.property.message.title",defaultMessage:"Create Additional Properties"})),i.a.createElement(h.a,{component:"p",className:_.content},i.a.createElement(d.a,{id:"Apis.Details.Properties.Properties.add.new.property.message.content",defaultMessage:"If you want to add specific custom properties to yourAPI you can add them here."})),i.a.createElement("div",{className:_.actions},i.a.createElement(ue.a,{variant:"contained",color:"primary",className:_.button,onClick:S},i.a.createElement(d.a,{id:"Apis.Details.Properties.Properties.add.new.property",defaultMessage:"Add New Property"})))))),(!Nc()(s)||p)&&i.a.createElement(ce.a,{container:!0,spacing:7},i.a.createElement(ce.a,{item:!0,xs:12},i.a.createElement(me.a,{className:_.paperRoot,elevation:1},i.a.createElement(yo.a,{className:_.table},i.a.createElement(Cs.a,null,i.a.createElement(vo.a,null,i.a.createElement(bo.a,null,i.a.createElement(d.a,{id:"Apis.Details.Properties.Properties.add.new.property.table",defaultMessage:"Add New Property"})),i.a.createElement(bo.a,null,i.a.createElement(d.a,{id:"Apis.Details.Properties.Properties.add.new.property.value",defaultMessage:"Property Value"})),i.a.createElement(bo.a,null))),i.a.createElement(ws.a,null,p&&i.a.createElement(i.a.Fragment,null,i.a.createElement(vo.a,null,i.a.createElement(bo.a,null,i.a.createElement(he.a,{required:!0,id:"outlined-required",label:D.formatMessage({id:"Apis.Details.Properties.Properties.\n                                                                show.add.property.property.name",defaultMessage:"Property Name"}),margin:"normal",variant:"outlined",className:_.addProperty,value:null===g?"":g,onChange:A("propertyKey"),onKeyDown:k("propertyKey"),error:O(g),disabled:Object(Ka.b)(["apim:api_create","apim:api_publish"],a)})),i.a.createElement(bo.a,null,i.a.createElement(he.a,{required:!0,id:"outlined-required",label:D.formatMessage({id:"Apis.Details.Properties.Properties.property.value",defaultMessage:"Property Value"}),margin:"normal",variant:"outlined",className:_.addProperty,value:null===v?"":v,onChange:A("propertyValue"),onKeyDown:k("propertyValue"),error:O(v),disabled:Object(Ka.b)(["apim:api_create","apim:api_publish"],a)})),i.a.createElement(bo.a,{align:"right"},i.a.createElement(ue.a,{variant:"contained",color:"primary",disabled:!v||!g||Object(Ka.b)(["apim:api_create","apim:api_publish"],a),onClick:T},i.a.createElement(d.a,{id:"Apis.Details.Properties.Properties.add",defaultMessage:"Add"})),i.a.createElement(ue.a,{onClick:S},i.a.createElement(d.a,{id:"Apis.Details.Properties.Properties.cancel",defaultMessage:"Cancel"})))),i.a.createElement(vo.a,null,i.a.createElement(bo.a,{colSpan:3},i.a.createElement(h.a,{variant:"caption"},i.a.createElement(d.a,{id:"Apis.Details.Properties.Properties.help",defaultMessage:"Property name should be unique, should not containspaces, cannot be case-sensitive, cannot be any of the following as they are reserved keywords:provider, version, context, status, description, subcontext, doc, lcState, name, tags."}))))),function(){var t=[];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&t.push(i.a.createElement(ny,iy({oldKey:a,oldValue:s[a],handleUpdateList:I,handleDelete:x,apiAdditionalProperties:s},e)));return t}()))),i.a.createElement("div",{className:_.buttonWrapper},i.a.createElement(ce.a,{container:!0,direction:"row",alignItems:"flex-start",spacing:4,className:_.buttonSection},i.a.createElement(ce.a,{item:!0},i.a.createElement("div",null,i.a.createElement(ue.a,{variant:"contained",color:"primary",onClick:function(){P(!0),r({additionalProperties:s}).then(function(){P(!1)}).catch(function(e){P(!1),401===e.status&&Jr()})},disabled:C||Object(Ka.b)(["apim:api_create","apim:api_publish"],a)},C&&i.a.createElement(i.a.Fragment,null,i.a.createElement(de.a,{size:20}),i.a.createElement(d.a,{id:"Apis.Details.Properties.Properties.updating",defaultMessage:"Updating ..."})),!C&&i.a.createElement(d.a,{id:"Apis.Details.Properties.Properties.save",defaultMessage:"Save"})))),i.a.createElement(ce.a,{item:!0},i.a.createElement(pe.b,{to:"/apis/"+a.id+"/overview"},i.a.createElement(ue.a,null,i.a.createElement(d.a,{id:"Apis.Details.Properties.Properties.cancel",defaultMessage:"Cancel"})))),Object(Ka.b)(["apim:api_create","apim:api_publish"],a)&&i.a.createElement(ce.a,{item:!0,xs:12},i.a.createElement(h.a,{variant:"body2",color:"primary"},i.a.createElement(d.a,{id:"Apis.Details.Properties.Properties.update.not.allowed",defaultMessage:"*You are not authorized to update properties of the API due to insufficient permissions"}))))))))}ly.propTypes={state:o.a.shape({}).isRequired,intl:o.a.shape({formatMessage:o.a.func}).isRequired};var sy=no(Object(d.d)(ly)),cy=a(1895);function uy(e){return(uy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function py(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function dy(e){return(dy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function my(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fy(e,t){return(fy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var hy=function(e){function t(e){var a,n,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(a=!(i=dy(t).call(this,e))||"object"!==uy(i)&&"function"!=typeof i?my(n):i).state={policies:[],monetizedPolices:null},a.monetizationQuery=a.monetizationQuery.bind(my(a)),a}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fy(e,t)}(t,n["Component"]),a=t,(r=[{key:"componentDidMount",value:function(){var e=this,t=this.props.api;t.getSubscriptionPolicies(t.id).then(function(t){var a=t.filter(function(e){return"COMMERCIAL"===e.tierPlan});e.setState({policies:a})}),t.getMonetization(t.id).then(function(t){e.setState({monetizedPolices:t.properties})})}},{key:"monetizationQuery",value:function(e){return e in this.state.monetizedPolices}},{key:"render",value:function(){var e=this,t=this.state,a=t.policies,n=t.monetizedPolices,r=this.props.api;if(null===n)return i.a.createElement(Kn.a,null);var o=a.map(function(t){return i.a.createElement(ce.a,{item:!0,xs:6,spacing:2},i.a.createElement(Et.a,{control:i.a.createElement(Ae.a,{id:"monetizationStatus",checked:e.monetizationQuery(t.name),disabled:Object(Ka.b)(["apim:api_create","apim:api_publish"],r)}),label:t.name}),Object.keys(t.monetizationAttributes).map(function(e){return null!==t.monetizationAttributes[e]&&("currencyType"===e?i.a.createElement(h.a,{component:"p",variant:"body1"},i.a.createElement(d.a,{id:"Apis.Details.Monetization.BusinessPlans.currencyType",defaultMessage:"Currency Type"})," : ",t.monetizationAttributes[e]):"billingCycle"===e?i.a.createElement(h.a,{component:"p",variant:"body1"},i.a.createElement(d.a,{id:"Apis.Details.Monetization.BusinessPlans.billingCycle",defaultMessage:"Billing Cycle"})," : ",t.monetizationAttributes[e]):"fixedPrice"===e?i.a.createElement(h.a,{component:"p",variant:"body1"},i.a.createElement(d.a,{id:"Apis.Details.Monetization.BusinessPlans.fixedPrice",defaultMessage:"Fixed Price"})," : ",t.monetizationAttributes[e]):"pricePerRequest"===e?i.a.createElement(h.a,{component:"p",variant:"body1"},i.a.createElement(d.a,{id:"Apis.Details.Monetization.BusinessPlans.pricePerRequest",defaultMessage:"Price per Request"})," : ",t.monetizationAttributes[e]):i.a.createElement(h.a,{component:"p",variant:"body1"},e," : ",t.monetizationAttributes[e]))}))});return i.a.createElement(ce.a,{container:!0,className:cy.classes.root},i.a.createElement(ce.a,{className:cy.classes.grid,spacing:2},i.a.createElement(ce.a,null,i.a.createElement(h.a,{variant:"subtitle",gutterBottom:!0},i.a.createElement(d.a,{id:"Apis.Details.Monetization.BusinessPlans.commercial.policies",defaultMessage:"Commercial Policies"}))),a.length>0?i.a.createElement(ce.a,null,i.a.createElement(h.a,null,i.a.createElement(d.a,{id:"Apis.Details.Monetization.BusinessPlans.unchecked.policies",defaultMessage:"Unchecked polices are not monetized, click save to monetize"}))):i.a.createElement(ce.a,null,i.a.createElement(h.a,null,i.a.createElement(d.a,{id:"Apis.Details.Monetization.BusinessPlans.no.commercial.policies.to.monetize",defaultMessage:"No commercial policies to monetize"}))),i.a.createElement(ce.a,{container:!0,className:cy.classes.root,spacing:2},o)))}}])&&py(a.prototype,r),o&&py(a,o),t}();hy.propTypes={api:o.a.instanceOf(_).isRequired,classes:o.a.shape({}).isRequired};var gy=Object(b.a)(function(e){return{root:{flexGrow:1,paddingBottom:"10px"},margin:{margin:e.spacing.unit},rightDataColumn:{display:"flex",flex:1},grid:{marginTop:"10px",paddingRight:"10px",paddingBottom:"10px"}}})(hy);function yy(e){return(yy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function by(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function vy(e){return(vy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ey(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wy(e,t){return(wy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Cy(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Py=function(e){function t(e){var a,n,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,i=vy(t).call(this,e),a=!i||"object"!==yy(i)&&"function"!=typeof i?Ey(n):i,Cy(Ey(a),"handleChange",function(e){a.setState({monStatus:e.target.checked})}),Cy(Ey(a),"handleInputChange",function(e){var t=e.target,n=t.name,i=t.value;a.setState(function(e){var t=e.property;return t[n]=i,{property:t}})}),a.state={monetizationAttributes:[],monStatus:null,property:{}},a.handleChange=a.handleChange.bind(Ey(a)),a.handleInputChange=a.handleInputChange.bind(Ey(a)),a.handleSubmit=a.handleSubmit.bind(Ey(a)),a}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wy(e,t)}(t,n["Component"]),a=t,(r=[{key:"componentDidMount",value:function(){this.getMonetizationData()}},{key:"getMonetizationData",value:function(){var e=this,t=this.props.api;t.getSettings().then(function(t){null!=t.monetizationAttributes&&e.setState({monetizationAttributes:t.monetizationAttributes})}),t.getMonetization(this.props.api.id).then(function(t){e.setState({monStatus:t.enabled})})}},{key:"handleSubmit",value:function(){var e=this,t=this.props,a=t.api,n=t.intl,i=this.state.property,r={enabled:this.state.monStatus,properties:i};a.configureMonetizationToApi(this.props.api.id,r).then(function(t){200===t.status?(se.info(n.formatMessage({id:"Apis.Details.Monetization.Index.monetization.configured.successfully",defaultMessage:"Monetization Configured Successfully"})),e.setState({monStatus:!e.state.monStatus})):se.info(n.formatMessage({id:"Apis.Details.Monetization.Index.something.went.wrong.while.configuring.monetization",defaultMessage:"Something went wrong while configuring monetization"}))}).catch(function(e){console.error(e),e.response?se.error(e.response.body.message):se.error(n.formatMessage({id:"Apis.Details.Monetization.Index.something.went.wrong.while.configuring.monetization",defaultMessage:"Something went wrong while configuring monetization"}))})}},{key:"render",value:function(){var e=this,t=this.props,a=t.api,n=t.classes,r=this.state,o=r.monetizationAttributes,l=r.monStatus;return o&&null!==l?i.a.createElement(ce.a,{item:!0,xs:6},i.a.createElement(h.a,{variant:"title",gutterBottom:!0},i.a.createElement(d.a,{id:"Apis.Details.Monetization.Index.monetization",defaultMessage:"Monetization"})),i.a.createElement("form",{method:"post",onSubmit:this.handleSubmit},i.a.createElement(Et.a,{control:i.a.createElement(Ae.a,{disabled:Object(Ka.b)(["apim:api_create","apim:api_publish"],a),id:"monStatus",name:"monStatus",checked:l,onChange:this.handleChange,value:l}),label:"Enable Monetization"}),i.a.createElement(ce.a,null,i.a.createElement(me.a,{className:n.paper},i.a.createElement(ce.a,{item:!0,xs:5,className:n.grid},i.a.createElement(h.a,{variant:"subtitle",gutterBottom:!0},i.a.createElement(d.a,{id:"Apis.Details.Monetization.Index.monetization.properties",defaultMessage:"Monetization Properties"})),o.length>0?o.map(function(t,n){return i.a.createElement(he.a,{disabled:Object(Ka.b)(["apim:api_create","apim:api_publish"],a),fullWidth:!0,id:"attribute"+n,label:t.displayName,name:t.name,type:"text",margin:"normal",required:t.required,onChange:e.handleInputChange,autoFocus:!0})}):i.a.createElement(h.a,{gutterBottom:!0},i.a.createElement(d.a,{id:"Apis.Details.Monetization.Index.there.are.no .monetization.properties.configured",defaultMessage:"There are no monetization properties configured"}))))),i.a.createElement(pi.a,{className:n.grid}),i.a.createElement(ce.a,null,i.a.createElement(me.a,{className:n.paper},i.a.createElement(ce.a,{item:!0,xs:12,className:n.grid},i.a.createElement(gy,{api:a,monStatus:l})))),i.a.createElement(pi.a,{className:n.grid}),i.a.createElement(ue.a,{onClick:this.handleSubmit,color:"primary",variant:"contained",className:n.button},i.a.createElement(d.a,{id:"Apis.Details.Monetization.Index.save",defaultMessage:"Save"})))):i.a.createElement(Kn.a,null)}}])&&by(a.prototype,r),o&&by(a,o),t}();Py.propTypes={api:o.a.instanceOf(_).isRequired,classes:o.a.shape({}).isRequired,intl:o.a.shape({formatMessage:o.a.func}).isRequired};var Sy=Object(b.a)(function(e){return{root:{flexGrow:1},container:{display:"flex",flexWrap:"wrap"},margin:{margin:e.spacing.unit},paper:{padding:2*e.spacing.unit,textAlign:"left",color:e.palette.text.secondary,paddingBottom:"10px"},grid:{paddingLeft:"10px",paddingRight:"10px",paddingBottom:"10px",minWidth:"50%"},button:{margin:e.spacing.unit}}})(Py);function Ay(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Oy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,i=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){i=!0,r=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw r}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var xy=Object(Z.a)(function(e){return{root:{width:e.custom.contentAreaWidth,marginTop:e.spacing(3),overflowX:"auto"},table:{minWidth:650},viewInExStoreLink:{color:e.palette.common.black,textDecoration:"underline"}}}),Iy=Object(b.a)(function(){return{head:{fontSize:13},body:{fontSize:14}}})(bo.a);function Ty(){var e=Object(n.useContext)(to).api,t=$r().settings,a=Oy(Object(n.useState)([]),2),r=a[0],o=a[1],l=Oy(Object(n.useState)([]),2),s=l[0],c=l[1],u=Oy(Object(n.useState)(!1),2),p=u[0],m=u[1],f=xy(),g=Object(d.e)();if(!t.externalStoresEnabled)return i.a.createElement("div",{className:"message message-warning"},i.a.createElement("h4",null,i.a.createElement(d.a,{id:"Apis.Details.ExternalStores.ExternalStores.external.stores.not.found.for.api",defaultMessage:"External Stores not found for api: "}),i.a.createElement("span",{style:{color:"green"}}," ",e.id," ")));function y(){_.getPublishedExternalStores(e.id).then(function(e){var t=e.body.list.map(function(e){return e.id});c(t)}).catch(function(e){var t=e.response&&e.response.obj,a=t&&"["+t.message+"] "+t.description;se.error(g.formatMessage({id:"Apis.Details.ExternalStores.ExternalStores.error.getting.published.external.stores",defaultMessage:"Error while getting published external stores!! {reason}"},{reason:a}))})}return Object(n.useEffect)(function(){_.getAllExternalStores().then(function(e){o(Ay(e.body.list))}),y()},[]),i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement(h.a,{variant:"h4",align:"left"},i.a.createElement(d.a,{id:"Apis.Details.ExternalStores.ExternalStores.external-stores",defaultMessage:"External Stores"})),i.a.createElement(me.a,{className:f.root},i.a.createElement(yo.a,{className:f.table},i.a.createElement(Cs.a,null,i.a.createElement(vo.a,null,i.a.createElement(Iy,null),i.a.createElement(Iy,null,"Name"),i.a.createElement(Iy,null,"Type"),i.a.createElement(Iy,null,"Endpoint"))),i.a.createElement(ws.a,null,r.map(function(t){return i.a.createElement(vo.a,{key:t.id},i.a.createElement(Iy,{padding:"checkbox"},i.a.createElement(Ae.a,{checked:s.includes(t.id),disabled:"PUBLISHED"!==e.lifeCycleStatus||Object(Ka.b)(["apim:api_publish"],e),onChange:function(e){var t=e.target,a=t.checked,n=t.name;a?s.includes(n)||c([].concat(Ay(s),[n])):c(s.filter(function(e){return e!==n}))},name:t.id})),i.a.createElement(Iy,{component:"th",scope:"row"},t.displayName),i.a.createElement(Iy,null,t.type),i.a.createElement(Iy,null,i.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:t.endpoint,className:f.viewInExStoreLink},t.endpoint)))})))),i.a.createElement(ce.a,{container:!0},i.a.createElement(ce.a,{container:!0,direction:"row",alignItems:"center",spacing:4,style:{marginTop:20}},i.a.createElement(ce.a,{item:!0},i.a.createElement(ue.a,{type:"submit",variant:"contained",color:"primary",disabled:p||"PUBLISHED"!==e.lifeCycleStatus||Object(Ka.b)(["apim:api_publish"],e),onClick:function(){m(!0),_.publishAPIToExternalStores(e.id,s).then(function(e){var t=e.body.list.map(function(e){return e.id});se.success(g.formatMessage({id:"Apis.Details.ExternalStores.ExternalStores.successfully.published.to.external.stores",defaultMessage:"Successfully Published to external stores: "},{successfulStores:t}))}).catch(function(e){var t=e.response&&e.response.obj,a=t&&"["+t.message+"] "+t.description;se.error(g.formatMessage({id:"Apis.Details.ExternalStores.ExternalStores.error.while.updating.external.stores",defaultMessage:"Error while updating external stores!! {reason}"},{reason:a}))}).finally(function(){m(!1),y()})}},i.a.createElement(d.a,{id:"Apis.Details.ExternalStores.ExternalStores.save",defaultMessage:"Save"}),p&&i.a.createElement(de.a,{size:20}))),i.a.createElement(ce.a,{item:!0},i.a.createElement(pe.b,{to:"/apis/"+e.id+"/overview"},i.a.createElement(ue.a,null,i.a.createElement(d.a,{id:"Apis.Details.ExternalStores.ExternalStores.cancel",defaultMessage:"Cancel"}))))))))}function ky(e){return(ky="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dy(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _y(e){return(_y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function My(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ry(e,t){return(Ry=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jy(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Ny=function(e){function t(e){var a,n,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,i=_y(t).call(this,e),a=!i||"object"!==ky(i)&&"function"!=typeof i?My(n):i,jy(My(a),"handleDefaultVersionChange",function(){return function(e){var t=e.target.value;a.setState({isDefaultVersion:t})}}),jy(My(a),"handleVersionChange",function(){return function(e){var t=e.target.value;a.setState({newVersion:t,valid:{version:{empty:!t,alreadyExists:!1}}})}}),a.state={isDefaultVersion:"no",valid:{version:{empty:!1,alreadyExists:!1}}},a}var a,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ry(e,t)}(t,i.a.Component),a=t,(n=[{key:"handleSubmit",value:function(e,t,a){var n=this;if(t){var i="yes"===a,r=this.props.intl;e.createNewAPIVersion(t,i).then(function(e){n.setState({redirectToReferrer:!0,apiId:e.obj.id}),se.error(r.formatMessage({id:"Apis.Details.NewVersion.NewVersion.success",defaultMessage:"Successfully created new version"})+t)}).catch(function(e){409===e.status?n.setState({valid:{version:{alreadyExists:!0}}}):se.error(r.formatMessage({id:"Apis.Details.NewVersion.NewVersion.error",defaultMessage:"Something went wrong while creating a new version!. Error: "})+e.status)})}else this.setState({valid:{version:{empty:!0}}})}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.api,r=this.state,o=r.isDefaultVersion,s=r.newVersion,c=r.redirectToReferrer,u=r.apiId,p=r.valid;if(c)return i.a.createElement(l.Redirect,{to:"/apis/"+u+"/overview"});var m="Provide new version";return p.version.empty?m="This field cannot be empty":p.version.alreadyExists&&(m='An API with version "'+s+'" already exists.'),i.a.createElement("div",{className:a.root},i.a.createElement("div",{className:a.titleWrapper},i.a.createElement(h.a,{variant:"h4",align:"left",className:a.mainTitle},i.a.createElement(d.a,{id:"Apis.Details.NewVersion.NewVersion.create.new.version",defaultMessage:"Create New Version"}))),i.a.createElement(ce.a,{container:!0,spacing:7},i.a.createElement(ce.a,{item:!0,xs:12},i.a.createElement(me.a,{className:a.root,elevation:1},i.a.createElement(wt.a,{margin:"normal",className:a.FormControlOdd},i.a.createElement(he.a,{fullWidth:!0,id:"newVersion",error:p.version.empty||p.version.alreadyExists,label:i.a.createElement(d.a,{id:"Apis.Details.NewVersion.NewVersion.new.version",defaultMessage:"New Version"}),helperText:i.a.createElement(d.a,{id:"Apis.Details.NewVersion.NewVersion.helper.text",defaultMessage:"{helper}",values:{helper:m}}),type:"text",name:"newVersion",placeholder:"Eg: 2.0.0",value:s,onChange:this.handleVersionChange(),margin:"normal",InputLabelProps:{shrink:!0},autoFocus:!0})),i.a.createElement(wt.a,{margin:"normal",className:a.FormControl},i.a.createElement(Ct.a,{className:a.FormLabel,component:"legend"},i.a.createElement(d.a,{id:"Apis.Details.NewVersion.NewVersion.default",defaultMessage:"Make this the default version"}),i.a.createElement(No.a,{placement:"top",classes:{tooltip:a.htmlTooltip},disableHoverListener:!0,title:i.a.createElement(i.a.Fragment,null,i.a.createElement(d.a,{id:"Apis.Details.NewVersion.NewVersion.tooltip",defaultMessage:"Marks one API version in a group as the default so that it can be invoked without specifying the version number in the URL. For example, if you mark http://host:port/youtube/2.0 as the default API, requests made to http://host:port/youtube/ are automatically routed to version 2.0. If you mark an unpublished API as the default, the previous default published API will still be used as the default until the new default API is published."}))},i.a.createElement(ue.a,{className:a.helpButton},i.a.createElement(qo.a,{className:a.helpIcon})))),i.a.createElement(vt.a,{name:"isDefaultVersion",id:"isDefaultVersion",className:a.group,value:o,onChange:this.handleDefaultVersionChange()},i.a.createElement(Et.a,{value:"yes",control:i.a.createElement(bt.a,null),label:"Yes"}),i.a.createElement(Et.a,{value:"no",control:i.a.createElement(bt.a,null),label:"No"})),i.a.createElement(Ht.a,null,i.a.createElement(d.a,{id:"Apis.Details.NewVersion.NewVersion.api.helper",defaultMessage:"Indicate whether API should be the default version among the group of APIs with the same name"})))),i.a.createElement("div",{className:a.buttonWrapper},i.a.createElement(ce.a,{container:!0,direction:"row",alignItems:"flex-start",spacing:4,className:a.buttonSection},i.a.createElement(ce.a,{item:!0},i.a.createElement("div",null,i.a.createElement(ue.a,{variant:"contained",color:"primary",id:"createBtn",onClick:function(){return e.handleSubmit(n,s,o)}},i.a.createElement(d.a,{id:"Apis.Details.NewVersion.NewVersion.create",defaultMessage:"Create"})))),i.a.createElement(ce.a,{item:!0},i.a.createElement(pe.b,{to:"/apis/"+n.id+"/overview"},i.a.createElement(ue.a,{id:"cancelBtn"},i.a.createElement(d.a,{id:"Apis.Details.NewVersion.NewVersion.cancel",defaultMessage:"Cancel"})))))))))}}])&&Dy(a.prototype,n),r&&Dy(a,r),t}();Ny.propTypes={classes:o.a.shape({}).isRequired,api:o.a.shape({id:o.a.string}).isRequired,intl:o.a.shape({formatMessage:o.a.func}).isRequired};var Ly=no(Object(b.a)(function(e){return{FormControl:{padding:0,width:"100%",marginTop:20},FormControlOdd:{padding:0,backgroundColor:e.palette.background.paper,width:"100%",marginTop:0},FormLabel:{transform:"translate(0, 1.5px) scale(0.75)",transformOrigin:"top left"},buttonWrapper:{paddingTop:20},root:{padding:20,marginTop:20},group:{flexDirection:"row"},helpButton:{padding:0,minWidth:20},helpIcon:{fontSize:16},htmlTooltip:{backgroundColor:"#f5f5f9",color:"rgba(0, 0, 0, 0.87)",maxWidth:220,fontSize:e.typography.pxToRem(14),border:"1px solid #dadde9","& b":{fontWeight:e.typography.fontWeightMedium}}}})(Ny));function qy(e){return(qy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,i=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){i=!0,r=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw r}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Fy(e){return(Fy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function By(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zy(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Uy(e,t,a){return t&&zy(e.prototype,t),a&&zy(e,a),e}function Vy(e,t){return(Vy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Gy=function(e){function t(e){var a,n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this;return(a=!(i=Fy(t).call(this,e))||"object"!==qy(i)&&"function"!=typeof i?By(n):i).state={api:null,apiNotFound:!1,isAPIProduct:null},a.setAPI=a.setAPI.bind(By(a)),a.setAPIProduct=a.setAPIProduct.bind(By(a)),a.updateAPI=a.updateAPI.bind(By(a)),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vy(e,t)}(t,n["Component"]),Uy(t,null,[{key:"isValidURL",value:function(e){for(var a=0,n=Object.entries(t.subPaths);a<n.length;a++){var i=Wy(n[a],2),r=i[0],o=i[1];if("BASE"!==r){var s=Object(l.matchPath)(e,o);if(s)return s}}return!1}}]),Uy(t,[{key:"componentDidMount",value:function(){var e=this.props,a=e.location.pathname,n=e.isAPIProduct;t.isValidURL(a)&&(n?this.setAPIProduct():this.setAPI())}},{key:"componentDidUpdate",value:function(){var e=this.state.api,t=this.props.match.params.apiUUID,a=this.props.match.params.apiProdUUID,n=this.props.isAPIProduct.isAPIProduct;e&&e.id!==t&&e.id!==a&&(n?this.setAPIProduct():this.setAPI())}},{key:"setAPI",value:function(e){var t=this;if(e)this.setState({api:e});else{var a=this.props.match.params.apiUUID;_.get(a).then(function(e){t.setState({api:e})}).catch(function(e){var a=e.status;404===a?t.setState({apiNotFound:!0}):401===a&&Jr()})}}},{key:"setAPIProduct",value:function(){var e=this,t=this.props.match.params.apiProdUUID,a=this.props.isAPIProduct;ze.get(t).then(function(t){e.setState({isAPIProduct:a}),e.setState({api:t})}).catch(function(t){404===t.status&&e.setState({apiNotFound:!0})})}},{key:"getLeftMenuItemForAPIType",value:function(e){var t=this.state.isAPIProduct,a=this.props,n=a.intl,r=a.match,o="/"+(t?"api-products":"apis")+"/"+(r.params.apiUUID||r.params.api_uuid||r.params.apiProdUUID)+"/";switch(e){case"GRAPHQL":return i.a.createElement(i.a.Fragment,null,i.a.createElement(Br,{text:n.formatMessage({id:"Apis.Details.index.schema.definition",defaultMessage:"Schema Definition"}),to:o+"schema definition",Icon:i.a.createElement(xr.a,null)}),i.a.createElement(Br,{text:n.formatMessage({id:"Apis.Details.index.operations",defaultMessage:"operations"}),to:o+"operations",Icon:i.a.createElement(vr.a,null)}));default:return i.a.createElement(i.a.Fragment,null,i.a.createElement(Br,{text:n.formatMessage({id:"Apis.Details.index.api.definition",defaultMessage:"api definition"}),to:o+"api definition",Icon:i.a.createElement(xr.a,null)}),i.a.createElement(Br,{text:n.formatMessage({id:"Apis.Details.index.resources",defaultMessage:"resources"}),to:o+"resources",Icon:i.a.createElement(vr.a,null)}))}}},{key:"updateAPI",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=this.state.api,n=!1;return"APIProduct"===a.apiType&&(n=!0),(Lr()(t)?_.get(a.id):a.update(t)).then(function(t){return n?(se.info("".concat(t.body.name," API updated successfully")),e.setState({api:t.body}),t.body):(se.info("".concat(t.name," API updated successfully")),e.setState({api:t}),t)}).catch(function(t){throw console.error(t),se.error("Something went wrong while updating the ".concat(a.name," API!!")),e.setState({api:a}),t})}},{key:"render",value:function(){var e=this,a=this.state,n=a.api,r=a.apiNotFound,o=a.isAPIProduct,s=this.props,c=s.classes,u=s.theme,p=s.match,m=s.intl,h=s.location,g=s.location.pathname,b=this.context.settings;if(!t.isValidURL(g))return i.a.createElement(f,{location:h});var v="/"+(o?"api-products":"apis")+"/"+(p.params.apiUUID||p.params.api_uuid||p.params.apiProdUUID)+"/",w=v;if(r){var C=p.params.apiUUID,P=Object(d.c)({titleMessage:{id:"Apis.Details.index.api.not.found.title",defaultMessage:"API is Not Found in the {environmentLabel} Environment"},bodyMessage:{id:"Apis.Details.index.api.not.found.body",defaultMessage:"Can't find the API with the id {uuid}"}}),S={title:m.formatMessage(P.titleMessage,{environmentLabel:"".concat(E.a.getCurrentEnvironment().label)}),body:m.formatMessage(P.bodyMessage,{apiUUID:"".concat(C)})};return i.a.createElement(y,{message:S})}if(!n)return i.a.createElement(Kn.a,null);var A=u.custom.leftMenuIconMainSize;return i.a.createElement(i.a.Fragment,null,i.a.createElement(ao,{value:{api:n,updateAPI:this.updateAPI,isAPIProduct:o,setAPI:this.setAPI}},i.a.createElement("div",{className:c.LeftMenu},i.a.createElement(pe.b,{to:"/"+(o?"api-products":"apis")+"/"},i.a.createElement("div",{className:c.leftLInkMain},i.a.createElement(rt,{width:A,height:A,icon:o?"api-product":"api"}))),i.a.createElement(Br,{text:m.formatMessage({id:"Apis.Details.index.overview",defaultMessage:"overview"}),to:v+"overview"}),i.a.createElement(Br,{text:m.formatMessage({id:"Apis.Details.index.configuration",defaultMessage:"configuration"}),to:v+"configuration",Icon:i.a.createElement(Tr.a,null)}),!o&&i.a.createElement(Br,{text:m.formatMessage({id:"Apis.Details.index.endpoints",defaultMessage:"endpoints"}),to:v+"endpoints",Icon:i.a.createElement(hr.a,null)}),!o&&i.a.createElement(Br,{text:m.formatMessage({id:"Apis.Details.index.environments",defaultMessage:"environments"}),to:v+"environments",Icon:i.a.createElement(yr.a,null)}),this.getLeftMenuItemForAPIType(n.type),!o&&i.a.createElement(Br,{text:m.formatMessage({id:"Apis.Details.index.lifecycle",defaultMessage:"lifecycle"}),to:v+"lifecycle",Icon:i.a.createElement(mr.a,null)}),i.a.createElement(Br,{text:m.formatMessage({id:"Apis.Details.index.left.menu.scope",defaultMessage:"scopes"}),to:v+"scopes",Icon:i.a.createElement(wr.a,null)}),i.a.createElement(Br,{text:m.formatMessage({id:"Apis.Details.index.documents",defaultMessage:"documents"}),to:v+"documents",Icon:i.a.createElement(Pr.a,null)}),i.a.createElement(Br,{text:m.formatMessage({id:"Apis.Details.index.business.info",defaultMessage:"business info"}),to:v+"business info",Icon:i.a.createElement(Ar.a,null)}),i.a.createElement(Br,{text:m.formatMessage({id:"Apis.Details.index.properties",defaultMessage:"properties"}),to:v+"properties",Icon:i.a.createElement($i.a,null)}),i.a.createElement(Br,{text:m.formatMessage({id:"Apis.Details.index.subscriptions",defaultMessage:"subscriptions"}),to:v+"subscriptions",Icon:i.a.createElement(Dr.a,null)}),i.a.createElement(Br,{text:m.formatMessage({id:"Apis.Details.index.left.menu.mediation.policy",defaultMessage:"Mediation Policies"}),to:v+"mediation policies",Icon:i.a.createElement(wr.a,null)}),!o&&i.a.createElement(Br,{text:m.formatMessage({id:"Apis.Details.index.monetization",defaultMessage:"monetization"}),to:v+"monetization",Icon:i.a.createElement(Mr.a,null)}),b.externalStoresEnabled&&i.a.createElement(Br,{text:m.formatMessage({id:"Apis.Details.index.external-stores",defaultMessage:"external stores"}),to:v+"external-stores",Icon:i.a.createElement(jr.a,null)})),i.a.createElement("div",{className:c.content},i.a.createElement(og,{api:n,isAPIProduct:o}),i.a.createElement("div",{className:c.contentInside},i.a.createElement(l.Switch,null,i.a.createElement(l.Redirect,{exact:!0,from:t.subPaths.BASE,to:w}),i.a.createElement(l.Route,{path:t.subPaths.OVERVIEW_PRODUCT,component:function(){return i.a.createElement($o,{api:n})}}),i.a.createElement(l.Route,{path:t.subPaths.OVERVIEW,component:function(){return i.a.createElement($o,{api:n})}}),i.a.createElement(l.Route,{path:t.subPaths.API_DEFINITION,component:function(){return i.a.createElement(Zh,{api:n})}}),i.a.createElement(l.Route,{path:t.subPaths.API_DEFINITION_PRODUCT,component:function(){return i.a.createElement(Zh,{api:n})}}),i.a.createElement(l.Route,{path:t.subPaths.SCHEMA_DEFINITION,component:function(){return i.a.createElement(Zh,{api:n})}}),i.a.createElement(l.Route,{path:t.subPaths.LIFE_CYCLE,component:function(){return i.a.createElement(Ds,{api:n})}}),i.a.createElement(l.Route,{path:t.subPaths.CONFIGURATION,component:function(){return i.a.createElement(ns,{api:n})}}),i.a.createElement(l.Route,{path:t.subPaths.CONFIGURATION_PRODUCT,component:function(){return i.a.createElement(ns,{api:n})}}),i.a.createElement(l.Route,{path:t.subPaths.ENDPOINTS,component:function(){return i.a.createElement(Id,{api:n})}}),i.a.createElement(l.Route,{path:t.subPaths.ENVIRONMENTS,component:function(){return i.a.createElement(Dd,{api:n})}}),i.a.createElement(l.Route,{path:t.subPaths.OPERATIONS,component:function(){return i.a.createElement(nu,{api:n})}}),i.a.createElement(l.Route,{exact:!0,path:t.subPaths.RESOURCES_PRODUCT,component:function(){return i.a.createElement(lp,{api:n})}}),i.a.createElement(l.Route,{path:t.subPaths.RESOURCES_PRODUCT_EDIT,component:function(){return i.a.createElement(yp,null)}}),i.a.createElement(l.Route,{path:t.subPaths.RESOURCES,component:function(){return i.a.createElement(ep,{api:n})}}),i.a.createElement(l.Route,{path:t.subPaths.SCOPES,component:function(){return i.a.createElement(fh,{api:n})}}),i.a.createElement(l.Route,{path:t.subPaths.SCOPES_PRODUCT,component:function(){return i.a.createElement(fh,{api:n})}}),i.a.createElement(l.Route,{path:t.subPaths.DOCUMENTS,component:function(){return i.a.createElement(Fc,{api:n})}}),i.a.createElement(l.Route,{path:t.subPaths.DOCUMENTS_PRODUCT,component:function(){return i.a.createElement(Fc,{api:n})}}),i.a.createElement(l.Route,{path:t.subPaths.SUBSCRIPTIONS,component:function(){return i.a.createElement(Nm,{api:n,updateAPI:e.updateAPI})}}),i.a.createElement(l.Route,{path:t.subPaths.SECURITY,component:function(){return i.a.createElement(Dh,{api:n})}}),i.a.createElement(l.Route,{path:t.subPaths.COMMENTS,component:function(){return i.a.createElement(jf,{api:n})}}),i.a.createElement(l.Route,{path:t.subPaths.BUSINESS_INFO,component:function(){return i.a.createElement(Qg,{api:n})}}),i.a.createElement(l.Route,{path:t.subPaths.BUSINESS_INFO_PRODUCT,component:function(){return i.a.createElement(Qg,{api:n})}}),i.a.createElement(l.Route,{path:t.subPaths.PROPERTIES,component:function(){return i.a.createElement(sy,{api:n})}}),i.a.createElement(l.Route,{path:t.subPaths.PROPERTIES_PRODUCT,component:function(){return i.a.createElement(sy,{api:n})}}),i.a.createElement(l.Route,{path:t.subPaths.NEW_VERSION,component:function(){return i.a.createElement(Ly,null)}}),i.a.createElement(l.Route,{path:t.subPaths.SUBSCRIPTIONS,component:function(){return i.a.createElement(Nm,null)}}),i.a.createElement(l.Route,{path:t.subPaths.MONETIZATION,component:function(){return i.a.createElement(Sy,{api:n})}}),i.a.createElement(l.Route,{path:t.subPaths.EXTERNAL_STORES,component:Ty}),i.a.createElement(l.Route,{path:t.subPaths.MEDIATION_POLICIES,component:function(){return i.a.createElement(Bg,{api:n})}}))))))}}]),t}();Gy.contextType=Xr,Gy.subPaths={BASE:"/apis/:api_uuid",BASE_PRODUCT:"/api-products/:apiprod_uuid",OVERVIEW:"/apis/:api_uuid/overview",OVERVIEW_PRODUCT:"/api-products/:apiprod_uuid/overview",API_DEFINITION:"/apis/:api_uuid/api definition",API_DEFINITION_PRODUCT:"/api-products/:apiprod_uuid/api definition",SCHEMA_DEFINITION:"/apis/:api_uuid/schema definition",LIFE_CYCLE:"/apis/:api_uuid/lifecycle",CONFIGURATION:"/apis/:api_uuid/configuration",CONFIGURATION_PRODUCT:"/api-products/:apiprod_uuid/configuration",ENDPOINTS:"/apis/:api_uuid/endpoints",ENVIRONMENTS:"/apis/:api_uuid/environments",OPERATIONS:"/apis/:api_uuid/operations",RESOURCES:"/apis/:api_uuid/resources",RESOURCES_PRODUCT:"/api-products/:apiprod_uuid/resources",RESOURCES_PRODUCT_EDIT:"/api-products/:apiprod_uuid/resources/edit",SCOPES:"/apis/:api_uuid/scopes",SCOPES_PRODUCT:"/api-products/:apiprod_uuid/scopes",DOCUMENTS:"/apis/:api_uuid/documents",DOCUMENTS_PRODUCT:"/api-products/:apiprod_uuid/documents",SUBSCRIPTIONS:"/apis/:api_uuid/subscriptions",SECURITY:"/apis/:api_uuid/security",COMMENTS:"/apis/:api_uuid/comments",BUSINESS_INFO:"/apis/:api_uuid/business info",BUSINESS_INFO_PRODUCT:"/api-products/:apiprod_uuid/business info",PROPERTIES:"/apis/:api_uuid/properties",PROPERTIES_PRODUCT:"/api-products/:apiprod_uuid/properties",NEW_VERSION:"/apis/:api_uuid/new_version",MONETIZATION:"/apis/:api_uuid/monetization",MEDIATION_POLICIES:"/apis/:api_uuid/Mediation Policies",EXTERNAL_STORES:"/apis/:api_uuid/external-stores"},Object.freeze(Gy.paths),Gy.propTypes={classes:o.a.shape({LeftMenu:o.a.string,content:o.a.string,leftLInkMain:o.a.string,contentInside:o.a.string}).isRequired,match:o.a.shape({params:o.a.object}).isRequired,location:o.a.shape({pathname:o.a.object}).isRequired,history:o.a.shape({push:o.a.object}).isRequired,theme:o.a.shape({custom:o.a.shape({leftMenuIconMainSize:o.a.number})}).isRequired,isAPIProduct:o.a.bool.isRequired,intl:o.a.shape({formatMessage:o.a.func}).isRequired};var Hy=Object(d.d)(Object(b.a)(function(e){return{LeftMenu:{backgroundColor:e.palette.background.leftMenu,width:e.custom.leftMenuWidth,textAlign:"center",fontFamily:e.typography.fontFamily,position:"absolute",bottom:0,left:0,top:0,overflowY:"auto"},leftLInkMain:{borderRight:"solid 1px "+e.palette.background.leftMenu,paddingBottom:e.spacing.unit,paddingTop:e.spacing.unit,cursor:"pointer",backgroundColor:e.palette.background.leftMenuActive,color:e.palette.getContrastText(e.palette.background.leftMenuActive),textDecoration:"none"},detailsContent:{display:"flex",flex:1},content:{display:"flex",flex:1,flexDirection:"column",marginLeft:e.custom.leftMenuWidth,paddingBottom:3*e.spacing.unit},contentInside:{paddingLeft:3*e.spacing.unit,paddingRight:3*e.spacing.unit,paddingTop:2*e.spacing.unit}}},{withTheme:!0})(Gy));function Ky(){return(Ky=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var Jy=function(){return i.a.createElement(l.Switch,null,i.a.createElement(l.Route,{exact:!0,path:"/apis",render:function(e){return i.a.createElement(pr,Ky({},e,{isAPIProduct:!1}))}}),i.a.createElement(l.Route,{exact:!0,path:"/api-products",render:function(e){return i.a.createElement(pr,Ky({},e,{isAPIProduct:!0}))}}),i.a.createElement(l.Route,{path:"/apis/search",render:function(e){return i.a.createElement(pr,Ky({},e,{isAPIProduct:!1}))}}),i.a.createElement(l.Route,{path:"/apis/create",component:da}),i.a.createElement(l.Route,{path:"/api-products/create",component:da}),i.a.createElement(l.Route,{path:"/apis/:apiUUID/",render:function(e){return i.a.createElement(Hy,Ky({},e,{isAPIProduct:!1}))}}),i.a.createElement(l.Route,{path:"/api-products/:apiProdUUID/",render:function(e){return i.a.createElement(Hy,Ky({},e,{isAPIProduct:!0}))}}))};function Qy(e){var t=e.classes;return i.a.createElement("footer",{className:t.footer},i.a.createElement(h.a,{noWrap:!0},i.a.createElement(d.a,{id:"Base.Footer.Footer.product_details",defaultMessage:"WSO2 APIM v3.0.0 | © 2019 WSO2 Inc"})))}Qy.propTypes={classes:o.a.shape({}).isRequired};var Yy=Object(b.a)(function(e){return{footer:{backgroundColor:e.palette.grey.A100,paddingLeft:3*e.spacing.unit,height:50,alignItems:"center",display:"flex"}}})(Qy);function $y(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Zy=function(e){var t=e.classes,a=e.children,r=e.header;return i.a.createElement(n.Fragment,null,i.a.createElement("div",{className:t.wrapper},r,i.a.createElement("div",{className:t.contentWrapper},a),i.a.createElement("div",{className:t.push})),i.a.createElement(Yy,null))};Zy.propTypes={classes:o.a.shape({}).isRequired,children:o.a.element.isRequired,header:o.a.element.isRequired};var Xy=Object(b.a)(function(e){var t;return{appBar:{position:"relative",background:e.palette.background.appBar},icon:{marginRight:2*e.spacing.unit},menuIcon:{color:e.palette.getContrastText(e.palette.background.appBar),fontSize:35},userLink:{color:e.palette.getContrastText(e.palette.background.appBar)},drawer:{top:64},wrapper:{minHeight:"100%",marginBottom:-50,background:"#d3d3d326"},contentWrapper:{display:"flex",flexDirection:"row",position:"relative",minHeight:"calc(100vh - 114px)"},push:{height:50},footer:{backgroundColor:e.palette.grey.A100,paddingLeft:3*e.spacing.unit,height:50,alignItems:"center",display:"flex"},toolbar:(t={minHeight:56},$y(t,"".concat(e.breakpoints.up("xs")," and (orientation: landscape)"),{minHeight:48}),$y(t,e.breakpoints.up("sm"),{minHeight:64}),t)}})(Zy),eb=a(939),tb=a(938),ab=a(1924),nb=a.n(ab),ib=a(1207),rb=a.n(ib),ob=a(1299),lb=a(941),sb=a(906),cb=a(1908),ub=a.n(cb);function pb(e){return(pb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function db(){return(db=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function mb(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function fb(e){return(fb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gb(e,t){return(gb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var yb=function(e){function t(e){var a,n,i,r,o,l;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,a=!(i=fb(t).call(this,e))||"object"!==pb(i)&&"function"!=typeof i?hb(n):i,r=hb(a),l=function(e){e.preventDefault(),window.location="/publisher-new/services/logout"},(o="doOIDCLogout")in r?Object.defineProperty(r,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):r[o]=l,a.state={openMenu:!1,profileIcon:null},a.toggleMenu=a.toggleMenu.bind(hb(a)),a}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gb(e,t)}(t,n["Component"]),a=t,(r=[{key:"toggleMenu",value:function(e){this.setState({openMenu:!this.state.openMenu,profileIcon:e.currentTarget})}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.user,r=this.state,o=r.openMenu,l=r.profileIcon;return i.a.createElement(i.a.Fragment,null,i.a.createElement(K.a,{id:"profile-menu-btn","aria-owns":"profile-menu-appbar","aria-haspopup":"true",color:"inherit",onClick:this.toggleMenu,className:a.userLink},i.a.createElement(ub.a,{className:a.accountIcon})," ",n.name),i.a.createElement(hi.a,{className:a.profileMenu,open:o,anchorEl:l,transition:!0},function(t){var a=t.TransitionProps;return i.a.createElement(lb.a,db({in:o},a,{id:"profile-menu-appbar"}),i.a.createElement(me.a,null,i.a.createElement(mi.a,{onClickAway:e.toggleMenu},i.a.createElement(sb.a,null,i.a.createElement(pe.b,{to:{pathname:"/services/logout"}},i.a.createElement(Pe.a,{onClick:e.doOIDCLogout,id:"logout"},i.a.createElement(d.a,{id:"Base.Header.avatar.Avatar.logout",defaultMessage:"Logout"})))))))}))}}])&&mb(a.prototype,r),o&&mb(a,o),t}();yb.propTypes={classes:o.a.shape({userLink:o.a.string,profileMenu:o.a.string,accountIcon:o.a.string}).isRequired,user:o.a.shape({name:o.a.string.isRequired}).isRequired};var bb=Object(b.a)(function(e){return{profileMenu:{zIndex:e.zIndex.modal+1,paddingTop:"5px"},userLink:{color:e.palette.getContrastText(e.palette.background.appBar),fontSize:e.typography.fontSize,textTransform:"uppercase"},accountIcon:{marginRight:10}}})(yb),vb=a(1909),Eb=a.n(vb),wb=a(1921),Cb=a.n(wb),Pb=a(1923),Sb=a.n(Pb);function Ab(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){Ob(e,t,a[t])})}return e}function Ob(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function xb(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}function Ib(e){var t=e.classes,a=e.ref,n=(e.isLoading,e.onChange),r=xb(e,["classes","ref","isLoading","onChange"]);return i.a.createElement(he.a,{id:"searchQuery",InputProps:Ab({inputRef:a,className:t.input,classes:{focused:t.inputFocused},startAdornment:i.a.createElement(Pt.a,{position:"start"},i.a.createElement(rb.a,null)),onChange:n},r)})}function Tb(e,t){var a=t.query,n=t.isHighlighted,r=Cb()(e.name,a),o=Sb()(e.name,r),l=function(e){switch(e.type){case"API":return"/apis/".concat(e.id,"/overview");case"APIPRODUCT":return"/api-products/".concat(e.id,"/overview");default:return"API"===e.associatedType?"/apis/".concat(e.apiUUID,"/documents/").concat(e.id,"/details"):"/api-products/".concat(e.apiUUID,"/documents/").concat(e.id,"/details")}}(e),s=function(e){switch(e.type){case"API":return e.version;case"APIPRODUCT":return"";default:return e.apiName+" "+e.apiVersion}}(e);return i.a.createElement(i.a.Fragment,null,i.a.createElement(pe.b,{to:l,style:{color:"black"}},i.a.createElement(Pe.a,{selected:n},i.a.createElement(sp.a,null,function(e){switch(e){case"API":return i.a.createElement(va.a,{style:{fontSize:30}},"settings_applications");case"APIPRODUCT":return i.a.createElement(rt,{width:16,height:16,icon:"api-product",strokeColor:"#000000"});default:return i.a.createElement(va.a,{style:{fontSize:30}},"library_books")}}(e.type)),i.a.createElement(Se.a,{primary:o.map(function(e,t){return e.highlight?i.a.createElement("span",{key:String(t),style:{fontWeight:500}},e.text):i.a.createElement("strong",{key:String(t),style:{fontWeight:300}},e.text)}),secondary:s}))),i.a.createElement(pi.a,null))}function kb(e){return e.name}function Db(e){var t=e.trim().toLowerCase();return up.parse(t)}function _b(e){return(_b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mb(){return(Mb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Rb(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function jb(e){return(jb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lb(e,t){return(Lb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var qb=function(e){function t(e){var a,n,i,r,o,l;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,a=!(i=jb(t).call(this,e))||"object"!==_b(i)&&"function"!=typeof i?Nb(n):i,r=Nb(a),l=!1,(o="suggestionSelected")in r?Object.defineProperty(r,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):r[o]=l,a.state={searchText:"",suggestions:[],isLoading:!1},a.handleSuggestionsFetchRequested=a.handleSuggestionsFetchRequested.bind(Nb(a)),a.handleSuggestionsClearRequested=a.handleSuggestionsClearRequested.bind(Nb(a)),a.handleChange=a.handleChange.bind(Nb(a)),a.onKeyDown=a.onKeyDown.bind(Nb(a)),a.clearOnBlur=a.clearOnBlur.bind(Nb(a)),a.renderSuggestionsContainer=a.renderSuggestionsContainer.bind(Nb(a)),a.onSuggestionSelected=a.onSuggestionSelected.bind(Nb(a)),a}var a,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lb(e,t)}(t,i.a.Component),a=t,(n=[{key:"onSuggestionSelected",value:function(e,t){var a=t.suggestion;if(this.suggestionSelected=!0,"Enter"===e.key){var n="API"===a.type?"/apis/".concat(a.id,"/overview"):"/apis/".concat(a.apiUUID,"/documents/").concat(a.id,"/details");this.props.history.push(n)}}},{key:"onKeyDown",value:function(e){"Enter"!==e.key||this.suggestionSelected||this.props.history.push("/apis/search?query="+Db(e.target.value));this.suggestionSelected=!1}},{key:"handleChange",value:function(e,t){var a=t.newValue;this.setState({searchText:a})}},{key:"handleSuggestionsFetchRequested",value:function(e){var t=this,a=e.value;this.setState({isLoading:!0}),function(e){var t=Db(e);return 0!==e.trim().length&&t?_.search({query:t,limit:8}):new Promise(function(e){return e({obj:{list:[]}})})}(a).then(function(e){t.setState({isLoading:!1,suggestions:e.obj.list})})}},{key:"handleSuggestionsClearRequested",value:function(){this.setState({suggestions:[]})}},{key:"clearOnBlur",value:function(){var e=this.props,t=e.smSearch,a=e.toggleSmSearch;t?a():this.setState({searchText:""})}},{key:"renderSuggestionsContainer",value:function(e){var t=e.containerProps,a=e.children,n=this.state.isLoading,r=this.props.classes;return n?i.a.createElement(de.a,{size:24,className:r.buttonProgress}):i.a.createElement(me.a,Mb({},t,{square:!0}),a)}},{key:"render",value:function(){var e=this.props.intl,t=this.props,a=t.classes,n=t.smSearch,r=this.state,o=r.searchText,l=r.isLoading,s=!1,c=a.container;return n&&(s=!0,c=a.smContainer),i.a.createElement(Eb.a,{theme:{container:c,suggestionsContainerOpen:a.suggestionsContainerOpen,suggestionsList:a.suggestionsList,suggestion:a.suggestion},suggestions:this.state.suggestions,renderInputComponent:Ib,onSuggestionsFetchRequested:this.handleSuggestionsFetchRequested,onSuggestionsClearRequested:this.handleSuggestionsClearRequested,getSuggestionValue:kb,renderSuggestion:Tb,renderSuggestionsContainer:this.renderSuggestionsContainer,onSuggestionSelected:this.onSuggestionSelected,inputProps:{autoFocus:s,classes:a,placeholder:e.formatMessage({id:"Base.Header.headersearch.HeaderSearch.search_api.tooltip",defaultMessage:"Search APIs"}),value:o,onChange:this.handleChange,onKeyDown:this.onKeyDown,onBlur:this.clearOnBlur,isLoading:l}})}}])&&Rb(a.prototype,n),r&&Rb(a,r),t}();qb.defaultProps={smSearch:!1,toggleSmSearch:void 0},qb.propTypes={classes:o.a.shape({}).isRequired,smSearch:o.a.bool,toggleSmSearch:o.a.func,history:o.a.shape({push:o.a.func}).isRequired,intl:o.a.shape({formatMessage:o.a.func}).isRequired};var Wb=Object(d.d)(Object(l.withRouter)(Object(b.a)(function(e){return{container:{flexGrow:2},smContainer:{position:"absolute"},suggestionsContainerOpen:{display:"block",position:"absolute",width:"415px",zIndex:e.zIndex.modal+1},suggestion:{display:"block"},suggestionsList:{margin:0,padding:0,listStyleType:"none"},input:{width:"300px",background:e.palette.getContrastText(e.palette.background.appBar),"-webkit-transition":"all .35s ease-in-out",transition:"all .35s ease-in-out",padding:"5px 5px 5px 5px"},inputFocused:{width:"400px",background:e.palette.getContrastText(e.palette.background.appBar),padding:"5px 5px 5px 5px"},searchBox:{padding:"5px 5px 5px 5px"},buttonProgress:{color:e.palette.secondary.main,marginLeft:-50}}})(qb))),Fb=a(676);function Bb(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function zb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,i=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){i=!0,r=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw r}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Ub(e){var t,a,r,o,l=zb(Object(n.useState)("apis"),2),s=l[0],c=l[1],u=e.classes,p=e.theme,m=e.smallView,f=e.history,h=function(e){var t=e.pathname;/\/apis$/g.test(t)||/\/apis\//g.test(t)?c("apis"):(/\/api-products$/g.test(t)||/\/api-products\//g.test(t))&&c("api-products")};Object(n.useEffect)(function(){var e=f.location;h(e)},[]),f.listen(function(e){h(e)});var g=p.palette.getContrastText(p.palette.background.leftMenu),y=32;return m&&(y=16,g=p.palette.getContrastText(p.palette.background.appBar)),i.a.createElement(ci.a,{className:u.listRoot},i.a.createElement(pe.b,{to:"/apis",className:Vn()((t={},Bb(t,u.selected,"apis"===s),Bb(t,u.links,!0),t))},i.a.createElement(ui.a,{button:!0},i.a.createElement(sp.a,{classes:{root:Vn()(Bb({},u.smallIcon,m))}},i.a.createElement(rt,{width:y,height:y,icon:"api",strokeColor:g})),i.a.createElement(Se.a,{classes:{primary:Vn()((a={},Bb(a,u.selectedText,"apis"===s),Bb(a,u.listText,"apis"!==s&&!m),Bb(a,u.listTextSmall,"apis"!==s&&m),a))},primary:i.a.createElement(d.a,{id:"Base.Header.navbar.GlobalNavBar.apis",defaultMessage:"APIs"})}))),i.a.createElement(pe.b,{to:"/api-products",className:Vn()((r={},Bb(r,u.selected,"api-products"===s),Bb(r,u.links,!0),r))},i.a.createElement(ui.a,{button:!0},i.a.createElement(sp.a,{classes:{root:Vn()(Bb({},u.smallIcon,m))}},i.a.createElement(rt,{width:y,height:y,icon:"api-product",strokeColor:g})),i.a.createElement(Se.a,{classes:{primary:Vn()((o={},Bb(o,u.selectedText,"api-products"===s),Bb(o,u.listText,"api-products"!==s&&!m),Bb(o,u.listTextSmall,"api-products"!==s&&m),o))},primary:i.a.createElement(d.a,{id:"Base.Header.navbar.GlobalNavBar.api.products",defaultMessage:"API Products"})}))))}Ub.propTypes={classes:o.a.shape({drawerStyles:o.a.string,list:o.a.string,listText:o.a.string}).isRequired,theme:o.a.shape({palette:o.a.shape({getContrastText:o.a.func,background:o.a.shape({drawer:o.a.string,leftMenu:o.a.string})})}).isRequired,history:o.a.func.isRequired,smallView:o.a.bool.isRequired};var Vb=Object(l.withRouter)(Object(b.a)(function(e){return{listRoot:{padding:0},listText:{color:e.palette.getContrastText(e.palette.background.drawer)},listTextSmall:{color:e.palette.getContrastText(e.palette.background.appBar)},smallIcon:{marginRight:5,minWidth:"auto"},links:{display:"flex",height:63},selected:{background:e.palette.background.activeMenuItem,alignItems:"center",textDecoration:"none",color:e.palette.getContrastText(e.palette.background.activeMenuItem)},selectedText:{color:e.palette.getContrastText(e.palette.background.activeMenuItem)}}},{withTheme:!0})(Ub));function Gb(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Hb=function(e){var t=e.open,a=e.toggleGlobalNavBar,n=e.classes,r={style:{top:64}},o={style:{backgroundColor:e.theme.palette.background.drawer,top:64}};return i.a.createElement(i.a.Fragment,null,i.a.createElement(ob.a,{smDown:!0},i.a.createElement(nt,{height:32}),i.a.createElement("div",{className:n.listInline},i.a.createElement(Vb,{smallView:!0}))),i.a.createElement(ob.a,{mdUp:!0},i.a.createElement(Fb.a,{className:n.drawerStyles,PaperProps:o,SlideProps:r,ModalProps:r,BackdropProps:r,open:t,onClose:a},i.a.createElement("div",{tabIndex:0,role:"button",onClick:a,onKeyDown:a},i.a.createElement("div",{className:n.list})),i.a.createElement("div",{tabIndex:0,role:"button",onClick:a,onKeyDown:a},i.a.createElement("div",{className:n.list},i.a.createElement(Vb,{smallView:!1}))))))};Hb.propTypes={open:o.a.bool.isRequired,toggleGlobalNavBar:o.a.func.isRequired,classes:o.a.shape({drawerStyles:o.a.string,list:o.a.string,listText:o.a.string}).isRequired,theme:o.a.shape({palette:o.a.shape({getContrastText:o.a.func,background:o.a.shape({drawer:o.a.string,leftMenu:o.a.string})})}).isRequired};var Kb=Object(b.a)(function(e){var t;return{list:{width:e.custom.drawerWidth},drawerStyles:(t={top:56},Gb(t,"".concat(e.breakpoints.up("xs")," and (orientation: landscape)"),{top:48}),Gb(t,e.breakpoints.up("sm"),{top:64}),t),listText:{color:e.palette.getContrastText(e.palette.background.drawer)},listInline:{"& ul":{display:"flex",flexDirection:"row"}}}},{withTheme:!0})(Hb);function Jb(e){return(Jb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qb(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Yb(e){return(Yb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zb(e,t){return(Zb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xb(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var ev=function(e){function t(e){var a,n,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(a=!(i=Yb(t).call(this,e))||"object"!==Jb(i)&&"function"!=typeof i?$b(n):i).state={openNavBar:!1,smScreen:!1},a.toggleGlobalNavBar=a.toggleGlobalNavBar.bind($b(a)),a.toggleSmSearch=a.toggleSmSearch.bind($b(a)),a}var a,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zb(e,t)}(t,i.a.Component),a=t,(n=[{key:"toggleGlobalNavBar",value:function(){this.setState({openNavBar:!this.state.openNavBar})}},{key:"toggleSmSearch",value:function(){this.setState({smScreen:!this.state.smScreen})}},{key:"render",value:function(){var e=this.state,t=e.openNavBar,a=e.smScreen,n=this.props,r=n.classes,o=n.avatar,l=n.theme;return i.a.createElement(i.a.Fragment,null,i.a.createElement(eb.a,{className:r.appBar,position:"fixed"},i.a.createElement(tb.a,{className:r.toolbar},i.a.createElement(ob.a,{mdUp:!0},i.a.createElement(K.a,{onClick:this.toggleGlobalNavBar},i.a.createElement(nb.a,{className:r.menuIcon}))),i.a.createElement(pe.b,{to:"/"},i.a.createElement("img",{src:l.custom.logo,alt:l.custom.title})),i.a.createElement(Kb,{toggleGlobalNavBar:this.toggleGlobalNavBar,open:t}),i.a.createElement(nt,{height:32}),i.a.createElement(ob.a,{smDown:!0},i.a.createElement(Wb,null)),i.a.createElement(ob.a,{mdUp:!0},i.a.createElement(K.a,{onClick:this.toggleSmSearch,color:"inherit"},i.a.createElement(rb.a,{className:r.menuIcon})),a&&i.a.createElement(Wb,{toggleSmSearch:this.toggleSmSearch,smSearch:a})),o)))}}])&&Qb(a.prototype,n),r&&Qb(a,r),t}();ev.defaultProps={avatar:i.a.createElement(bb,null)},ev.propTypes={classes:o.a.shape({appBar:o.a.string,menuIcon:o.a.string,toolbar:o.a.string}).isRequired,avatar:o.a.element,theme:o.a.shape({custom:o.a.shape({logo:o.a.string,title:o.a.string})}).isRequired};var tv=Object(b.a)(function(e){var t;return{appBar:{position:"relative",background:e.palette.background.appBar},typoRoot:{marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit,textTransform:"capitalize"},brandLink:{color:e.palette.primary.contrastText},toolbar:(t={minHeight:56},Xb(t,"".concat(e.breakpoints.up("xs")," and (orientation: landscape)"),{minHeight:48}),Xb(t,e.breakpoints.up("sm"),{minHeight:64}),t),menuIcon:{color:e.palette.getContrastText(e.palette.background.appBar),fontSize:35}}},{withTheme:!0})(ev);function av(e){return(av="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nv(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function iv(e,t){return!t||"object"!==av(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function rv(e){return(rv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ov(e,t){return(ov=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function lv(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var sv=function(e){function t(e){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(a=iv(this,rv(t).call(this,e))).state={hasError:!1},a}var a,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ov(e,t)}(t,i.a.Component),a=t,(n=[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0,error:e,info:t})}},{key:"render",value:function(){var e=this.state,t=e.hasError,a=e.error,n=e.info,r=this.props,o=r.children,l=r.classes,s=r.theme,c={background:"#fff8dc"};return t?i.a.createElement(i.a.Fragment,null,i.a.createElement(eb.a,{className:l.appBar,position:"fixed"},i.a.createElement(tb.a,{className:l.toolbar},i.a.createElement("div",{className:l.errorDisplay,style:{width:"100%"}},i.a.createElement("div",{className:l.errorDisplayContent},i.a.createElement("a",{href:"/publisher-new"},i.a.createElement("img",{src:s.custom.logo,alt:s.custom.title})))))),i.a.createElement("div",{className:l.errorDisplay},i.a.createElement("div",{className:l.errorDisplayContent},i.a.createElement("div",{className:l.errorTitle},i.a.createElement("img",{src:"/publisher-new/site/public/images/robo.png",alt:"OOPS"}),i.a.createElement(h.a,{variant:"h2",gutterBottom:!0},i.a.createElement(d.a,{id:"Apis.Shared.AppErrorBoundary.something.went.wrong",defaultMessage:"Something went wrong"}))),i.a.createElement("a",{href:"/publisher-new/apis/"},i.a.createElement("h3",{className:l.link},"API Listing")))),i.a.createElement("div",{className:l.errorDisplay},i.a.createElement("div",{className:l.errorDisplayContent},i.a.createElement("h3",{style:{color:"red"}},a.message),i.a.createElement("pre",{style:c},i.a.createElement("u",null,a.stack)),i.a.createElement("pre",{style:c},i.a.createElement("u",null,n.componentStack)))),i.a.createElement(Yy,null)):o}}])&&nv(a.prototype,n),r&&nv(a,r),t}();sv.propTypes={children:o.a.node.isRequired,classes:o.a.shape({appBar:o.a.string,toolbar:o.a.string,errorDisplay:o.a.string,errorDisplayContent:o.a.string,errorTitle:o.a.string,link:o.a.string}).isRequired,theme:o.a.shape({custom:o.a.shape({logo:o.a.string,title:o.a.string})}).isRequired};var cv=Object(b.a)(function(e){var t;return{appBar:{zIndex:e.zIndex.modal+1,position:"relative",background:e.palette.background.appBar},typoRoot:{marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit,textTransform:"capitalize"},brandLink:{color:e.palette.primary.contrastText},toolbar:(t={minHeight:56},lv(t,"".concat(e.breakpoints.up("xs")," and (orientation: landscape)"),{minHeight:48}),lv(t,e.breakpoints.up("sm"),{minHeight:64}),t),menuIcon:{color:e.palette.getContrastText(e.palette.background.appBar),fontSize:35},errorDisplay:{display:"flex",flexDirection:"row",justifyContent:"center"},errorDisplayContent:{width:960,display:"flex",flexDirection:"column",overflow:"auto"},errorTitle:{display:"flex",alignItems:"center",paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit,"& h2":{paddingLeft:2*e.spacing.unit}},link:{color:e.palette.getContrastText(e.palette.background.default)}}},{withTheme:!0})(sv);function uv(e){return(uv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pv(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function dv(e,t){return!t||"object"!==uv(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function mv(e){return(mv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fv(e,t){return(fv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}a.d(t,"default",function(){return yv});var hv=p()(j.a.themes.light),gv=navigator.languages&&navigator.languages[0]||navigator.language||navigator.userLanguage,yv=function(e){function t(e){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(a=dv(this,mv(t).call(this,e))).state={settings:null},a.environments=[],a}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fv(e,t)}(t,n["Component"]),a=t,(r=[{key:"componentDidMount",value:function(){var e=this,t=Ka.a.getUser(),a=(new _).getSettings();t?(this.setState({user:t}),a.then(function(t){return e.setState({settings:t})})):(Ka.a.getUserFromToken().then(function(t){return e.setState({user:t})}),a.then(function(t){return e.setState({settings:t})}))}},{key:"render",value:function(){var e=this.state.user||Ka.a.getUser(),t=i.a.createElement(tv,{avatar:i.a.createElement(bb,{user:e}),user:e}),a=this.state.settings;return e?a&&i.a.createElement(Zr,{value:{settings:a,user:e}},i.a.createElement(c.a,{theme:hv},i.a.createElement(cv,null,i.a.createElement(Xy,{header:t},i.a.createElement(l.Switch,null,i.a.createElement(l.Redirect,{exact:!0,from:"/",to:"/apis"}),i.a.createElement(l.Route,{path:"/apis",component:Jy}),i.a.createElement(l.Route,{path:"/api-products",component:Jy}),i.a.createElement(l.Route,{component:f})))))):i.a.createElement(d.b,{locale:gv,messages:this.state.messages},i.a.createElement(Qr,null))}}])&&pv(a.prototype,r),o&&pv(a,o),t}();yv.propTypes={user:o.a.shape({}).isRequired}},801:function(e,t){t.downloadFile=function(e){var t="",a=e.headers["content-disposition"];if(a&&-1!==a.indexOf("attachment")){var n=/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/.exec(a);null!=n&&n[1]&&(t=n[1].replace(/['"]/g,""))}var i=e.headers["content-type"],r=new Blob([e.data],{type:i});if(void 0!==window.navigator.msSaveBlob)window.navigator.msSaveBlob(r,t);else{var o=window.URL||window.webkitURL,l=o.createObjectURL(r);if(t){var s=document.createElement("a");void 0===s.download?window.location=l:(s.href=l,s.download=t,document.body.appendChild(s),s.click())}else window.location=l;setTimeout(function(){o.revokeObjectURL(l)},100)}}}}]);
//# sourceMappingURL=ProtectedApp.bundle.js.map